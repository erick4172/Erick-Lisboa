(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Hd={exports:{}},qo={};var W_;function X1(){if(W_)return qo;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return qo.Fragment=e,qo.jsx=i,qo.jsxs=i,qo}var e0;function $1(){return e0||(e0=1,Hd.exports=X1()),Hd.exports}var y=$1(),Fd={exports:{}},Se={};var t0;function J1(){if(t0)return Se;t0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,re={};function ge(M,F,se){this.props=M,this.context=F,this.refs=re,this.updater=se||ee}ge.prototype.isReactComponent={},ge.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},ge.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ce(){}Ce.prototype=ge.prototype;function be(M,F,se){this.props=M,this.context=F,this.refs=re,this.updater=se||ee}var ot=be.prototype=new Ce;ot.constructor=be,ae(ot,ge.prototype),ot.isPureReactComponent=!0;var pt=Array.isArray;function Qe(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,F,se){var ue=se.ref;return{$$typeof:s,type:M,key:F,ref:ue!==void 0?ue:null,props:se}}function k(M,F){return R(M.type,F,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function j(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return F[se]})}var C=/\/+/g;function Ke(M,F){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):F.toString(36)}function St(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Qe,Qe):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,F,se,ue,_e){var W=typeof M;(W==="undefined"||W==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(W){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case s:case e:xe=!0;break;case S:return xe=M._init,G(xe(M._payload),F,se,ue,_e)}}if(xe)return _e=_e(M),xe=ue===""?"."+Ke(M,0):ue,pt(_e)?(se="",xe!=null&&(se=xe.replace(C,"$&/")+"/"),G(_e,F,se,"",function(Mi){return Mi})):_e!=null&&(D(_e)&&(_e=k(_e,se+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+xe)),F.push(_e)),1;xe=0;var kt=ue===""?".":ue+":";if(pt(M))for(var $e=0;$e<M.length;$e++)ue=M[$e],W=kt+Ke(ue,$e),xe+=G(ue,F,se,W,_e);else if($e=K(M),typeof $e=="function")for(M=$e.call(M),$e=0;!(ue=M.next()).done;)ue=ue.value,W=kt+Ke(ue,$e++),xe+=G(ue,F,se,W,_e);else if(W==="object"){if(typeof M.then=="function")return G(St(M),F,se,ue,_e);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return xe}function te(M,F,se){if(M==null)return M;var ue=[],_e=0;return G(M,ue,"","",function(W){return F.call(se,W,_e++)}),ue}function de(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Xe={map:te,forEach:function(M,F,se){te(M,function(){F.apply(this,arguments)},se)},count:function(M){var F=0;return te(M,function(){F++}),F},toArray:function(M){return te(M,function(F){return F})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=x,Se.Children=Xe,Se.Component=ge,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=be,Se.StrictMode=a,Se.Suspense=b,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,F,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=ae({},M.props),_e=M.key;if(F!=null)for(W in F.key!==void 0&&(_e=""+F.key),F)!w.call(F,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&F.ref===void 0||(ue[W]=F[W]);var W=arguments.length-2;if(W===1)ue.children=se;else if(1<W){for(var xe=Array(W),kt=0;kt<W;kt++)xe[kt]=arguments[kt+2];ue.children=xe}return R(M.type,_e,ue)},Se.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Se.createElement=function(M,F,se){var ue,_e={},W=null;if(F!=null)for(ue in F.key!==void 0&&(W=""+F.key),F)w.call(F,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=F[ue]);var xe=arguments.length-2;if(xe===1)_e.children=se;else if(1<xe){for(var kt=Array(xe),$e=0;$e<xe;$e++)kt[$e]=arguments[$e+2];_e.children=kt}if(M&&M.defaultProps)for(ue in xe=M.defaultProps,xe)_e[ue]===void 0&&(_e[ue]=xe[ue]);return R(M,W,_e)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:g,render:M}},Se.isValidElement=D,Se.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:de}},Se.memo=function(M,F){return{$$typeof:_,type:M,compare:F===void 0?null:F}},Se.startTransition=function(M){var F=I.T,se={};I.T=se;try{var ue=M(),_e=I.S;_e!==null&&_e(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Qe,Ue)}catch(W){Ue(W)}finally{F!==null&&se.types!==null&&(F.types=se.types),I.T=F}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(M){return I.H.use(M)},Se.useActionState=function(M,F,se){return I.H.useActionState(M,F,se)},Se.useCallback=function(M,F){return I.H.useCallback(M,F)},Se.useContext=function(M){return I.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,F){return I.H.useDeferredValue(M,F)},Se.useEffect=function(M,F){return I.H.useEffect(M,F)},Se.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(M,F,se){return I.H.useImperativeHandle(M,F,se)},Se.useInsertionEffect=function(M,F){return I.H.useInsertionEffect(M,F)},Se.useLayoutEffect=function(M,F){return I.H.useLayoutEffect(M,F)},Se.useMemo=function(M,F){return I.H.useMemo(M,F)},Se.useOptimistic=function(M,F){return I.H.useOptimistic(M,F)},Se.useReducer=function(M,F,se){return I.H.useReducer(M,F,se)},Se.useRef=function(M){return I.H.useRef(M)},Se.useState=function(M){return I.H.useState(M)},Se.useSyncExternalStore=function(M,F,se){return I.H.useSyncExternalStore(M,F,se)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.3",Se}var n0;function zm(){return n0||(n0=1,Fd.exports=J1()),Fd.exports}var Oe=zm(),Gd={exports:{}},Ho={},Qd={exports:{}},Yd={};var i0;function Z1(){return i0||(i0=1,(function(s){function e(G,te){var de=G.length;G.push(te);e:for(;0<de;){var Ue=de-1>>>1,Xe=G[Ue];if(0<o(Xe,te))G[Ue]=te,G[de]=Xe,de=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var te=G[0],de=G.pop();if(de!==te){G[0]=de;e:for(var Ue=0,Xe=G.length,M=Xe>>>1;Ue<M;){var F=2*(Ue+1)-1,se=G[F],ue=F+1,_e=G[ue];if(0>o(se,de))ue<Xe&&0>o(_e,se)?(G[Ue]=_e,G[ue]=de,Ue=ue):(G[Ue]=se,G[F]=de,Ue=F);else if(ue<Xe&&0>o(_e,de))G[Ue]=_e,G[ue]=de,Ue=ue;else break e}}return te}function o(G,te){var de=G.sortIndex-te.sortIndex;return de!==0?de:G.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var b=[],_=[],S=1,x=null,V=3,K=!1,ee=!1,ae=!1,re=!1,ge=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function ot(G){for(var te=i(_);te!==null;){if(te.callback===null)a(_);else if(te.startTime<=G)a(_),te.sortIndex=te.expirationTime,e(b,te);else break;te=i(_)}}function pt(G){if(ae=!1,ot(G),!ee)if(i(b)!==null)ee=!0,Qe||(Qe=!0,j());else{var te=i(_);te!==null&&St(pt,te.startTime-G)}}var Qe=!1,I=-1,w=5,R=-1;function k(){return re?!0:!(s.unstable_now()-R<w)}function D(){if(re=!1,Qe){var G=s.unstable_now();R=G;var te=!0;try{e:{ee=!1,ae&&(ae=!1,Ce(I),I=-1),K=!0;var de=V;try{t:{for(ot(G),x=i(b);x!==null&&!(x.expirationTime>G&&k());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,V=x.priorityLevel;var Xe=Ue(x.expirationTime<=G);if(G=s.unstable_now(),typeof Xe=="function"){x.callback=Xe,ot(G),te=!0;break t}x===i(b)&&a(b),ot(G)}else a(b);x=i(b)}if(x!==null)te=!0;else{var M=i(_);M!==null&&St(pt,M.startTime-G),te=!1}}break e}finally{x=null,V=de,K=!1}te=void 0}}finally{te?j():Qe=!1}}}var j;if(typeof be=="function")j=function(){be(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ke=C.port2;C.port1.onmessage=D,j=function(){Ke.postMessage(null)}}else j=function(){ge(D,0)};function St(G,te){I=ge(function(){G(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var te=3;break;default:te=V}var de=V;V=te;try{return G()}finally{V=de}},s.unstable_requestPaint=function(){re=!0},s.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var de=V;V=G;try{return te()}finally{V=de}},s.unstable_scheduleCallback=function(G,te,de){var Ue=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ue+de:Ue):de=Ue,G){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=de+Xe,G={id:S++,callback:te,priorityLevel:G,startTime:de,expirationTime:Xe,sortIndex:-1},de>Ue?(G.sortIndex=de,e(_,G),i(b)===null&&G===i(_)&&(ae?(Ce(I),I=-1):ae=!0,St(pt,de-Ue))):(G.sortIndex=Xe,e(b,G),ee||K||(ee=!0,Qe||(Qe=!0,j()))),G},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(G){var te=V;return function(){var de=V;V=te;try{return G.apply(this,arguments)}finally{V=de}}}})(Yd)),Yd}var s0;function W1(){return s0||(s0=1,Qd.exports=Z1()),Qd.exports}var Kd={exports:{}},yn={};var r0;function eA(){if(r0)return yn;r0=1;var s=zm();function e(b){var _="https://react.dev/errors/"+b;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+b+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(b,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:b,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(b,_){if(b==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(b,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(b,_,null,S)},yn.flushSync=function(b){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,b)return b()}finally{d.T=_,a.p=S,a.d.f()}},yn.preconnect=function(b,_){typeof b=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(b,_))},yn.prefetchDNS=function(b){typeof b=="string"&&a.d.D(b)},yn.preinit=function(b,_){if(typeof b=="string"&&_&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(b,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:V,fetchPriority:K}):S==="script"&&a.d.X(b,{crossOrigin:x,integrity:V,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},yn.preinitModule=function(b,_){if(typeof b=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);a.d.M(b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(b)},yn.preload=function(b,_){if(typeof b=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin);a.d.L(b,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},yn.preloadModule=function(b,_){if(typeof b=="string")if(_){var S=g(_.as,_.crossOrigin);a.d.m(b,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(b)},yn.requestFormReset=function(b){a.d.r(b)},yn.unstable_batchedUpdates=function(b,_){return b(_)},yn.useFormState=function(b,_,S){return d.H.useFormState(b,_,S)},yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var a0;function tA(){if(a0)return Kd.exports;a0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=eA(),Kd.exports}var l0;function nA(){if(l0)return Ho;l0=1;var s=W1(),e=zm(),i=tA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function b(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return b(h),t;if(f===l)return b(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=f;break}if(E===l){p=!0,l=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,l=h;break}if(E===l){p=!0,l=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),be=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case ge:return"Profiler";case re:return"StrictMode";case pt:return"Suspense";case Qe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case be:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ke(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ke(t(n))}catch{}}return null}var St=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ue=[],Xe=-1;function M(t){return{current:t}}function F(t){0>Xe||(t.current=Ue[Xe],Ue[Xe]=null,Xe--)}function se(t,n){Xe++,Ue[Xe]=t.current,t.current=n}var ue=M(null),_e=M(null),W=M(null),xe=M(null);function kt(t,n){switch(se(W,n),se(_e,t),se(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=T_(n),t=A_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ue),se(ue,t)}function $e(){F(ue),F(_e),F(W)}function Mi(t){t.memoizedState!==null&&se(xe,t);var n=ue.current,r=A_(n,t.type);n!==r&&(se(_e,t),se(ue,r))}function Vi(t){_e.current===t&&(F(ue),F(_e)),xe.current===t&&(F(xe),Po._currentValue=de)}var rs,_i;function Ln(t){if(rs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);rs=n&&n[1]||"",_i=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+_i}var js=!1;function ki(t,n){if(!t||js)return"";js=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),z=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{js=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ln(r):""}function Lr(t,n){switch(t.tag){case 26:case 27:case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return t.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return ki(t.type,!1);case 11:return ki(t.type.render,!1);case 1:return ki(t.type,!0);case 31:return Ln("Activity");default:return""}}function Us(t){try{var n="",r=null;do n+=Lr(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Rt=s.unstable_scheduleCallback,vi=s.unstable_cancelCallback,qt=s.unstable_shouldYield,ti=s.unstable_requestPaint,le=s.unstable_now,yt=s.unstable_getCurrentPriorityLevel,it=s.unstable_ImmediatePriority,wn=s.unstable_UserBlockingPriority,ji=s.unstable_NormalPriority,Fl=s.unstable_LowPriority,Ui=s.unstable_IdlePriority,Na=s.log,Ra=s.unstable_setDisableYieldValue,xn=null,en=null;function Cn(t){if(typeof Na=="function"&&Ra(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(xn,t)}catch{}}var xt=Math.clz32?Math.clz32:Ls,zr=Math.log,Ps=Math.LN2;function Ls(t){return t>>>=0,t===0?32:31-(zr(t)/Ps|0)|0}var ni=256,Pi=262144,It=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Nn(l):(p&=E,p!==0?h=Nn(p):r||(r=E&~t,r!==0&&(h=Nn(r))))):(E=l&~f,E!==0?h=Nn(E):p!==0?h=Nn(p):r||(r=l&~t,r!==0&&(h=Nn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Gl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function as(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zs(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-xt(r),$=1<<Q;E[Q]=0,N[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}r&=~$}l!==0&&ls(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function ls(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Br(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-xt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function qr(t,n){var r=n&-n;return r=(r&42)!==0?1:os(r),(r&(t.suspendedLanes|n))!==0?0:r}function os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Da(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function qn(t,n){var r=te.p;try{return te.p=t,n()}finally{te.p=r}}var Hn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Hn,Ht="__reactProps$"+Hn,T="__reactContainer$"+Hn,Z="__reactEvents$"+Hn,ie="__reactListeners$"+Hn,Ae="__reactHandles$"+Hn,Me="__reactResources$"+Hn,Ve="__reactMarker$"+Hn;function Ot(t){delete t[Dt],delete t[Ht],delete t[Z],delete t[ie],delete t[Ae]}function ln(t){var n=t[Dt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[T]||r[Dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=I_(t);t!==null;){if(r=t[Dt])return r;t=I_(t)}return n}t=r,r=t.parentNode}return null}function _t(t){if(t=t[Dt]||t[T]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function gn(t){var n=t[Me];return n||(n=t[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[Ve]=!0}var Hr=new Set,us={};function Fn(t,n){Li(t,n),Li(t+"Capture",n)}function Li(t,n){for(us[t]=n,t=0;t<n.length;t++)Hr.add(n[t])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yl={},Kl={};function Nu(t){return wt.call(Kl,t)?!0:wt.call(Yl,t)?!1:Ql.test(t)?Kl[t]=!0:(Yl[t]=!0,!1)}function Oa(t,n,r){if(Nu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ft(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Bs(t)?"checked":"value";t._valueTracker=Xl(t,n,""+t[n])}}function Fr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gr=/[\n"\\]/g;function Rn(t){return t.replace(Gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ma(t,n,r,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+sn(n)):t.value!==""+sn(n)&&(t.value=""+sn(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?$l(t,p,sn(n)):r!=null?$l(t,p,sn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+sn(E):t.removeAttribute("name")}function Ru(t,n,r,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}r=r!=null?""+sn(r):"",n=n!=null?""+sn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),st(t)}function $l(t,n,r){n==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function qs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+sn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Iu(t,n,r){if(n!=null&&(n=""+sn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+sn(r):""}function Hs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(St(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=sn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),st(t)}function In(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Du.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Zl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Jl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Jl(t,f,n[f])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return Fs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bi(){}var Wl=null;function ri(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,Bi=null;function Qr(t){var n=_t(t);if(n&&(t=n.stateNode)){var r=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ma(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Ht]||null;if(!h)throw Error(a(90));Ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Fr(l)}break e;case"textarea":Iu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&qs(t,!!r.multiple,n,!1)}}}var ja=!1;function Qs(t,n,r){if(ja)return t(n,r);ja=!0;try{var l=t(n);return l}finally{if(ja=!1,(Gs!==null||Bi!==null)&&(wc(),Gs&&(n=Gs,t=Bi,Bi=Gs=null,Qr(n),t)))for(n=0;n<t.length;n++)Qr(t[n])}}function Ei(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ht]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(ai)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Yr=!1}var qi=null,eo=null,Kr=null;function to(){if(Kr)return Kr;var t,n=eo,r=n.length,l,h="value"in qi?qi.value:qi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Kr=h.slice(t,1<l?1-l:void 0)}function Xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function Ti(){return!1}function on(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?cs:Ti,this.isPropagationStopped=Ti,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),n}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=on(hs),Ys=x({},hs,{view:0,detail:0}),no=on(Ys),Ks,Ua,Fi,Pa=x({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(Ks=t.screenX-Fi.screenX,Ua=t.screenY-Fi.screenY):Ua=Ks=0,Fi=t),Ks)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),io=on(Pa),$r=x({},Pa,{dataTransfer:0}),Mu=on($r),Vu=x({},Ys,{relatedTarget:0}),Jr=on(Vu),so=x({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=on(so),La=x({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=on(La),Uu=x({},hs,{data:0}),Gi=on(Uu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zu[t])?!!n[t]:!1}function Xs(){return Bu}var Tn=x({},Ys,{key:function(t){if(t.key){var n=Pu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(t){return t.type==="keypress"?Xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=on(Tn),Hu=x({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=on(Hu),u=x({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),m=on(u),v=x({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=on(v),P=x({},Pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=on(P),ne=x({},hs,{newState:0,oldState:0}),Ne=on(ne),jt=[9,13,27,32],We=ai&&"CompositionEvent"in window,Tt=null;ai&&"documentMode"in document&&(Tt=document.documentMode);var li=ai&&"TextEvent"in window&&!Tt,Qi=ai&&(!We||Tt&&8<Tt&&11>=Tt),Ai=" ",Si=!1;function Zr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function vT(t,n){switch(t){case"compositionend":return za(n);case"keypress":return n.which!==32?null:(Si=!0,Ai);case"textInput":return t=n.data,t===Ai&&Si?null:t;default:return null}}function bT(t,n){if(Ba)return t==="compositionend"||!We&&Zr(t,n)?(t=to(),Kr=eo=qi=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Qi&&n.locale!=="ko"?null:n.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ET[t.type]:n==="textarea"}function Vp(t,n,r,l){Gs?Bi?Bi.push(l):Bi=[l]:Gs=l,n=Oc(n,"onChange"),0<n.length&&(r=new Hi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ro=null,ao=null;function TT(t){g_(t,0)}function Fu(t){var n=dt(t);if(Fr(n))return t}function kp(t,n){if(t==="change")return n}var jp=!1;if(ai){var Xh;if(ai){var $h="oninput"in document;if(!$h){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),$h=typeof Up.oninput=="function"}Xh=$h}else Xh=!1;jp=Xh&&(!document.documentMode||9<document.documentMode)}function Pp(){ro&&(ro.detachEvent("onpropertychange",Lp),ao=ro=null)}function Lp(t){if(t.propertyName==="value"&&Fu(ao)){var n=[];Vp(n,ao,t,ri(t)),Qs(TT,n)}}function AT(t,n,r){t==="focusin"?(Pp(),ro=n,ao=r,ro.attachEvent("onpropertychange",Lp)):t==="focusout"&&Pp()}function ST(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(ao)}function wT(t,n){if(t==="click")return Fu(n)}function xT(t,n){if(t==="input"||t==="change")return Fu(n)}function CT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Qn=typeof Object.is=="function"?Object.is:CT;function lo(t,n){if(Qn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!wt.call(n,h)||!Qn(t[h],n[h]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,n){var r=zp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zp(r)}}function qp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=zi(t.document)}return n}function Jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var NT=ai&&"documentMode"in document&&11>=document.documentMode,qa=null,Zh=null,oo=null,Wh=!1;function Fp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wh||qa==null||qa!==zi(l)||(l=qa,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),oo&&lo(oo,l)||(oo=l,l=Oc(Zh,"onSelect"),0<l.length&&(n=new Hi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=qa)))}function Wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ha={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},ef={},Gp={};ai&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function ea(t){if(ef[t])return ef[t];if(!Ha[t])return t;var n=Ha[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gp)return ef[t]=n[r];return t}var Qp=ea("animationend"),Yp=ea("animationiteration"),Kp=ea("animationstart"),RT=ea("transitionrun"),IT=ea("transitionstart"),DT=ea("transitioncancel"),Xp=ea("transitionend"),$p=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function wi(t,n){$p.set(t,n),Fn(n,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},oi=[],Fa=0,nf=0;function Qu(){for(var t=Fa,n=nf=Fa=0;n<t;){var r=oi[n];oi[n++]=null;var l=oi[n];oi[n++]=null;var h=oi[n];oi[n++]=null;var f=oi[n];if(oi[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Jp(r,h,f)}}function Yu(t,n,r,l){oi[Fa++]=t,oi[Fa++]=n,oi[Fa++]=r,oi[Fa++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sf(t,n,r,l){return Yu(t,n,r,l),Ku(t)}function ta(t,n){return Yu(t,null,null,n),Ku(t)}function Jp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-xt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ku(t){if(50<Do)throw Do=0,dd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function OT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,n,r,l){return new OT(t,n,r,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ds(t,n){var r=t.alternate;return r===null?(r=Yn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Zp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")rf(t)&&(p=1);else if(typeof t=="string")p=U1(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Yn(31,r,n,h),t.elementType=R,t.lanes=f,t;case ae:return na(r.children,h,f,n);case re:p=8,h|=24;break;case ge:return t=Yn(12,r,n,h|2),t.elementType=ge,t.lanes=f,t;case pt:return t=Yn(13,r,n,h),t.elementType=pt,t.lanes=f,t;case Qe:return t=Yn(19,r,n,h),t.elementType=Qe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:p=10;break e;case Ce:p=9;break e;case ot:p=11;break e;case I:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Yn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function na(t,n,r,l){return t=Yn(7,t,l,n),t.lanes=r,t}function af(t,n,r){return t=Yn(6,t,null,n),t.lanes=r,t}function Wp(t){var n=Yn(18,null,null,0);return n.stateNode=t,n}function lf(t,n,r){return n=Yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var eg=new WeakMap;function ui(t,n){if(typeof t=="object"&&t!==null){var r=eg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Us(n)},eg.set(t,n),n)}return{value:t,source:n,stack:Us(n)}}var Qa=[],Ya=0,$u=null,uo=0,ci=[],hi=0,$s=null,Yi=1,Ki="";function ms(t,n){Qa[Ya++]=uo,Qa[Ya++]=$u,$u=t,uo=n}function tg(t,n,r){ci[hi++]=Yi,ci[hi++]=Ki,ci[hi++]=$s,$s=t;var l=Yi;t=Ki;var h=32-xt(l)-1;l&=~(1<<h),r+=1;var f=32-xt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Yi=1<<32-xt(n)+h|r<<h|l,Ki=f+t}else Yi=1<<f|r<<h|l,Ki=t}function of(t){t.return!==null&&(ms(t,1),tg(t,1,0))}function uf(t){for(;t===$u;)$u=Qa[--Ya],Qa[Ya]=null,uo=Qa[--Ya],Qa[Ya]=null;for(;t===$s;)$s=ci[--hi],ci[hi]=null,Ki=ci[--hi],ci[hi]=null,Yi=ci[--hi],ci[hi]=null}function ng(t,n){ci[hi++]=Yi,ci[hi++]=Ki,ci[hi++]=$s,Yi=n.id,Ki=n.overflow,$s=t}var un=null,vt=null,Ge=!1,Js=null,fi=!1,cf=Error(a(519));function Zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw co(ui(n,t)),cf}function ig(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Dt]=t,n[Ht]=l,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(r=0;r<Mo.length;r++)Le(Mo[r],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),Ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),Hs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||b_(n.textContent,r)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=bi),n=!0):n=!1,n||Zs(t,!0)}function sg(t){for(un=t.return;un;)switch(un.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:un=un.return}}function Ka(t){if(t!==un)return!1;if(!Ge)return sg(t),Ge=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Nd(t.type,t.memoizedProps)),r=!r),r&&vt&&Zs(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=R_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=R_(t)}else n===27?(n=vt,fr(t.type)?(t=Md,Md=null,vt=t):vt=n):vt=un?mi(t.stateNode.nextSibling):null;return!0}function ia(){vt=un=null,Ge=!1}function hf(){var t=Js;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),Js=null),t}function co(t){Js===null?Js=[t]:Js.push(t)}var ff=M(null),sa=null,ps=null;function Ws(t,n,r){se(ff,n._currentValue),n._currentValue=r}function gs(t){t._currentValue=ff.current,F(ff)}function df(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function mf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),df(f.return,r,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),df(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Xa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Qn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===xe.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}h=h.return}t!==null&&mf(n,t,r,l),n.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){sa=t,ps=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return rg(sa,t)}function Zu(t,n){return sa===null&&ra(t),rg(t,n)}function rg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ps===null){if(t===null)throw Error(a(308));ps=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ps=ps.next=n;return r}var MT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},VT=s.unstable_scheduleCallback,kT=s.unstable_NormalPriority,Gt={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new MT,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&VT(kT,function(){t.controller.abort()})}var fo=null,gf=0,$a=0,Ja=null;function jT(t,n){if(fo===null){var r=fo=[];gf=0,$a=vd(),Ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return gf++,n.then(ag,ag),n}function ag(){if(--gf===0&&fo!==null){Ja!==null&&(Ja.status="fulfilled");var t=fo;fo=null,$a=0,Ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function UT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var lg=G.S;G.S=function(t,n){Fy=le(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jT(t,n),lg!==null&&lg(t,n)};var aa=M(null);function yf(){var t=aa.current;return t!==null?t:mt.pooledCache}function Wu(t,n){n===null?se(aa,aa.current):se(aa,n.pool)}function og(){var t=yf();return t===null?null:{parent:Gt._currentValue,pool:t}}var Za=Error(a(460)),_f=Error(a(474)),ec=Error(a(542)),tc={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(bi,bi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t;default:if(typeof n.status=="string")n.then(bi,bi);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t}throw oa=n,Za}}function la(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(oa=r,Za):r}}var oa=null;function hg(){if(oa===null)throw Error(a(459));var t=oa;return oa=null,t}function fg(t){if(t===Za||t===ec)throw Error(a(483))}var Wa=null,mo=0;function nc(t){var n=mo;return mo+=1,Wa===null&&(Wa=[]),cg(Wa,t,n)}function po(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ic(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){function n(U,O){if(t){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function r(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=ds(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=67108866,O):L):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,L,Y){return O===null||O.tag!==6?(O=af(L,U.mode,Y),O.return=U,O):(O=h(O,L),O.return=U,O)}function N(U,O,L,Y){var me=L.type;return me===ae?Q(U,O,L.props.children,Y,L.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&la(me)===O.type)?(O=h(O,L.props),po(O,L),O.return=U,O):(O=Xu(L.type,L.key,L.props,null,U.mode,Y),po(O,L),O.return=U,O)}function z(U,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=lf(L,U.mode,Y),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function Q(U,O,L,Y,me){return O===null||O.tag!==7?(O=na(L,U.mode,Y,me),O.return=U,O):(O=h(O,L),O.return=U,O)}function $(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=af(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return L=Xu(O.type,O.key,O.props,null,U.mode,L),po(L,O),L.return=U,L;case ee:return O=lf(O,U.mode,L),O.return=U,O;case w:return O=la(O),$(U,O,L)}if(St(O)||j(O))return O=na(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return $(U,nc(O),L);if(O.$$typeof===be)return $(U,Zu(U,O),L);ic(U,O)}return null}function B(U,O,L,Y){var me=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return me!==null?null:E(U,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===me?N(U,O,L,Y):null;case ee:return L.key===me?z(U,O,L,Y):null;case w:return L=la(L),B(U,O,L,Y)}if(St(L)||j(L))return me!==null?null:Q(U,O,L,Y,null);if(typeof L.then=="function")return B(U,O,nc(L),Y);if(L.$$typeof===be)return B(U,O,Zu(U,L),Y);ic(U,L)}return null}function H(U,O,L,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(L)||null,E(O,U,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return U=U.get(Y.key===null?L:Y.key)||null,N(O,U,Y,me);case ee:return U=U.get(Y.key===null?L:Y.key)||null,z(O,U,Y,me);case w:return Y=la(Y),H(U,O,L,Y,me)}if(St(Y)||j(Y))return U=U.get(L)||null,Q(O,U,Y,me,null);if(typeof Y.then=="function")return H(U,O,L,nc(Y),me);if(Y.$$typeof===be)return H(U,O,L,Zu(O,Y),me);ic(O,Y)}return null}function he(U,O,L,Y){for(var me=null,Je=null,fe=O,Ie=O=0,Be=null;fe!==null&&Ie<L.length;Ie++){fe.index>Ie?(Be=fe,fe=null):Be=fe.sibling;var Ze=B(U,fe,L[Ie],Y);if(Ze===null){fe===null&&(fe=Be);break}t&&fe&&Ze.alternate===null&&n(U,fe),O=f(Ze,O,Ie),Je===null?me=Ze:Je.sibling=Ze,Je=Ze,fe=Be}if(Ie===L.length)return r(U,fe),Ge&&ms(U,Ie),me;if(fe===null){for(;Ie<L.length;Ie++)fe=$(U,L[Ie],Y),fe!==null&&(O=f(fe,O,Ie),Je===null?me=fe:Je.sibling=fe,Je=fe);return Ge&&ms(U,Ie),me}for(fe=l(fe);Ie<L.length;Ie++)Be=H(fe,U,Ie,L[Ie],Y),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ie:Be.key),O=f(Be,O,Ie),Je===null?me=Be:Je.sibling=Be,Je=Be);return t&&fe.forEach(function(yr){return n(U,yr)}),Ge&&ms(U,Ie),me}function ye(U,O,L,Y){if(L==null)throw Error(a(151));for(var me=null,Je=null,fe=O,Ie=O=0,Be=null,Ze=L.next();fe!==null&&!Ze.done;Ie++,Ze=L.next()){fe.index>Ie?(Be=fe,fe=null):Be=fe.sibling;var yr=B(U,fe,Ze.value,Y);if(yr===null){fe===null&&(fe=Be);break}t&&fe&&yr.alternate===null&&n(U,fe),O=f(yr,O,Ie),Je===null?me=yr:Je.sibling=yr,Je=yr,fe=Be}if(Ze.done)return r(U,fe),Ge&&ms(U,Ie),me;if(fe===null){for(;!Ze.done;Ie++,Ze=L.next())Ze=$(U,Ze.value,Y),Ze!==null&&(O=f(Ze,O,Ie),Je===null?me=Ze:Je.sibling=Ze,Je=Ze);return Ge&&ms(U,Ie),me}for(fe=l(fe);!Ze.done;Ie++,Ze=L.next())Ze=H(fe,U,Ie,Ze.value,Y),Ze!==null&&(t&&Ze.alternate!==null&&fe.delete(Ze.key===null?Ie:Ze.key),O=f(Ze,O,Ie),Je===null?me=Ze:Je.sibling=Ze,Je=Ze);return t&&fe.forEach(function(K1){return n(U,K1)}),Ge&&ms(U,Ie),me}function ft(U,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===ae&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:e:{for(var me=L.key;O!==null;){if(O.key===me){if(me=L.type,me===ae){if(O.tag===7){r(U,O.sibling),Y=h(O,L.props.children),Y.return=U,U=Y;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&la(me)===O.type){r(U,O.sibling),Y=h(O,L.props),po(Y,L),Y.return=U,U=Y;break e}r(U,O);break}else n(U,O);O=O.sibling}L.type===ae?(Y=na(L.props.children,U.mode,Y,L.key),Y.return=U,U=Y):(Y=Xu(L.type,L.key,L.props,null,U.mode,Y),po(Y,L),Y.return=U,U=Y)}return p(U);case ee:e:{for(me=L.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(U,O.sibling),Y=h(O,L.children||[]),Y.return=U,U=Y;break e}else{r(U,O);break}else n(U,O);O=O.sibling}Y=lf(L,U.mode,Y),Y.return=U,U=Y}return p(U);case w:return L=la(L),ft(U,O,L,Y)}if(St(L))return he(U,O,L,Y);if(j(L)){if(me=j(L),typeof me!="function")throw Error(a(150));return L=me.call(L),ye(U,O,L,Y)}if(typeof L.then=="function")return ft(U,O,nc(L),Y);if(L.$$typeof===be)return ft(U,O,Zu(U,L),Y);ic(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(U,O.sibling),Y=h(O,L),Y.return=U,U=Y):(r(U,O),Y=af(L,U.mode,Y),Y.return=U,U=Y),p(U)):r(U,O)}return function(U,O,L,Y){try{mo=0;var me=ft(U,O,L,Y);return Wa=null,me}catch(fe){if(fe===Za||fe===ec)throw fe;var Je=Yn(29,fe,null,U.mode);return Je.lanes=Y,Je.return=U,Je}}}var ua=dg(!0),mg=dg(!1),er=!1;function vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function nr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ku(t),Jp(t,null,r),n}return Yu(t,l,n,r),Ku(t)}function go(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Br(t,r)}}function Ef(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Tf=!1;function yo(){if(Tf){var t=Ja;if(t!==null)throw t}}function _o(t,n,r,l){Tf=!1;var h=t.updateQueue;er=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,p===null?f=z:p.next=z,p=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;p=0,Q=z=N=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(ze&B)===B:(l&B)===B){B!==0&&B===$a&&(Tf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,ye=E;B=n;var ft=r;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){$=he.call(ft,$,B);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,B=typeof he=="function"?he.call(ft,$,B):he,B==null)break e;$=x({},$,B);break e;case 2:er=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,N=$):Q=Q.next=H,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=$),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),lr|=p,t.lanes=p,t.memoizedState=$}}function pg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function gg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pg(r[t],n)}var el=M(null),sc=M(0);function yg(t,n){t=ws,se(sc,t),se(el,n),ws=t|n.baseLanes}function Af(){se(sc,ws),se(el,el.current)}function Sf(){ws=sc.current,F(el),F(sc)}var Kn=M(null),di=null;function ir(t){var n=t.alternate;se(Ut,Ut.current&1),se(Kn,t),di===null&&(n===null||el.current!==null||n.memoizedState!==null)&&(di=t)}function wf(t){se(Ut,Ut.current),se(Kn,t),di===null&&(di=t)}function _g(t){t.tag===22?(se(Ut,Ut.current),se(Kn,t),di===null&&(di=t)):sr()}function sr(){se(Ut,Ut.current),se(Kn,Kn.current)}function Xn(t){F(Kn),di===t&&(di=null),F(Ut)}var Ut=M(0);function rc(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Dd(r)||Od(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ys=0,Re=null,ct=null,Qt=null,ac=!1,tl=!1,ca=!1,lc=0,vo=0,nl=null,PT=0;function Mt(){throw Error(a(321))}function xf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Qn(t[r],n[r]))return!1;return!0}function Cf(t,n,r,l,h,f){return ys=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ty:qf,ca=!1,f=r(l,h),ca=!1,tl&&(f=bg(n,r,l,h)),vg(t),f}function vg(t){G.H=To;var n=ct!==null&&ct.next!==null;if(ys=0,Qt=ct=Re=null,ac=!1,vo=0,nl=null,n)throw Error(a(300));t===null||Yt||(t=t.dependencies,t!==null&&Ju(t)&&(Yt=!0))}function bg(t,n,r,l){Re=t;var h=0;do{if(tl&&(nl=null),vo=0,tl=!1,25<=h)throw Error(a(301));if(h+=1,Qt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ny,f=n(r,l)}while(tl);return f}function LT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?bo(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Re.flags|=1024),n}function Nf(){var t=lc!==0;return lc=0,t}function Rf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function If(t){if(ac){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ac=!1}ys=0,Qt=ct=Re=null,tl=!1,vo=lc=0,nl=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Re.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Pt(){if(ct===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Qt===null?Re.memoizedState:Qt.next;if(n!==null)Qt=n,ct=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Qt===null?Re.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(t){var n=vo;return vo+=1,nl===null&&(nl=[]),t=cg(nl,t,n),n=Re,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ty:qf),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bo(t);if(t.$$typeof===be)return cn(t)}throw Error(a(438,String(t)))}function Df(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=oc(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=k;return n.index++,r}function _s(t,n){return typeof n=="function"?n(t):n}function cc(t){var n=Pt();return Of(n,ct,t)}function Of(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,N=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(ze&$)===$:(ys&$)===$){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===$a&&(Q=!0);else if((ys&B)===B){z=z.next,B===$a&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=$,p=f):N=N.next=$,Re.lanes|=B,lr|=B;$=z.action,ca&&r(f,$),f=z.hasEagerState?z.eagerState:r(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=B,p=f):N=N.next=B,Re.lanes|=$,lr|=$;z=z.next}while(z!==null&&z!==n);if(N===null?p=f:N.next=E,!Qn(f,t.memoizedState)&&(Yt=!0,Q&&(r=Ja,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mf(t){var n=Pt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Qn(f,n.memoizedState)||(Yt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Eg(t,n,r){var l=Re,h=Pt(),f=Ge;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Qn((ct||h).memoizedState,r);if(p&&(h.memoizedState=r,Yt=!0),h=h.queue,jf(Sg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,il(9,{destroy:void 0},Ag.bind(null,l,h,r,n),null),mt===null)throw Error(a(349));f||(ys&127)!==0||Tg(l,n,r)}return r}function Tg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=oc(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ag(t,n,r,l){n.value=r,n.getSnapshot=l,wg(n)&&xg(t)}function Sg(t,n,r){return r(function(){wg(n)&&xg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Qn(t,r)}catch{return!0}}function xg(t){var n=ta(t,2);n!==null&&kn(n,t,2)}function Vf(t){var n=An();if(typeof t=="function"){var r=t;if(t=r(),ca){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:t},n}function Cg(t,n,r,l){return t.baseState=r,Of(t,ct,typeof l=="function"?l:_s)}function zT(t,n,r,l,h){if(dc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Ng(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ng(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,l),N=G.S;N!==null&&N(p,E),Rg(t,n,E)}catch(z){kf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,l),Rg(t,n,f)}catch(z){kf(t,n,z)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ig(t,n,l)},function(l){return kf(t,n,l)}):Ig(t,n,r)}function Ig(t,n,r){n.status="fulfilled",n.value=r,Dg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ng(t,r)))}function kf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Dg(n),n=n.next;while(n!==l)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Og(t,n){return n}function Mg(t,n){if(Ge){var r=mt.formState;if(r!==null){e:{var l=Re;if(Ge){if(vt){t:{for(var h=vt,f=fi;h.nodeType!==8;){if(!f){h=null;break t}if(h=mi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=mi(h.nextSibling),l=h.data==="F!";break e}}Zs(l)}l=!1}l&&(n=r[0])}}return r=An(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},r.queue=l,r=Zg.bind(null,Re,l),l.dispatch=r,l=Vf(!1),f=Bf.bind(null,Re,!1,l.queue),l=An(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=zT.bind(null,Re,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Vg(t){var n=Pt();return kg(n,ct,t)}function kg(t,n,r){if(n=Of(t,n,Og)[0],t=cc(_s)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bo(n)}catch(p){throw p===Za?ec:p}else l=n;n=Pt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,il(9,{destroy:void 0},BT.bind(null,h,r),null)),[l,f,t]}function BT(t,n){t.action=n}function jg(t){var n=Pt(),r=ct;if(r!==null)return kg(n,r,t);Pt(),n=n.memoizedState,r=Pt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function il(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=oc(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return Pt().memoizedState}function hc(t,n,r,l){var h=An();Re.flags|=t,h.memoizedState=il(1|n,{destroy:void 0},r,l===void 0?null:l)}function fc(t,n,r,l){var h=Pt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&xf(l,ct.memoizedState.deps)?h.memoizedState=il(n,f,r,l):(Re.flags|=t,h.memoizedState=il(1|n,f,r,l))}function Pg(t,n){hc(8390656,8,t,n)}function jf(t,n){fc(2048,8,t,n)}function qT(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=oc(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Lg(t){var n=Pt().memoizedState;return qT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function zg(t,n){return fc(4,2,t,n)}function Bg(t,n){return fc(4,4,t,n)}function qg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hg(t,n,r){r=r!=null?r.concat([t]):null,fc(4,4,qg.bind(null,n,t),r)}function Uf(){}function Fg(t,n){var r=Pt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&xf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Gg(t,n){var r=Pt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&xf(n,l[1]))return l[0];if(l=t(),ca){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function Pf(t,n,r){return r===void 0||(ys&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Qy(),Re.lanes|=t,lr|=t,r)}function Qg(t,n,r,l){return Qn(r,n)?r:el.current!==null?(t=Pf(t,r,l),Qn(t,n)||(Yt=!0),t):(ys&42)===0||(ys&1073741824)!==0&&(ze&261930)===0?(Yt=!0,t.memoizedState=r):(t=Qy(),Re.lanes|=t,lr|=t,n)}function Yg(t,n,r,l,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Bf(t,!1,n,r);try{var N=h(),z=G.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=UT(N,l);Eo(t,n,Q,Zn(t))}else Eo(t,n,l,Zn(t))}catch($){Eo(t,n,{then:function(){},status:"rejected",reason:$},Zn())}finally{te.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function HT(){}function Lf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Kg(t).queue;Yg(t,h,n,de,r===null?HT:function(){return Xg(t),r(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),Eo(t,n.next.queue,{},Zn())}function zf(){return cn(Po)}function $g(){return Pt().memoizedState}function Jg(){return Pt().memoizedState}function FT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Zn();t=tr(r);var l=nr(n,t,r);l!==null&&(kn(l,n,r),go(l,n,r)),n={cache:pf()},t.payload=n;return}n=n.return}}function GT(t,n,r){var l=Zn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},dc(t)?Wg(n,r):(r=sf(t,n,r,l),r!==null&&(kn(r,t,l),ey(r,n,l)))}function Zg(t,n,r){var l=Zn();Eo(t,n,r,l)}function Eo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Wg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Qn(E,p))return Yu(t,n,h,0),mt===null&&Qu(),!1}catch{}if(r=sf(t,n,h,l),r!==null)return kn(r,t,l),ey(r,n,l),!0}return!1}function Bf(t,n,r,l){if(l={lane:2,revertLane:vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(n)throw Error(a(479))}else n=sf(t,r,l,2),n!==null&&kn(n,t,2)}function dc(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Wg(t,n){tl=ac=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ey(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Br(t,r)}}var To={readContext:cn,use:uc,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};To.useEffectEvent=Mt;var ty={readContext:cn,use:uc,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:Pg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,hc(4194308,4,qg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return hc(4194308,4,t,n)},useInsertionEffect:function(t,n){hc(4,2,t,n)},useMemo:function(t,n){var r=An();n=n===void 0?null:n;var l=t();if(ca){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=An();if(r!==void 0){var h=r(n);if(ca){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=GT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=Vf(t);var n=t.queue,r=Zg.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Uf,useDeferredValue:function(t,n){var r=An();return Pf(r,t,n)},useTransition:function(){var t=Vf(!1);return t=Yg.bind(null,Re,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Re,h=An();if(Ge){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),mt===null)throw Error(a(349));(ze&127)!==0||Tg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Pg(Sg.bind(null,l,f,t),[t]),l.flags|=2048,il(9,{destroy:void 0},Ag.bind(null,l,f,r,n),null),r},useId:function(){var t=An(),n=mt.identifierPrefix;if(Ge){var r=Ki,l=Yi;r=(l&~(1<<32-xt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=lc++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=PT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Bf.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:Df,useCacheRefresh:function(){return An().memoizedState=FT.bind(null,Re)},useEffectEvent:function(t){var n=An(),r={impl:t};return n.memoizedState=r,function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},qf={readContext:cn,use:uc,useCallback:Fg,useContext:cn,useEffect:jf,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:cc,useRef:Ug,useState:function(){return cc(_s)},useDebugValue:Uf,useDeferredValue:function(t,n){var r=Pt();return Qg(r,ct.memoizedState,t,n)},useTransition:function(){var t=cc(_s)[0],n=Pt().memoizedState;return[typeof t=="boolean"?t:bo(t),n]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:zf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var r=Pt();return Cg(r,ct,t,n)},useMemoCache:Df,useCacheRefresh:Jg};qf.useEffectEvent=Lg;var ny={readContext:cn,use:uc,useCallback:Fg,useContext:cn,useEffect:jf,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Mf,useRef:Ug,useState:function(){return Mf(_s)},useDebugValue:Uf,useDeferredValue:function(t,n){var r=Pt();return ct===null?Pf(r,t,n):Qg(r,ct.memoizedState,t,n)},useTransition:function(){var t=Mf(_s)[0],n=Pt().memoizedState;return[typeof t=="boolean"?t:bo(t),n]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:zf,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var r=Pt();return ct!==null?Cg(r,ct,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Jg};ny.useEffectEvent=Lg;function Hf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ff={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Zn(),h=tr(l);h.payload=n,r!=null&&(h.callback=r),n=nr(t,h,l),n!==null&&(kn(n,t,l),go(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Zn(),h=tr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=nr(t,h,l),n!==null&&(kn(n,t,l),go(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Zn(),l=tr(r);l.tag=2,n!=null&&(l.callback=n),n=nr(t,l,r),n!==null&&(kn(n,t,r),go(n,t,r))}};function iy(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!lo(r,l)||!lo(h,f):!0}function sy(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Ff.enqueueReplaceState(n,n.state,null)}function ha(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ry(t){Gu(t)}function ay(t){console.error(t)}function ly(t){Gu(t)}function mc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function oy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(t,n,r){return r=tr(r),r.tag=3,r.payload={element:null},r.callback=function(){mc(t,n)},r}function uy(t){return t=tr(t),t.tag=3,t}function cy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){oy(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){oy(n,r,l),typeof h!="function"&&(or===null?or=new Set([this]):or.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function QT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Xa(n,r,h,!0),r=Kn.current,r!==null){switch(r.tag){case 31:case 13:return di===null?xc():r.alternate===null&&Vt===0&&(Vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===tc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),gd(t,l,h)),!1;case 22:return r.flags|=65536,l===tc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),gd(t,l,h)),!1}throw Error(a(435,r.tag))}return gd(t,l,h),xc(),!1}if(Ge)return n=Kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==cf&&(t=Error(a(422),{cause:l}),co(ui(t,r)))):(l!==cf&&(n=Error(a(423),{cause:l}),co(ui(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ui(l,r),h=Gf(t.stateNode,l,h),Ef(t,h),Vt!==4&&(Vt=2)),!1;var f=Error(a(520),{cause:l});if(f=ui(f,r),Io===null?Io=[f]:Io.push(f),Vt!==4&&(Vt=2),n===null)return!0;l=ui(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Gf(r.stateNode,l,t),Ef(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=uy(h),cy(h,t,r,l),Ef(r,h),!1}r=r.return}while(r!==null);return!1}var Qf=Error(a(461)),Yt=!1;function hn(t,n,r,l){n.child=t===null?mg(n,null,r,l):ua(n,t.child,r,l)}function hy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return ra(n),l=Cf(t,n,r,p,f,h),E=Nf(),t!==null&&!Yt?(Rf(t,n,h),vs(t,n,h)):(Ge&&E&&of(n),n.flags|=1,hn(t,n,l,h),n.child)}function fy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!rf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,dy(t,n,f,l,h)):(t=Xu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!ed(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:lo,r(p,l)&&t.ref===n.ref)return vs(t,n,h)}return n.flags|=1,t=ds(f,l),t.ref=n.ref,t.return=n,n.child=t}function dy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(lo(f,l)&&t.ref===n.ref)if(Yt=!1,n.pendingProps=l=f,ed(t,h))(t.flags&131072)!==0&&(Yt=!0);else return n.lanes=t.lanes,vs(t,n,h)}return Yf(t,n,r,l,h)}function my(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return py(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(n,f!==null?f.cachePool:null),f!==null?yg(n,f):Af(),_g(n);else return l=n.lanes=536870912,py(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Wu(n,f.cachePool),yg(n,f),sr(),n.memoizedState=null):(t!==null&&Wu(n,null),Af(),sr());return hn(t,n,h,r),n.child}function Ao(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function py(t,n,r,l,h){var f=yf();return f=f===null?null:{parent:Gt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Wu(n,null),Af(),_g(n),t!==null&&Xa(t,n,l,!0),n.childLanes=h,null}function pc(t,n){return n=yc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function gy(t,n,r){return ua(n,t.child,null,r),t=pc(n,n.pendingProps),t.flags|=2,Xn(n),n.memoizedState=null,t}function YT(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=pc(n,l),n.lanes=536870912,Ao(null,t);if(wf(n),(t=vt)?(t=N_(t,fi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},r=Wp(t),r.return=n,n.child=r,un=n,vt=null)):t=null,t===null)throw Zs(n);return n.lanes=536870912,null}return pc(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=gy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Yt||Xa(t,n,r,!1),h=(r&t.childLanes)!==0,Yt||h){if(l=mt,l!==null&&(p=qr(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,ta(t,p),kn(l,t,p),Qf;xc(),n=gy(t,n,r)}else t=f.treeContext,vt=mi(p.nextSibling),un=n,Ge=!0,Js=null,fi=!1,t!==null&&ng(n,t),n=pc(n,l),n.flags|=4096;return n}return t=ds(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Yf(t,n,r,l,h){return ra(n),r=Cf(t,n,r,l,void 0,h),l=Nf(),t!==null&&!Yt?(Rf(t,n,h),vs(t,n,h)):(Ge&&l&&of(n),n.flags|=1,hn(t,n,r,h),n.child)}function yy(t,n,r,l,h,f){return ra(n),n.updateQueue=null,r=bg(n,l,r,h),vg(t),l=Nf(),t!==null&&!Yt?(Rf(t,n,f),vs(t,n,f)):(Ge&&l&&of(n),n.flags|=1,hn(t,n,r,f),n.child)}function _y(t,n,r,l,h){if(ra(n),n.stateNode===null){var f=Ga,p=r.contextType;typeof p=="object"&&p!==null&&(f=cn(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},vf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?cn(p):Ga,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Hf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Ff.enqueueReplaceState(f,f.state,null),_o(n,l,f,h),yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=ha(r,E);f.props=N;var z=f.context,Q=r.contextType;p=Ga,typeof Q=="object"&&Q!==null&&(p=cn(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&sy(n,f,l,p),er=!1;var B=n.memoizedState;f.state=B,_o(n,l,f,h),yo(),z=n.memoizedState,E||B!==z||er?(typeof $=="function"&&(Hf(n,r,$,l),z=n.memoizedState),(N=er||iy(n,r,N,l,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,bf(t,n),p=n.memoizedProps,Q=ha(r,p),f.props=Q,$=n.pendingProps,B=f.context,z=r.contextType,N=Ga,typeof z=="object"&&z!==null&&(N=cn(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==N)&&sy(n,f,l,N),er=!1,B=n.memoizedState,f.state=B,_o(n,l,f,h),yo();var H=n.memoizedState;p!==$||B!==H||er||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof E=="function"&&(Hf(n,r,E,l),H=n.memoizedState),(Q=er||iy(n,r,Q,l,B,H,N)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ua(n,t.child,null,h),n.child=ua(n,null,r,h)):hn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=vs(t,n,h),t}function vy(t,n,r,l){return ia(),n.flags|=256,hn(t,n,r,l),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(t){return{baseLanes:t,cachePool:og()}}function $f(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Jn),t}function by(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ge){if(h?ir(n):sr(),(t=vt)?(t=N_(t,fi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:$s!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},r=Wp(t),r.return=n,n.child=r,un=n,vt=null)):t=null,t===null)throw Zs(n);return Od(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(sr(),h=n.mode,E=yc({mode:"hidden",children:E},h),l=na(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Xf(r),l.childLanes=$f(t,p,r),n.memoizedState=Kf,Ao(null,l)):(ir(n),Jf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(ir(n),n.flags&=-257,n=Zf(t,n,r)):n.memoizedState!==null?(sr(),n.child=t.child,n.flags|=128,n=null):(sr(),E=l.fallback,h=n.mode,l=yc({mode:"visible",children:l.children},h),E=na(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ua(n,t.child,null,r),l=n.child,l.memoizedState=Xf(r),l.childLanes=$f(t,p,r),n.memoizedState=Kf,n=Ao(null,l));else if(ir(n),Od(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,co({value:l,source:null,stack:null}),n=Zf(t,n,r)}else if(Yt||Xa(t,n,r,!1),p=(r&t.childLanes)!==0,Yt||p){if(p=mt,p!==null&&(l=qr(p,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,ta(t,l),kn(p,t,l),Qf;Dd(E)||xc(),n=Zf(t,n,r)}else Dd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,vt=mi(E.nextSibling),un=n,Ge=!0,Js=null,fi=!1,t!==null&&ng(n,t),n=Jf(n,l.children),n.flags|=4096);return n}return h?(sr(),E=l.fallback,h=n.mode,N=t.child,z=N.sibling,l=ds(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=ds(z,E):(E=na(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ao(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Xf(r):(h=E.cachePool,h!==null?(N=Gt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=og(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=$f(t,p,r),n.memoizedState=Kf,Ao(t.child,l)):(ir(n),r=t.child,t=r.sibling,r=ds(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Jf(t,n){return n=yc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yc(t,n){return t=Yn(22,t,null,n),t.lanes=0,t}function Zf(t,n,r){return ua(n,t.child,null,r),t=Jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ey(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),df(t.return,n,r)}function Wf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Ty(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ut.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,se(Ut,p),hn(t,n,l,r),l=Ge?uo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,r,n);else if(t.tag===19)Ey(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&rc(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Wf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Wf(n,!0,r,null,f,l);break;case"together":Wf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function vs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Xa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ds(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ds(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function ed(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function KT(t,n,r){switch(n.tag){case 3:kt(n,n.stateNode.containerInfo),Ws(n,Gt,t.memoizedState.cache),ia();break;case 27:case 5:Mi(n);break;case 4:kt(n,n.stateNode.containerInfo);break;case 10:Ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(n),n.flags|=128,null):(r&n.child.childLanes)!==0?by(t,n,r):(ir(n),t=vs(t,n,r),t!==null?t.sibling:null);ir(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Xa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Ty(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ut,Ut.current),l)break;return null;case 22:return n.lanes=0,my(t,n,r,n.pendingProps);case 24:Ws(n,Gt,t.memoizedState.cache)}return vs(t,n,r)}function Ay(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Yt=!0;else{if(!ed(t,r)&&(n.flags&128)===0)return Yt=!1,KT(t,n,r);Yt=(t.flags&131072)!==0}else Yt=!1,Ge&&(n.flags&1048576)!==0&&tg(n,uo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=la(n.elementType),n.type=t,typeof t=="function")rf(t)?(l=ha(t,l),n.tag=1,n=_y(null,n,t,l,r)):(n.tag=0,n=Yf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===ot){n.tag=11,n=hy(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=fy(null,n,t,l,r);break e}}throw n=Ke(t)||t,Error(a(306,n,""))}}return n;case 0:return Yf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=ha(l,n.pendingProps),_y(t,n,l,h,r);case 3:e:{if(kt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,bf(t,n),_o(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Ws(n,Gt,l),l!==f.cache&&mf(n,[Gt],r,!0),yo(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vy(t,n,l,r);break e}else if(l!==h){h=ui(Error(a(424)),n),co(h),n=vy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,vt=mi(t.firstChild),un=n,Ge=!0,Js=null,fi=!0,r=mg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ia(),l===h){n=vs(t,n,r);break e}hn(t,n,l,r)}n=n.child}return n;case 26:return gc(t,n),t===null?(r=V_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ge||(r=n.type,t=n.pendingProps,l=Mc(W.current).createElement(r),l[Dt]=n,l[Ht]=t,fn(l,r,t),Ct(l),n.stateNode=l):n.memoizedState=V_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Mi(n),t===null&&Ge&&(l=n.stateNode=D_(n.type,n.pendingProps,W.current),un=n,fi=!0,h=vt,fr(n.type)?(Md=h,vt=mi(l.firstChild)):vt=h),hn(t,n,n.pendingProps.children,r),gc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ge&&((h=l=vt)&&(l=S1(l,n.type,n.pendingProps,fi),l!==null?(n.stateNode=l,un=n,vt=mi(l.firstChild),fi=!1,h=!0):h=!1),h||Zs(n)),Mi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Nd(h,f)?l=null:p!==null&&Nd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Cf(t,n,LT,null,null,r),Po._currentValue=h),gc(t,n),hn(t,n,l,r),n.child;case 6:return t===null&&Ge&&((t=r=vt)&&(r=w1(r,n.pendingProps,fi),r!==null?(n.stateNode=r,un=n,vt=null,t=!0):t=!1),t||Zs(n)),null;case 13:return by(t,n,r);case 4:return kt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ua(n,null,l,r):hn(t,n,l,r),n.child;case 11:return hy(t,n,n.type,n.pendingProps,r);case 7:return hn(t,n,n.pendingProps,r),n.child;case 8:return hn(t,n,n.pendingProps.children,r),n.child;case 12:return hn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ws(n,n.type,l.value),hn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ra(n),h=cn(h),l=l(h),n.flags|=1,hn(t,n,l,r),n.child;case 14:return fy(t,n,n.type,n.pendingProps,r);case 15:return dy(t,n,n.type,n.pendingProps,r);case 19:return Ty(t,n,r);case 31:return YT(t,n,r);case 22:return my(t,n,r,n.pendingProps);case 24:return ra(n),l=cn(Gt),t===null?(h=yf(),h===null&&(h=mt,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},vf(n),Ws(n,Gt,h)):((t.lanes&r)!==0&&(bf(t,n),_o(n,null,null,r),yo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ws(n,Gt,l)):(l=f.cache,Ws(n,Gt,l),l!==h.cache&&mf(n,[Gt],r,!0))),hn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function bs(t){t.flags|=4}function td(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw oa=tc,_f}else t.flags&=-16777217}function Sy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(n))if($y())t.flags|=8192;else throw oa=tc,_f}function _c(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ia():536870912,t.lanes|=n,ll|=n)}function So(t,n){if(!Ge)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function XT(t,n,r){var l=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),gs(Gt),$e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ka(n)?bs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hf())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(bs(n),f!==null?(bt(n),Sy(n,f)):(bt(n),td(n,h,null,l,r))):f?f!==t.memoizedState?(bs(n),bt(n),Sy(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&bs(n),bt(n),td(n,h,t,l,r)),null;case 27:if(Vi(n),r=W.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return bt(n),null}t=ue.current,Ka(n)?ig(n):(t=D_(h,l,r),n.stateNode=t,bs(n))}return bt(n),null;case 5:if(Vi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&bs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return bt(n),null}if(f=ue.current,Ka(n))ig(n);else{var p=Mc(W.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Dt]=n,f[Ht]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(fn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bs(n)}}return bt(n),td(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&bs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=W.current,Ka(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,r)),t||Zs(n,!0)}else t=Mc(t).createTextNode(l),t[Dt]=n,n.stateNode=t}return bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ka(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=n}else ia(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else r=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Xn(n),n):(Xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ka(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=n}else ia(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Xn(n),n):(Xn(n),null)}return Xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),_c(n,n.updateQueue),bt(n),null);case 4:return $e(),t===null&&Ad(n.stateNode.containerInfo),bt(n),null;case 10:return gs(n.type),bt(n),null;case 19:if(F(Ut),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)So(l,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=rc(t),f!==null){for(n.flags|=128,So(l,!1),t=f.updateQueue,n.updateQueue=t,_c(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Zp(r,t),r=r.sibling;return se(Ut,Ut.current&1|2),Ge&&ms(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&le()>Ac&&(n.flags|=128,h=!0,So(l,!1),n.lanes=4194304)}else{if(!h)if(t=rc(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,_c(n,t),So(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ge)return bt(n),null}else 2*le()-l.renderingStartTime>Ac&&r!==536870912&&(n.flags|=128,h=!0,So(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=le(),t.sibling=null,r=Ut.current,se(Ut,h?r&1|2:r&1),Ge&&ms(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return Xn(n),Sf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),r=n.updateQueue,r!==null&&_c(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&F(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),gs(Gt),bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function $T(t,n){switch(uf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return gs(Gt),$e(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Vi(n),null;case 31:if(n.memoizedState!==null){if(Xn(n),n.alternate===null)throw Error(a(340));ia()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ia()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(Ut),null;case 4:return $e(),null;case 10:return gs(n.type),null;case 22:case 23:return Xn(n),Sf(),t!==null&&F(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return gs(Gt),null;case 25:return null;default:return null}}function wy(t,n){switch(uf(n),n.tag){case 3:gs(Gt),$e();break;case 26:case 27:case 5:Vi(n);break;case 4:$e();break;case 31:n.memoizedState!==null&&Xn(n);break;case 13:Xn(n);break;case 19:F(Ut);break;case 10:gs(n.type);break;case 22:case 23:Xn(n),Sf(),t!==null&&F(aa);break;case 24:gs(Gt)}}function wo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){at(n,n.return,E)}}function rr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=r,z=E;try{z()}catch(Q){at(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){at(n,n.return,Q)}}function xy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{gg(n,r)}catch(l){at(t,t.return,l)}}}function Cy(t,n,r){r.props=ha(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){at(t,n,l)}}function xo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){at(t,n,h)}}function Xi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){at(t,n,h)}else r.current=null}function Ny(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){at(t,t.return,h)}}function nd(t,n,r){try{var l=t.stateNode;_1(l,t.type,r,n),l[Ht]=n}catch(h){at(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fr(t.type)||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=bi));else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(sd(t,n,r),t=t.sibling;t!==null;)sd(t,n,r),t=t.sibling}function vc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&fr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(vc(t,n,r),t=t.sibling;t!==null;)vc(t,n,r),t=t.sibling}function Iy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);fn(n,l,r),n[Dt]=t,n[Ht]=r}catch(f){at(t,t.return,f)}}var Es=!1,Kt=!1,rd=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,rn=null;function JT(t,n){if(t=t.containerInfo,xd=zc,t=Hp(t),Jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,N=-1,z=0,Q=0,$=t,B=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(N=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===r&&++z===h&&(E=p),B===f&&++Q===l&&(N=p),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cd={focusedElem:t,selectionRange:r},zc=!1,rn=n;rn!==null;)if(n=rn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,rn=t;else for(;rn!==null;){switch(n=rn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var he=ha(r.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){at(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Id(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Id(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,rn=t;break}rn=n.return}}function Oy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:As(t,r),l&4&&wo(5,r);break;case 1:if(As(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){at(r,r.return,p)}else{var h=ha(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){at(r,r.return,p)}}l&64&&xy(r),l&512&&xo(r,r.return);break;case 3:if(As(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{gg(t,n)}catch(p){at(r,r.return,p)}}break;case 27:n===null&&l&4&&Iy(r);case 26:case 5:As(t,r),n===null&&l&4&&Ny(r),l&512&&xo(r,r.return);break;case 12:As(t,r);break;case 31:As(t,r),l&4&&ky(t,r);break;case 13:As(t,r),l&4&&jy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=a1.bind(null,r),x1(t,r))));break;case 22:if(l=r.memoizedState!==null||Es,!l){n=n!==null&&n.memoizedState!==null||Kt,h=Es;var f=Kt;Es=l,(Kt=n)&&!f?Ss(t,r,(r.subtreeFlags&8772)!==0):As(t,r),Es=h,Kt=f}break;case 30:break;default:As(t,r)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ot(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Dn=!1;function Ts(t,n,r){for(r=r.child;r!==null;)Vy(t,n,r),r=r.sibling}function Vy(t,n,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(xn,r)}catch{}switch(r.tag){case 26:Kt||Xi(r,n),Ts(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Kt||Xi(r,n);var l=At,h=Dn;fr(r.type)&&(At=r.stateNode,Dn=!1),Ts(t,n,r),ko(r.stateNode),At=l,Dn=h;break;case 5:Kt||Xi(r,n);case 6:if(l=At,h=Dn,At=null,Ts(t,n,r),At=l,Dn=h,At!==null)if(Dn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(r.stateNode)}catch(f){at(r,n,f)}else try{At.removeChild(r.stateNode)}catch(f){at(r,n,f)}break;case 18:At!==null&&(Dn?(t=At,x_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),pl(t)):x_(At,r.stateNode));break;case 4:l=At,h=Dn,At=r.stateNode.containerInfo,Dn=!0,Ts(t,n,r),At=l,Dn=h;break;case 0:case 11:case 14:case 15:rr(2,r,n),Kt||rr(4,r,n),Ts(t,n,r);break;case 1:Kt||(Xi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cy(r,n,l)),Ts(t,n,r);break;case 21:Ts(t,n,r);break;case 22:Kt=(l=Kt)||r.memoizedState!==null,Ts(t,n,r),Kt=l;break;default:Ts(t,n,r)}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{pl(t)}catch(r){at(n,n.return,r)}}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(r){at(n,n.return,r)}}function ZT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(a(435,t.tag))}}function bc(t,n){var r=ZT(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=l1.bind(null,t,l);l.then(h,h)}})}function On(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){At=E.stateNode,Dn=!1;break e}break;case 5:At=E.stateNode,Dn=!1;break e;case 3:case 4:At=E.stateNode.containerInfo,Dn=!0;break e}E=E.return}if(At===null)throw Error(a(160));Vy(f,p,h),At=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var xi=null;function Uy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(n,t),Mn(t),l&4&&(rr(3,t,t.return),wo(3,t),rr(5,t,t.return));break;case 1:On(n,t),Mn(t),l&512&&(Kt||r===null||Xi(r,r.return)),l&64&&Es&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=xi;if(On(n,t),Mn(t),l&512&&(Kt||r===null||Xi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ve]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,l,r),f[Dt]=t,Ct(f),l=f;break e;case"link":var p=U_("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),fn(f,l,r),h.head.appendChild(f);break;case"meta":if(p=U_("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(l),fn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Dt]=t,Ct(f),l=f}t.stateNode=l}else P_(h,t.type,t.stateNode);else t.stateNode=j_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?P_(h,t.type,t.stateNode):j_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nd(t,t.memoizedProps,r.memoizedProps)}break;case 27:On(n,t),Mn(t),l&512&&(Kt||r===null||Xi(r,r.return)),r!==null&&l&4&&nd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(On(n,t),Mn(t),l&512&&(Kt||r===null||Xi(r,r.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(he){at(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,nd(t,h,r!==null?r.memoizedProps:h)),l&1024&&(rd=!0);break;case 6:if(On(n,t),Mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){at(t,t.return,he)}}break;case 3:if(jc=null,h=xi,xi=Vc(n.containerInfo),On(n,t),xi=h,Mn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{pl(n.containerInfo)}catch(he){at(t,t.return,he)}rd&&(rd=!1,Py(t));break;case 4:l=xi,xi=Vc(t.stateNode.containerInfo),On(n,t),Mn(t),xi=l;break;case 12:On(n,t),Mn(t);break;case 31:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 13:On(n,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tc=le()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,z=Es,Q=Kt;if(Es=z||h,Kt=Q||N,On(n,t),Kt=Q,Es=z,Mn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||Es||Kt||fa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var $=N.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){at(N,N.return,he)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){at(N,N.return,he)}}}else if(n.tag===18){if(r===null){N=n;try{var H=N.stateNode;h?C_(H,!0):C_(N.stateNode,!1)}catch(he){at(N,N.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,bc(t,r))));break;case 19:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 30:break;case 21:break;default:On(n,t),Mn(t)}}function Mn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ry(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=id(t);vc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(In(p,""),r.flags&=-33);var E=id(t);vc(t,E,p);break;case 3:case 4:var N=r.stateNode.containerInfo,z=id(t);sd(t,z,N);break;default:throw Error(a(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function As(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(t,n.alternate,n),n=n.sibling}function fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),fa(n);break;case 1:Xi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cy(n,n.return,r),fa(n);break;case 27:ko(n.stateNode);case 26:case 5:Xi(n,n.return),fa(n);break;case 22:n.memoizedState===null&&fa(n);break;case 30:fa(n);break;default:fa(n)}t=t.sibling}}function Ss(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ss(h,f,r),wo(4,f);break;case 1:if(Ss(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)pg(N[h],E)}catch(z){at(l,l.return,z)}}r&&p&64&&xy(f),xo(f,f.return);break;case 27:Iy(f);case 26:case 5:Ss(h,f,r),r&&l===null&&p&4&&Ny(f),xo(f,f.return);break;case 12:Ss(h,f,r);break;case 31:Ss(h,f,r),r&&p&4&&ky(h,f);break;case 13:Ss(h,f,r),r&&p&4&&jy(h,f);break;case 22:f.memoizedState===null&&Ss(h,f,r),xo(f,f.return);break;case 30:break;default:Ss(h,f,r)}n=n.sibling}}function ad(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ho(r))}function ld(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ho(t))}function Ci(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,r,l),n=n.sibling}function Ly(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(t,n,r,l),h&2048&&wo(9,n);break;case 1:Ci(t,n,r,l);break;case 3:Ci(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ho(t)));break;case 12:if(h&2048){Ci(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(n,n.return,N)}}else Ci(t,n,r,l);break;case 31:Ci(t,n,r,l);break;case 13:Ci(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Ci(t,n,r,l):Co(t,n):f._visibility&2?Ci(t,n,r,l):(f._visibility|=2,sl(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ad(p,n);break;case 24:Ci(t,n,r,l),h&2048&&ld(n.alternate,n);break;default:Ci(t,n,r,l)}}function sl(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,N=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:sl(f,p,E,N,h),wo(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?sl(f,p,E,N,h):Co(f,p):(Q._visibility|=2,sl(f,p,E,N,h)),h&&z&2048&&ad(p.alternate,p);break;case 24:sl(f,p,E,N,h),h&&z&2048&&ld(p.alternate,p);break;default:sl(f,p,E,N,h)}n=n.sibling}}function Co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Co(r,l),h&2048&&ad(l.alternate,l);break;case 24:Co(r,l),h&2048&&ld(l.alternate,l);break;default:Co(r,l)}n=n.sibling}}var No=8192;function rl(t,n,r){if(t.subtreeFlags&No)for(t=t.child;t!==null;)zy(t,n,r),t=t.sibling}function zy(t,n,r){switch(t.tag){case 26:rl(t,n,r),t.flags&No&&t.memoizedState!==null&&P1(r,xi,t.memoizedState,t.memoizedProps);break;case 5:rl(t,n,r);break;case 3:case 4:var l=xi;xi=Vc(t.stateNode.containerInfo),rl(t,n,r),xi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=No,No=16777216,rl(t,n,r),No=l):rl(t,n,r));break;default:rl(t,n,r)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];rn=l,Hy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:Ro(t),t.flags&2048&&rr(9,t,t.return);break;case 3:Ro(t);break;case 12:Ro(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ec(t)):Ro(t);break;default:Ro(t)}}function Ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];rn=l,Hy(l,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ec(n));break;default:Ec(n)}t=t.sibling}}function Hy(t,n){for(;rn!==null;){var r=rn;switch(r.tag){case 0:case 11:case 15:rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ho(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,rn=l;else e:for(r=t;rn!==null;){l=rn;var h=l.sibling,f=l.return;if(My(l),l===r){rn=null;break e}if(h!==null){h.return=f,rn=h;break e}rn=f}}}var WT={getCacheForType:function(t){var n=cn(Gt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return cn(Gt).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,et=0,mt=null,Pe=null,ze=0,rt=0,$n=null,ar=!1,al=!1,od=!1,ws=0,Vt=0,lr=0,da=0,ud=0,Jn=0,ll=0,Io=null,Vn=null,cd=!1,Tc=0,Fy=0,Ac=1/0,Sc=null,or=null,tn=0,ur=null,ol=null,xs=0,hd=0,fd=null,Gy=null,Do=0,dd=null;function Zn(){return(et&2)!==0&&ze!==0?ze&-ze:G.T!==null?vd():Da()}function Qy(){if(Jn===0)if((ze&536870912)===0||Ge){var t=Pi;Pi<<=1,(Pi&3932160)===0&&(Pi=262144),Jn=t}else Jn=536870912;return t=Kn.current,t!==null&&(t.flags|=32),Jn}function kn(t,n,r){(t===mt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(ul(t,0),cr(t,ze,Jn,!1)),as(t,r),((et&2)===0||t!==mt)&&(t===mt&&((et&2)===0&&(da|=r),Vt===4&&cr(t,ze,Jn,!1)),$i(t))}function Yy(t,n,r){if((et&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=l?i1(t,n):pd(t,n,!0),f=l;do{if(h===0){al&&!l&&cr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!t1(r)){h=pd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=Io;var N=E.current.memoizedState.isDehydrated;if(N&&(ul(E,p).flags|=256),p=pd(E,p,!1),p!==2){if(od&&!N){E.errorRecoveryDisabledLanes|=f,da|=f,h=4;break e}f=Vn,Vn=h,f!==null&&(Vn===null?Vn=f:Vn.push.apply(Vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ul(t,0),cr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:cr(l,n,Jn,!ar);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Tc+300-le(),10<h)){if(cr(l,n,Jn,!ar),ii(l,0,!0)!==0)break e;xs=n,l.timeoutHandle=S_(Ky.bind(null,l,r,Vn,Sc,cd,n,Jn,da,ll,ar,f,"Throttled",-0,0),h);break e}Ky(l,r,Vn,Sc,cd,n,Jn,da,ll,ar,f,null,-0,0)}}break}while(!0);$i(t)}function Ky(t,n,r,l,h,f,p,E,N,z,Q,$,B,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},zy(n,f,$);var he=(f&62914560)===f?Tc-le():(f&4194048)===f?Fy-le():0;if(he=L1($,he),he!==null){xs=f,t.cancelPendingCommit=he(n_.bind(null,t,n,f,r,l,h,p,E,N,Q,$,null,B,H)),cr(t,f,p,!z);return}}n_(t,n,f,r,l,h,p,E,N)}function t1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Qn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(t,n,r,l){n&=~ud,n&=~da,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-xt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&ls(t,r,n)}function wc(){return(et&6)===0?(Oo(0),!1):!0}function md(){if(Pe!==null){if(rt===0)var t=Pe.return;else t=Pe,ps=sa=null,If(t),Wa=null,mo=0,t=Pe;for(;t!==null;)wy(t.alternate,t),t=t.return;Pe=null}}function ul(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,E1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),xs=0,md(),mt=t,Pe=r=ds(t.current,null),ze=n,rt=0,$n=null,ar=!1,al=zn(t,n),od=!1,ll=Jn=ud=da=lr=Vt=0,Vn=Io=null,cd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-xt(l),f=1<<h;n|=t[h],l&=~f}return ws=n,Qu(),r}function Xy(t,n){Re=null,G.H=To,n===Za||n===ec?(n=hg(),rt=3):n===_f?(n=hg(),rt=4):rt=n===Qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,$n=n,Pe===null&&(Vt=1,mc(t,ui(n,t.current)))}function $y(){var t=Kn.current;return t===null?!0:(ze&4194048)===ze?di===null:(ze&62914560)===ze||(ze&536870912)!==0?t===di:!1}function Jy(){var t=G.H;return G.H=To,t===null?To:t}function Zy(){var t=G.A;return G.A=WT,t}function xc(){Vt=4,ar||(ze&4194048)!==ze&&Kn.current!==null||(al=!0),(lr&134217727)===0&&(da&134217727)===0||mt===null||cr(mt,ze,Jn,!1)}function pd(t,n,r){var l=et;et|=2;var h=Jy(),f=Zy();(mt!==t||ze!==n)&&(Sc=null,ul(t,n)),n=!1;var p=Vt;e:do try{if(rt!==0&&Pe!==null){var E=Pe,N=$n;switch(rt){case 8:md(),p=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(n=!0);var z=rt;if(rt=0,$n=null,cl(t,E,N,z),r&&al){p=0;break e}break;default:z=rt,rt=0,$n=null,cl(t,E,N,z)}}n1(),p=Vt;break}catch(Q){Xy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ps=sa=null,et=l,G.H=h,G.A=f,Pe===null&&(mt=null,ze=0,Qu()),p}function n1(){for(;Pe!==null;)Wy(Pe)}function i1(t,n){var r=et;et|=2;var l=Jy(),h=Zy();mt!==t||ze!==n?(Sc=null,Ac=le()+500,ul(t,n)):al=zn(t,n);e:do try{if(rt!==0&&Pe!==null){n=Pe;var f=$n;t:switch(rt){case 1:rt=0,$n=null,cl(t,n,f,1);break;case 2:case 9:if(ug(f)){rt=0,$n=null,e_(n);break}n=function(){rt!==2&&rt!==9||mt!==t||(rt=7),$i(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:ug(f)?(rt=0,$n=null,e_(n)):(rt=0,$n=null,cl(t,n,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var E=Pe;if(p?L_(p):E.stateNode.complete){rt=0,$n=null;var N=E.sibling;if(N!==null)Pe=N;else{var z=E.return;z!==null?(Pe=z,Cc(z)):Pe=null}break t}}rt=0,$n=null,cl(t,n,f,5);break;case 6:rt=0,$n=null,cl(t,n,f,6);break;case 8:md(),Vt=6;break e;default:throw Error(a(462))}}s1();break}catch(Q){Xy(t,Q)}while(!0);return ps=sa=null,G.H=l,G.A=h,et=r,Pe!==null?0:(mt=null,ze=0,Qu(),Vt)}function s1(){for(;Pe!==null&&!qt();)Wy(Pe)}function Wy(t){var n=Ay(t.alternate,t,ws);t.memoizedProps=t.pendingProps,n===null?Cc(t):Pe=n}function e_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yy(r,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=yy(r,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:If(n);default:wy(r,n),n=Pe=Zp(n,ws),n=Ay(r,n,ws)}t.memoizedProps=t.pendingProps,n===null?Cc(t):Pe=n}function cl(t,n,r,l){ps=sa=null,If(n),Wa=null,mo=0;var h=n.return;try{if(QT(t,h,n,r,ze)){Vt=1,mc(t,ui(r,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Vt=1,mc(t,ui(r,t.current)),Pe=null;return}n.flags&32768?(Ge||l===1?t=!0:al||(ze&536870912)!==0?t=!1:(ar=t=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(n,t)):Cc(n)}function Cc(t){var n=t;do{if((n.flags&32768)!==0){t_(n,ar);return}t=n.return;var r=XT(n.alternate,n,ws);if(r!==null){Pe=r;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Vt===0&&(Vt=5)}function t_(t,n){do{var r=$T(t.alternate,t);if(r!==null){r.flags&=32767,Pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=r}while(t!==null);Vt=6,Pe=null}function n_(t,n,r,l,h,f,p,E,N){t.cancelPendingCommit=null;do Nc();while(tn!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=nf,zs(t,r,f,p,E,N),t===mt&&(Pe=mt=null,ze=0),ol=n,ur=t,xs=r,hd=f,fd=h,Gy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(ji,function(){return l_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=te.p,te.p=2,p=et,et|=4;try{JT(t,n,r)}finally{et=p,te.p=h,G.T=l}}tn=1,i_(),s_(),r_()}}function i_(){if(tn===1){tn=0;var t=ur,n=ol,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=et;et|=4;try{Uy(n,t);var f=Cd,p=Hp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&qp(E.ownerDocument.documentElement,E)){if(N!==null&&Jh(E)){var z=N.start,Q=N.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),he=E.textContent.length,ye=Math.min(N.start,he),ft=N.end===void 0?ye:Math.min(N.end,he);!H.extend&&ye>ft&&(p=ft,ft=ye,ye=p);var U=Bp(E,ye),O=Bp(E,ft);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=$.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),ye>ft?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}zc=!!xd,Cd=xd=null}finally{et=h,te.p=l,G.T=r}}t.current=n,tn=2}}function s_(){if(tn===2){tn=0;var t=ur,n=ol,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=te.p;te.p=2;var h=et;et|=4;try{Oy(t,n.alternate,n)}finally{et=h,te.p=l,G.T=r}}tn=3}}function r_(){if(tn===4||tn===3){tn=0,ti();var t=ur,n=ol,r=xs,l=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,ol=ur=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(or=null),Bn(r),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=te.p,te.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,te.p=h}}(xs&3)!==0&&Nc(),$i(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===dd?Do++:(Do=0,dd=t):Do=0,Oo(0)}}function a_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ho(n)))}function Nc(){return i_(),s_(),r_(),l_()}function l_(){if(tn!==5)return!1;var t=ur,n=hd;hd=0;var r=Bn(xs),l=G.T,h=te.p;try{te.p=32>r?32:r,G.T=null,r=fd,fd=null;var f=ur,p=xs;if(tn=0,ol=ur=null,xs=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,qy(f.current),Ly(f,f.current,p,r),et=E,Oo(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{te.p=h,G.T=l,a_(t,n)}}function o_(t,n,r){n=ui(r,n),n=Gf(t.stateNode,n,2),t=nr(t,n,2),t!==null&&(as(t,2),$i(t))}function at(t,n,r){if(t.tag===3)o_(t,t,r);else for(;n!==null;){if(n.tag===3){o_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){t=ui(r,t),r=uy(2),l=nr(n,r,2),l!==null&&(cy(r,l,n,t),as(l,2),$i(l));break}}n=n.return}}function gd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new e1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(od=!0,h.add(r),t=r1.bind(null,t,n,r),n.then(t,t))}function r1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,mt===t&&(ze&r)===r&&(Vt===4||Vt===3&&(ze&62914560)===ze&&300>le()-Tc?(et&2)===0&&ul(t,0):ud|=r,ll===ze&&(ll=0)),$i(t)}function u_(t,n){n===0&&(n=Ia()),t=ta(t,n),t!==null&&(as(t,n),$i(t))}function a1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),u_(t,r)}function l1(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),u_(t,r)}function o1(t,n){return Rt(t,n)}var Rc=null,hl=null,yd=!1,Ic=!1,_d=!1,hr=0;function $i(t){t!==hl&&t.next===null&&(hl===null?Rc=hl=t:hl=hl.next=t),Ic=!0,yd||(yd=!0,c1())}function Oo(t,n){if(!_d&&Ic){_d=!0;do for(var r=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,d_(l,f))}else f=ze,f=ii(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(r=!0,d_(l,f));l=l.next}while(r);_d=!1}}function u1(){c_()}function c_(){Ic=yd=!1;var t=0;hr!==0&&b1()&&(t=hr);for(var n=le(),r=null,l=Rc;l!==null;){var h=l.next,f=h_(l,n);f===0?(l.next=null,r===null?Rc=h:r.next=h,h===null&&(hl=r)):(r=l,(t!==0||(f&3)!==0)&&(Ic=!0)),l=h}tn!==0&&tn!==5||Oo(t),hr!==0&&(hr=0)}function h_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-xt(f),E=1<<p,N=h[p];N===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Gl(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,r=ze,r=ii(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||zn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&vi(l),Bn(r)){case 2:case 8:r=wn;break;case 32:r=ji;break;case 268435456:r=Ui;break;default:r=ji}return l=f_.bind(null,t),r=Rt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&vi(l),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,n){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Nc()&&t.callbackNode!==r)return null;var l=ze;return l=ii(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,n),h_(t,le()),t.callbackNode!=null&&t.callbackNode===r?f_.bind(null,t):null)}function d_(t,n){if(Nc())return null;Yy(t,n,!0)}function c1(){T1(function(){(et&6)!==0?Rt(it,u1):c_()})}function vd(){if(hr===0){var t=$a;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),hr=t}return hr}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function p_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function h1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=m_((h[Ht]||null).action),p=l.submitter;p&&(n=(n=p[Ht]||null)?m_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Hi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hr!==0){var N=p?p_(h,p):new FormData(h);Lf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?p_(h,p):new FormData(h),Lf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var bd=0;bd<tf.length;bd++){var Ed=tf[bd],f1=Ed.toLowerCase(),d1=Ed[0].toUpperCase()+Ed.slice(1);wi(f1,"on"+d1)}wi(Qp,"onAnimationEnd"),wi(Yp,"onAnimationIteration"),wi(Kp,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(RT,"onTransitionRun"),wi(IT,"onTransitionStart"),wi(DT,"onTransitionCancel"),wi(Xp,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function g_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Gu(Q)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(E=l[p],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Gu(Q)}h.currentTarget=null,f=N}}}}function Le(t,n){var r=n[Z];r===void 0&&(r=n[Z]=new Set);var l=t+"__bubble";r.has(l)||(y_(n,t,2,!1),r.add(l))}function Td(t,n,r){var l=0;n&&(l|=4),y_(r,t,l,n)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[Dc]){t[Dc]=!0,Hr.forEach(function(r){r!=="selectionchange"&&(m1.has(r)||Td(r,!1,t),Td(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Dc]||(n[Dc]=!0,Td("selectionchange",!1,n))}}function y_(t,n,r,l){switch(Q_(n)){case 2:var h=q1;break;case 8:h=H1;break;default:h=Pd}r=h.bind(null,n,r,t),h=void 0,!Yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Sd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ln(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}E=E.parentNode}}l=l.return}Qs(function(){var z=f,Q=ri(r),$=[];e:{var B=$p.get(t);if(B!==void 0){var H=Hi,he=t;switch(t){case"keypress":if(Xr(r)===0)break e;case"keydown":case"keyup":H=qu;break;case"focusin":he="focus",H=Jr;break;case"focusout":he="blur",H=Jr;break;case"beforeblur":case"afterblur":H=Jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Qp:case Yp:case Kp:H=ku;break;case Xp:H=A;break;case"scroll":case"scrollend":H=no;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=fs;break;case"toggle":case"beforetoggle":H=Ne}var ye=(n&4)!==0,ft=!ye&&(t==="scroll"||t==="scrollend"),U=ye?B!==null?B+"Capture":null:B;ye=[];for(var O=z,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||U===null||(Y=Ei(O,U),Y!=null&&ye.push(Vo(O,Y,L))),ft)break;O=O.return}0<ye.length&&(B=new H(B,he,null,r,Q),$.push({event:B,listeners:ye}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Wl&&(he=r.relatedTarget||r.fromElement)&&(ln(he)||he[T]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(he=r.relatedTarget||r.toElement,H=z,he=he?ln(he):null,he!==null&&(ft=c(he),ye=he.tag,he!==ft||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(H=null,he=z),H!==he)){if(ye=io,Y="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=fs,Y="onPointerLeave",U="onPointerEnter",O="pointer"),ft=H==null?B:dt(H),L=he==null?B:dt(he),B=new ye(Y,O+"leave",H,r,Q),B.target=ft,B.relatedTarget=L,Y=null,ln(Q)===z&&(ye=new ye(U,O+"enter",he,r,Q),ye.target=L,ye.relatedTarget=ft,Y=ye),ft=Y,H&&he)t:{for(ye=p1,U=H,O=he,L=0,Y=U;Y;Y=ye(Y))L++;Y=0;for(var me=O;me;me=ye(me))Y++;for(;0<L-Y;)U=ye(U),L--;for(;0<Y-L;)O=ye(O),Y--;for(;L--;){if(U===O||O!==null&&U===O.alternate){ye=U;break t}U=ye(U),O=ye(O)}ye=null}else ye=null;H!==null&&__($,B,H,ye,!1),he!==null&&ft!==null&&__($,ft,he,ye,!0)}}e:{if(B=z?dt(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Je=kp;else if(Mp(B))if(jp)Je=xT;else{Je=ST;var fe=AT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Va(z.elementType)&&(Je=kp):Je=wT;if(Je&&(Je=Je(t,z))){Vp($,Je,r,Q);break e}fe&&fe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&$l(B,"number",B.value)}switch(fe=z?dt(z):window,t){case"focusin":(Mp(fe)||fe.contentEditable==="true")&&(qa=fe,Zh=z,oo=null);break;case"focusout":oo=Zh=qa=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Fp($,r,Q);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":Fp($,r,Q)}var Ie;if(We)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ba?Zr(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Qi&&r.locale!=="ko"&&(Ba||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ba&&(Ie=to()):(qi=Q,eo="value"in qi?qi.value:qi.textContent,Ba=!0)),fe=Oc(z,Be),0<fe.length&&(Be=new Gi(Be,t,null,r,Q),$.push({event:Be,listeners:fe}),Ie?Be.data=Ie:(Ie=za(r),Ie!==null&&(Be.data=Ie)))),(Ie=li?vT(t,r):bT(t,r))&&(Be=Oc(z,"onBeforeInput"),0<Be.length&&(fe=new Gi("onBeforeInput","beforeinput",null,r,Q),$.push({event:fe,listeners:Be}),fe.data=Ie)),h1($,t,z,r,Q)}g_($,n)})}function Vo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Oc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ei(t,r),h!=null&&l.unshift(Vo(t,h,f)),h=Ei(t,n),h!=null&&l.push(Vo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function p1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var E=r,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=Ei(r,f),z!=null&&p.unshift(Vo(r,z,N))):h||(z=Ei(r,f),z!=null&&p.push(Vo(r,z,N)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var g1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(y1,"")}function b_(t,n){return n=v_(n),v_(t)===n}function ht(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&In(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,r,l);break;case"style":Zl(t,l,f);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ka(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ka(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=bi);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Oa(t,"popover",l);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ou.get(r)||r,Oa(t,r,l))}}function wd(t,n,r,l,h,f){switch(r){case"style":Zl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!us.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Ht]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Oa(t,r,l)}}}function fn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,f,p,r,null)}}h&&ht(t,n,"srcSet",r.srcSet,r,null),l&&ht(t,n,"src",r.src,r,null);return;case"input":Le("invalid",t);var E=f=p=h=null,N=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":N=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ht(t,n,l,Q,r,null)}}Ru(t,f,E,N,z,p,h,!1);return;case"select":Le("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ht(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!l,n!=null?qs(t,!!l,n,!1):r!=null&&qs(t,!!l,r,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ht(t,n,p,E,r,null)}Hs(t,l,h,f);return;case"option":for(N in r)r.hasOwnProperty(N)&&(l=r[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ht(t,n,N,l,r,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Mo.length;l++)Le(Mo[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,z,l,r,null)}return;default:if(Va(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&wd(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ht(t,n,E,l,r,null))}function _1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,z=null,Q=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=$;default:l.hasOwnProperty(H)||ht(t,n,H,null,l,$)}}for(var B in l){var H=l[B];if($=r[B],l.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&ht(t,n,B,H,l,$)}}Ma(t,p,E,N,z,Q,f,h);return;case"select":H=p=E=B=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&ht(t,n,h,f,l,N)}n=E,r=p,l=H,B!=null?qs(t,!!r,B,!1):!!l!=!!r&&(n!=null?qs(t,!!r,n,!0):qs(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ht(t,n,p,h,l,f)}Iu(t,B,H);return;case"option":for(var he in r)B=r[he],r.hasOwnProperty(he)&&B!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:ht(t,n,he,null,l,B));for(N in l)B=l[N],H=r[N],l.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ht(t,n,N,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)B=r[ye],r.hasOwnProperty(ye)&&B!=null&&!l.hasOwnProperty(ye)&&ht(t,n,ye,null,l,B);for(z in l)if(B=l[z],H=r[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ht(t,n,z,B,l,H)}return;default:if(Va(n)){for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!==void 0&&!l.hasOwnProperty(ft)&&wd(t,n,ft,void 0,l,B);for(Q in l)B=l[Q],H=r[Q],!l.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||wd(t,n,Q,B,l,H);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&ht(t,n,U,null,l,B);for($ in l)B=l[$],H=r[$],!l.hasOwnProperty($)||B===H||B==null&&H==null||ht(t,n,$,B,l,H)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&E_(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var N=r[l],z=N.startTime;if(z>E)break;var Q=N.transferSize,$=N.initiatorType;Q&&E_($)&&(N=N.responseEnd,p+=Q*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xd=null,Cd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function b1(){var t=window.event;return t&&t.type==="popstate"?t===Rd?!1:(Rd=t,!0):(Rd=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(A1)}:S_;function A1(t){setTimeout(function(){throw t})}function fr(t){return t==="head"}function x_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),pl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ko(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ko(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ve]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ko(t.ownerDocument.body);r=h}while(r);pl(n)}function C_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Id(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Id(r),Ot(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function S1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ve])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=mi(t.nextSibling),t===null)break}return null}function w1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=mi(t.nextSibling),t===null))return null;return t}function N_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=mi(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function x1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function mi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Md=null;function R_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return mi(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function I_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function D_(t,n,r){switch(n=Mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ko(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ot(t)}var pi=new Map,O_=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cs=te.d;te.d={f:C1,r:N1,D:R1,C:I1,L:D1,m:O1,X:V1,S:M1,M:k1};function C1(){var t=Cs.f(),n=wc();return t||n}function N1(t){var n=_t(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):Cs.r(t)}var fl=typeof document>"u"?null:document;function M_(t,n,r){var l=fl;if(l&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),O_.has(h)||(O_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),fn(n,"link",t),Ct(n),l.head.appendChild(n)))}}function R1(t){Cs.D(t),M_("dns-prefetch",t,null)}function I1(t,n){Cs.C(t,n),M_("preconnect",t,n)}function D1(t,n,r){Cs.L(t,n,r);var l=fl;if(l&&t&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Rn(r.imageSizes)+'"]')):h+='[href="'+Rn(t)+'"]';var f=h;switch(n){case"style":f=dl(t);break;case"script":f=ml(t)}pi.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),pi.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(jo(f))||n==="script"&&l.querySelector(Uo(f))||(n=l.createElement("link"),fn(n,"link",t),Ct(n),l.head.appendChild(n)))}}function O1(t,n){Cs.m(t,n);var r=fl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(l)+'"][href="'+Rn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ml(t)}if(!pi.has(f)&&(t=x({rel:"modulepreload",href:t},n),pi.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Uo(f)))return}l=r.createElement("link"),fn(l,"link",t),Ct(l),r.head.appendChild(l)}}}function M1(t,n,r){Cs.S(t,n,r);var l=fl;if(l&&t){var h=gn(l).hoistableStyles,f=dl(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(jo(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=pi.get(f))&&Vd(t,r);var N=p=l.createElement("link");Ct(N),fn(N,"link",t),N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,kc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function V1(t,n){Cs.X(t,n);var r=fl;if(r&&t){var l=gn(r).hoistableScripts,h=ml(t),f=l.get(h);f||(f=r.querySelector(Uo(h)),f||(t=x({src:t,async:!0},n),(n=pi.get(h))&&kd(t,n),f=r.createElement("script"),Ct(f),fn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function k1(t,n){Cs.M(t,n);var r=fl;if(r&&t){var l=gn(r).hoistableScripts,h=ml(t),f=l.get(h);f||(f=r.querySelector(Uo(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=pi.get(h))&&kd(t,n),f=r.createElement("script"),Ct(f),fn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function V_(t,n,r,l){var h=(h=W.current)?Vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=dl(r.href),r=gn(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=dl(r.href);var f=gn(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(jo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),pi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},pi.set(t,r),f||j1(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ml(r),r=gn(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function dl(t){return'href="'+Rn(t)+'"'}function jo(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function j1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),fn(n,"link",r),Ct(n),t.head.appendChild(n))}function ml(t){return'[src="'+Rn(t)+'"]'}function Uo(t){return"script[async]"+t}function j_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Rn(r.href)+'"]');if(l)return n.instance=l,Ct(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),fn(l,"style",h),kc(l,r.precedence,t),n.instance=l;case"stylesheet":h=dl(r.href);var f=t.querySelector(jo(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;l=k_(r),(h=pi.get(h))&&Vd(l,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),fn(f,"link",l),n.state.loading|=4,kc(f,r.precedence,t),n.instance=f;case"script":return f=ml(r.src),(h=t.querySelector(Uo(f)))?(n.instance=h,Ct(h),h):(l=r,(h=pi.get(f))&&(l=x({},r),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),fn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,kc(l,r.precedence,t));return n.instance}function kc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var jc=null;function U_(t,n,r){if(jc===null){var l=new Map,h=jc=new Map;h.set(r,l)}else h=jc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ve]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function P_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function U1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function P1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=dl(l.href),f=n.querySelector(jo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ct(f);return}f=n.ownerDocument||n,l=k_(l),(h=pi.get(h))&&Vd(l,h),f=f.createElement("link"),Ct(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),fn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Uc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var jd=0;function L1(t,n){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&jd===0&&(jd=62500*v1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Lc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,n.forEach(z1,t),Pc=null,Uc.call(t))}function z1(t,n){if(!(n.state.loading&4)){var r=Pc.get(t);if(r)var l=r.get(null);else{r=new Map,Pc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Po={$$typeof:be,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function B1(t,n,r,l,h,f,p,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function z_(t,n,r,l,h,f,p,E,N,z,Q,$){return t=new B1(t,n,r,p,N,z,Q,$,E),n=1,f===!0&&(n|=24),f=Yn(3,null,null,n),t.current=f,f.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},vf(f),t}function B_(t){return t?(t=Ga,t):Ga}function q_(t,n,r,l,h,f){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=tr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=nr(t,l,n),r!==null&&(kn(r,t,n),go(r,t,n))}function H_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ud(t,n){H_(t,n),(t=t.alternate)&&H_(t,n)}function F_(t){if(t.tag===13||t.tag===31){var n=ta(t,67108864);n!==null&&kn(n,t,67108864),Ud(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var n=Zn();n=os(n);var r=ta(t,n);r!==null&&kn(r,t,n),Ud(t,n)}}var zc=!0;function q1(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=2,Pd(t,n,r,l)}finally{te.p=f,G.T=h}}function H1(t,n,r,l){var h=G.T;G.T=null;var f=te.p;try{te.p=8,Pd(t,n,r,l)}finally{te.p=f,G.T=h}}function Pd(t,n,r,l){if(zc){var h=Ld(l);if(h===null)Sd(t,n,l,Bc,r),Y_(t,l);else if(G1(h,t,n,r,l))l.stopPropagation();else if(Y_(t,l),n&4&&-1<F1.indexOf(t)){for(;h!==null;){var f=_t(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Nn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-xt(p);E.entanglements[1]|=N,p&=~N}$i(f),(et&6)===0&&(Ac=le()+500,Oo(0))}}break;case 31:case 13:E=ta(f,2),E!==null&&kn(E,f,2),wc(),Ud(f,2)}if(f=Ld(l),f===null&&Sd(t,n,l,Bc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Sd(t,n,l,null,r)}}function Ld(t){return t=ri(t),zd(t)}var Bc=null;function zd(t){if(Bc=null,t=ln(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bc=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case it:return 2;case wn:return 8;case ji:case Fl:return 32;case Ui:return 268435456;default:return 32}default:return 32}}var Bd=!1,dr=null,mr=null,pr=null,Lo=new Map,zo=new Map,gr=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(n.pointerId)}}function Bo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_t(n),n!==null&&F_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function G1(t,n,r,l,h){switch(n){case"focusin":return dr=Bo(dr,t,n,r,l,h),!0;case"dragenter":return mr=Bo(mr,t,n,r,l,h),!0;case"mouseover":return pr=Bo(pr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Lo.set(f,Bo(Lo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,zo.set(f,Bo(zo.get(f)||null,t,n,r,l,h)),!0}return!1}function K_(t){var n=ln(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,qn(t.priority,function(){G_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,qn(t.priority,function(){G_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ld(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Wl=l,r.target.dispatchEvent(l),Wl=null}else return n=_t(r),n!==null&&F_(n),t.blockedOn=r,!1;n.shift()}return!0}function X_(t,n,r){qc(t)&&r.delete(n)}function Q1(){Bd=!1,dr!==null&&qc(dr)&&(dr=null),mr!==null&&qc(mr)&&(mr=null),pr!==null&&qc(pr)&&(pr=null),Lo.forEach(X_),zo.forEach(X_)}function Hc(t,n){t.blockedOn===n&&(t.blockedOn=null,Bd||(Bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Q1)))}var Fc=null;function $_(t){Fc!==t&&(Fc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(zd(l||r)===null)continue;break}var f=_t(r);f!==null&&(t.splice(n,3),n-=3,Lf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function pl(t){function n(N){return Hc(N,t)}dr!==null&&Hc(dr,t),mr!==null&&Hc(mr,t),pr!==null&&Hc(pr,t),Lo.forEach(n),zo.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)K_(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Ht]||null;if(typeof f=="function")p||$_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ht]||null)E=p.formAction;else if(zd(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),$_(r)}}}function J_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function qd(t){this._internalRoot=t}Gc.prototype.render=qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Zn();q_(r,l,t,n,null,null)},Gc.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;q_(t.current,2,null,t,null,null),wc(),n[T]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Da();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&K_(t)}};var Z_=e.version;if(Z_!=="19.2.3")throw Error(a(527,Z_,"19.2.3"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var Y1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{xn=Qc.inject(Y1),en=Qc}catch{}}return Ho.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ry,f=ay,p=ly;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=z_(t,1,!1,null,null,r,l,null,h,f,p,J_),t[T]=n.current,Ad(t),new qd(n)},Ho.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ry,p=ay,E=ly,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=z_(t,1,!0,n,r??null,l,h,N,f,p,E,J_),n.context=B_(null),r=n.current,l=Zn(),l=os(l),h=tr(l),h.callback=null,nr(r,h,l),r=l,n.current.lanes=r,as(n,r),$i(n),t[T]=n.current,Ad(t),new Gc(n)},Ho.version="19.2.3",Ho}var o0;function iA(){if(o0)return Gd.exports;o0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=nA(),Gd.exports}var sA=iA();const rA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),u0=s=>{const e=aA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Xv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),lA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uA=Oe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},b)=>Oe.createElement("svg",{ref:b,...oA,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Xv("lucide",o),...!c&&!lA(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>Oe.createElement(_,S)),...Array.isArray(c)?c:[c]]));const nt=(s,e)=>{const i=Oe.forwardRef(({className:a,...o},c)=>Oe.createElement(uA,{ref:c,iconNode:e,className:Xv(`lucide-${rA(u0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=u0(s),i};const cA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Xd=nt("briefcase",cA);const hA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fA=nt("calendar",hA);const dA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],c0=nt("circle-alert",dA);const mA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h0=nt("circle-check-big",mA);const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],f0=nt("circle-x",pA);const gA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yA=nt("clock",gA);const _A=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],d0=nt("coins",_A);const vA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bA=nt("copy",vA);const EA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],m0=nt("file-text",EA);const TA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],p0=nt("key-round",TA);const AA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],SA=nt("log-in",AA);const wA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xA=nt("log-out",wA);const CA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],NA=nt("message-square",CA);const RA=[["path",{d:"M5 12h14",key:"1ays0h"}]],IA=nt("minus",RA);const DA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],OA=nt("panels-top-left",DA);const MA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$d=nt("pen-line",MA);const VA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jd=nt("plus",VA);const kA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Zd=nt("printer",kA);const jA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UA=nt("refresh-cw",jA);const PA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],LA=nt("send",PA);const zA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],BA=nt("share-2",zA);const qA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],HA=nt("shopping-bag",qA);const FA=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],GA=nt("thumbs-up",FA);const QA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wd=nt("trash-2",QA);const YA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],KA=nt("trending-up",YA);const XA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$A=nt("triangle-alert",XA);const JA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],g0=nt("user-plus",JA);const ZA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],WA=nt("user",ZA);const eS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],y0=nt("users",eS);const tS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nS=nt("x",tS),iS=()=>{};var _0={};const $v=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],b=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(b>>10)),e[a++]=String.fromCharCode(56320+(b&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,b=o+2<s.length,_=b?s[o+2]:0,S=c>>2,x=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,K=_&63;b||(K=64,d||(V=64)),a.push(i[S],i[x],i[V],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray($v(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):sS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||x==null)throw new rS;const V=c<<2|g>>4;if(a.push(V),_!==64){const K=g<<4&240|_>>2;if(a.push(K),x!==64){const ee=_<<6&192|x;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(s){const e=$v(s);return Jv.encodeByteArray(e,!0)},uh=function(s){return aS(s).replace(/\./g,"")},Zv=function(s){try{return Jv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oS=()=>lS().__FIREBASE_DEFAULTS__,uS=()=>{if(typeof process>"u"||typeof _0>"u")return;const s=_0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},cS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Zv(s[1]);return e&&JSON.parse(e)},Ch=()=>{try{return iS()||oS()||uS()||cS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Wv=s=>Ch()?.emulatorHosts?.[s],hS=s=>{const e=Wv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},eb=()=>Ch()?.config,tb=s=>Ch()?.[`_${s}`];class fS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function jl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nb(s){return(await fetch(s,{credentials:"include"})).ok}function dS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[uh(JSON.stringify(i)),uh(JSON.stringify(d)),""].join(".")}const Zo={};function mS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Zo))Zo[e]?s.emulator.push(e):s.prod.push(e);return s}function pS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let v0=!1;function ib(s,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||Zo[s]===e||Zo[s]||v0)return;Zo[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=mS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function b(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{v0=!0,d()},V}function S(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function x(){const V=pS(a),K=i("text"),ee=document.getElementById(K)||document.createElement("span"),ae=i("learnmore"),re=document.getElementById(ae)||document.createElement("a"),ge=i("preprendIcon"),Ce=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const be=V.element;g(be),S(re,ae);const ot=_();b(Ce,ge),be.append(Ce,ee,re,ot),document.body.appendChild(be)}c?(ee.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function yS(){const s=Ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function TS(){return!yS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const wS="FirebaseError";class ks extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=wS,Object.setPrototypeOf(this,ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?xS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ks(o,g,a)}}function xS(s,e){return s.replace(CS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const CS=/\{\$([^}]+)}/g;function NS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function va(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(b0(c)&&b0(d)){if(!va(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function b0(s){return s!==null&&typeof s=="object"}function pu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function RS(s,e){const i=new IS(s,e);return i.subscribe.bind(i)}class IS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");DS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=em),o.error===void 0&&(o.error=em),o.complete===void 0&&(o.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function em(){}function Wt(s){return s&&s._delegate?s._delegate:s}class ba{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class OS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new fS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VS(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(s){return s===ma?void 0:s}function VS(s){return s.instantiationMode==="EAGER"}class kS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new OS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const jS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},US=qe.INFO,PS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},LS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=PS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=US,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const zS=(s,e)=>e.some(i=>s instanceof i);let E0,T0;function BS(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sb=new WeakMap,pm=new WeakMap,rb=new WeakMap,tm=new WeakMap,qm=new WeakMap;function HS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ar(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&sb.set(i,s)}).catch(()=>{}),qm.set(e,s),e}function FS(s){if(pm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});pm.set(s,e)}let gm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return pm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||rb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function GS(s){gm=s(gm)}function QS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(nm(this),e,...i);return rb.set(a,e.sort?e.sort():[e]),Ar(a)}:qS().includes(s)?function(...e){return s.apply(nm(this),e),Ar(sb.get(this))}:function(...e){return Ar(s.apply(nm(this),e))}}function YS(s){return typeof s=="function"?QS(s):(s instanceof IDBTransaction&&FS(s),zS(s,BS())?new Proxy(s,gm):s)}function Ar(s){if(s instanceof IDBRequest)return HS(s);if(tm.has(s))return tm.get(s);const e=YS(s);return e!==s&&(tm.set(s,e),qm.set(e,s)),e}const nm=s=>qm.get(s);function KS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Ar(d);return a&&d.addEventListener("upgradeneeded",b=>{a(Ar(d.result),b.oldVersion,b.newVersion,Ar(d.transaction),b)}),i&&d.addEventListener("blocked",b=>i(b.oldVersion,b.newVersion,b)),g.then(b=>{c&&b.addEventListener("close",()=>c()),o&&b.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const XS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],im=new Map;function A0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=$S.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||XS.includes(i)))return;const c=async function(d,...g){const b=this.transaction(d,o?"readwrite":"readonly");let _=b.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&b.done]))[0]};return im.set(e,c),c}GS(s=>({...s,get:(e,i,a)=>A0(e,i)||s.get(e,i,a),has:(e,i)=>!!A0(e,i)||s.has(e,i)}));class JS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ZS(s){return s.getComponent()?.type==="VERSION"}const ym="@firebase/app",S0="0.14.7";const Ds=new Bm("@firebase/app"),WS="@firebase/app-compat",e2="@firebase/analytics-compat",t2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",s2="@firebase/auth",r2="@firebase/auth-compat",a2="@firebase/database",l2="@firebase/data-connect",o2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",p2="@firebase/performance",g2="@firebase/performance-compat",y2="@firebase/remote-config",_2="@firebase/remote-config-compat",v2="@firebase/storage",b2="@firebase/storage-compat",E2="@firebase/firestore",T2="@firebase/ai",A2="@firebase/firestore-compat",S2="firebase",w2="12.8.0";const _m="[DEFAULT]",x2={[ym]:"fire-core",[WS]:"fire-core-compat",[t2]:"fire-analytics",[e2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[s2]:"fire-auth",[r2]:"fire-auth-compat",[a2]:"fire-rtdb",[l2]:"fire-data-connect",[o2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[p2]:"fire-perf",[g2]:"fire-perf-compat",[y2]:"fire-rc",[_2]:"fire-rc-compat",[v2]:"fire-gcs",[b2]:"fire-gcs-compat",[E2]:"fire-fst",[A2]:"fire-fst-compat",[T2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};const ch=new Map,C2=new Map,vm=new Map;function w0(s,e){try{s.container.addComponent(e)}catch(i){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Rl(s){const e=s.name;if(vm.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,s);for(const i of ch.values())w0(i,s);for(const i of C2.values())w0(i,s);return!0}function Hm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function gi(s){return s==null?!1:s.settings!==void 0}const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new mu("app","Firebase",N2);class R2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}const Ul=w2;function ab(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:_m,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(i||(i=eb()),!i)throw Sr.create("no-options");const c=ch.get(o);if(c){if(va(i,c.options)&&va(a,c.config))return c;throw Sr.create("duplicate-app",{appName:o})}const d=new kS(o);for(const b of vm.values())d.addComponent(b);const g=new R2(i,a,d);return ch.set(o,g),g}function lb(s=_m){const e=ch.get(s);if(!e&&s===_m&&eb())return ab();if(!e)throw Sr.create("no-app",{appName:s});return e}function wr(s,e,i){let a=x2[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(d.join(" "));return}Rl(new ba(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const I2="firebase-heartbeat-database",D2=1,su="firebase-heartbeat-store";let sm=null;function ob(){return sm||(sm=KS(I2,D2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(su)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sr.create("idb-open",{originalErrorMessage:s.message})})),sm}async function O2(s){try{const i=(await ob()).transaction(su),a=await i.objectStore(su).get(ub(s));return await i.done,a}catch(e){if(e instanceof ks)Ds.warn(e.message);else{const i=Sr.create("idb-get",{originalErrorMessage:e?.message});Ds.warn(i.message)}}}async function x0(s,e){try{const a=(await ob()).transaction(su,"readwrite");await a.objectStore(su).put(e,ub(s)),await a.done}catch(i){if(i instanceof ks)Ds.warn(i.message);else{const a=Sr.create("idb-set",{originalErrorMessage:i?.message});Ds.warn(a.message)}}}function ub(s){return`${s.name}!${s.options.appId}`}const M2=1024,V2=30;class k2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new U2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=C0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>V2){const o=P2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ds.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C0(),{heartbeatsToSend:i,unsentEntries:a}=j2(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ds.warn(e),""}}}function C0(){return new Date().toISOString().substring(0,10)}function j2(s,e=M2){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),N0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),N0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class U2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await O2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function N0(s){return uh(JSON.stringify({version:2,heartbeats:s})).length}function P2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function L2(s){Rl(new ba("platform-logger",e=>new JS(e),"PRIVATE")),Rl(new ba("heartbeat",e=>new k2(e),"PRIVATE")),wr(ym,S0,s),wr(ym,S0,"esm2020"),wr("fire-js","")}L2("");var z2="firebase",B2="12.8.0";wr(z2,B2,"app");function cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q2=cb,hb=new mu("auth","Firebase",cb());const hh=new Bm("@firebase/auth");function H2(s,...e){hh.logLevel<=qe.WARN&&hh.warn(`Auth (${Ul}): ${s}`,...e)}function Wc(s,...e){hh.logLevel<=qe.ERROR&&hh.error(`Auth (${Ul}): ${s}`,...e)}function is(s,...e){throw Gm(s,...e)}function Ri(s,...e){return Gm(s,...e)}function Fm(s,e,i){const a={...q2(),[e]:i};return new mu("auth","Firebase",a).create(e,{appName:s.name})}function xr(s){return Fm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function F2(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&is(s,"argument-error"),Fm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return hb.create(s,...e)}function Ee(s,e,...i){if(!s)throw Gm(e,...i)}function Rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Wc(e),new Error(e)}function Os(s,e){s||Rs(e)}function bm(){return typeof self<"u"&&self.location?.href||""}function G2(){return R0()==="http:"||R0()==="https:"}function R0(){return typeof self<"u"&&self.location?.protocol||null}function Q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G2()||vS()||"connection"in navigator)?navigator.onLine:!0}function Y2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class gu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Os(i>e,"Short delay should be less than long delay!"),this.isMobile=gS()||bS()}get(){return Q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(s,e){Os(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class fb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const X2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$2=new gu(3e4,6e4);function Nh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Pl(s,e,i,a,o={}){return db(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=pu({key:s.config.apiKey,...d}).slice(1),b=await s._getAdditionalHeaders();b["Content-Type"]="application/json",s.languageCode&&(b["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:b,...c};return _S()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&jl(s.emulatorConfig.host)&&(_.credentials="include"),fb.fetch()(await pb(s,s.config.apiHost,i,g),_)})}async function db(s,e,i){s._canInitEmulator=!1;const a={...K2,...e};try{const o=new J2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Yc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[b,_]=g.split(" : ");if(b==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(s,"credential-already-in-use",d);if(b==="EMAIL_EXISTS")throw Yc(s,"email-already-in-use",d);if(b==="USER_DISABLED")throw Yc(s,"user-disabled",d);const S=a[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Fm(s,S,_);is(s,S)}}catch(o){if(o instanceof ks)throw o;is(s,"network-request-failed",{message:String(o)})}}async function mb(s,e,i,a,o={}){const c=await Pl(s,e,i,a,o);return"mfaPendingCredential"in c&&is(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function pb(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Qm(s.config,o):`${s.config.apiScheme}://${o}`;return X2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class J2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ri(this.auth,"network-request-failed")),$2.get())})}}function Yc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ri(s,e,a);return o.customData._tokenResponse=i,o}async function Z2(s,e){return Pl(s,"POST","/v1/accounts:delete",e)}async function fh(s,e){return Pl(s,"POST","/v1/accounts:lookup",e)}function Wo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W2(s,e=!1){const i=Wt(s),a=await i.getIdToken(e),o=Ym(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Wo(rm(o.auth_time)),issuedAtTime:Wo(rm(o.iat)),expirationTime:Wo(rm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Ym(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zv(i);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function I0(s){const e=Ym(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ru(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof ks&&ew(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ew({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class tw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wo(this.lastLoginAt),this.creationTime=Wo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dh(s){const e=s.auth,i=await s.getIdToken(),a=await ru(s,fh(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?gb(o.providerUserInfo):[],d=iw(s.providerData,c),g=s.isAnonymous,b=!(s.email&&o.passwordHash)&&!d?.length,_=g?b:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function nw(s){const e=Wt(s);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iw(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function gb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function sw(s,e){const i=await db(s,{},async()=>{const a=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await pb(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const b={method:"POST",headers:g,body:a};return s.emulatorConfig&&jl(s.emulatorConfig.host)&&(b.credentials="include"),fb.fetch()(d,b)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rw(s,e){return Pl(s,"POST","/v2/accounts:revokeToken",Nh(s,e))}class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):I0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=I0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await sw(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Al;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Rs("not implemented")}}function _r(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return W2(this,e)}reload(){return nw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await dh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await ru(this,Z2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,b=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:x,emailVerified:V,isAnonymous:K,providerData:ee,stsTokenManager:ae}=i;Ee(x&&ae,e,"internal-error");const re=Al.fromJSON(this.name,ae);Ee(typeof x=="string",e,"internal-error"),_r(a,e.name),_r(o,e.name),Ee(typeof V=="boolean",e,"internal-error"),Ee(typeof K=="boolean",e,"internal-error"),_r(c,e.name),_r(d,e.name),_r(g,e.name),_r(b,e.name),_r(_,e.name),_r(S,e.name);const ge=new Ni({uid:x,auth:e,email:o,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:re,createdAt:_,lastLoginAt:S});return ee&&Array.isArray(ee)&&(ge.providerData=ee.map(Ce=>({...Ce}))),b&&(ge._redirectEventId=b),ge}static async _fromIdTokenResponse(e,i,a=!1){const o=new Al;o.updateFromServerResponse(i);const c=new Ni({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await dh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Al;g.updateFromIdToken(a);const b=new Ni({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(b,_),b}}const D0=new Map;function Is(s){Os(s instanceof Function,"Expected a class definition");let e=D0.get(s);return e?(Os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,D0.set(s,e),e)}class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}yb.type="NONE";const O0=yb;function eh(s,e,i){return`firebase:${s}:${e}:${i}`}class Sl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,c),this.fullPersistenceKey=eh("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await fh(this.auth,{idToken:e}).catch(()=>{});return i?Ni._fromGetAccountInfoResponse(this.auth,i,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Sl(Is(O0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||Is(O0);const d=eh(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let x;if(typeof S=="string"){const V=await fh(e,{idToken:S}).catch(()=>{});if(!V)break;x=await Ni._fromGetAccountInfoResponse(e,V,S)}else x=Ni._fromJSON(e,S);_!==c&&(g=x),c=_;break}}catch{}const b=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!b.length?new Sl(c,e,a):(c=b[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Sl(c,e,a))}}function M0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(Sb(e))return"Webos";if(vb(e))return"Safari";if((e.includes("chrome/")||bb(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function _b(s=En()){return/firefox\//i.test(s)}function vb(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bb(s=En()){return/crios\//i.test(s)}function Eb(s=En()){return/iemobile/i.test(s)}function Tb(s=En()){return/android/i.test(s)}function Ab(s=En()){return/blackberry/i.test(s)}function Sb(s=En()){return/webos/i.test(s)}function Km(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aw(s=En()){return Km(s)&&!!window.navigator?.standalone}function lw(){return ES()&&document.documentMode===10}function wb(s=En()){return Km(s)||Tb(s)||Sb(s)||Ab(s)||/windows phone/i.test(s)||Eb(s)}function xb(s,e=[]){let i;switch(s){case"Browser":i=M0(En());break;case"Worker":i=`${M0(En())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ul}/${a}`}class ow{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const b=e(c);d(b)}catch(b){g(b)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function uw(s,e={}){return Pl(s,"GET","/v2/passwordPolicy",Nh(s,e))}const cw=6;class hw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class fw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await fh(this,{idToken:e}),a=await Ni._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(xr(this));const i=e?Wt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uw(this),i=new hw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Is(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const b=e.addObserver(i,a,o);return()=>{d=!0,b()}}else{const b=e.addObserver(i);return()=>{d=!0,b()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&H2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yu(s){return Wt(s)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=RS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dw(s){Xm=s}function mw(s){return Xm.loadJS(s)}function pw(){return Xm.gapiScript}function gw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function yw(s,e){const i=Hm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(va(c,e??{}))return o;is(o,"already-initialized")}return i.initialize({options:e})}function _w(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function vw(s,e,i){const a=yu(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Cb(e),{host:d,port:g}=bw(e),b=g===null?"":`:${g}`,_={url:`${c}//${d}${b}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(va(_,a.config.emulator)&&va(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,jl(d)?(nb(`${c}//${d}${b}`),ib("Auth",!0)):Ew()}function Cb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bw(s){const e=Cb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:k0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:k0(d)}}}function k0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ew(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Nb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,i){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function wl(s,e){return mb(s,"POST","/v1/accounts:signInWithIdp",Nh(s,e))}const Tw="http://localhost";class Ea extends Nb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):is("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Ea(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return wl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,wl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,wl(e,i)}buildRequest(){const e={requestUri:Tw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=pu(i)}return e}}class $m{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _u extends $m{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class vr extends _u{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";class Ns extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ea._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ns.credential(i,a)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";class br extends _u{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";class Er extends _u{constructor(){super("twitter.com")}static credential(e,i){return Ea._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Er.credential(i,a)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";async function Aw(s,e){return mb(s,"POST","/v1/accounts:signUp",Nh(s,e))}class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Ni._fromIdTokenResponse(e,a,o),d=j0(a);return new Rr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=j0(a);return new Rr({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function j0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function U0(s){if(gi(s.app))return Promise.reject(xr(s));const e=yu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Rr({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await Aw(e,{returnSecureToken:!0}),a=await Rr._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class mh extends ks{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new mh(e,i,a,o)}}function Rb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,c,e,a):c})}async function Sw(s,e,i=!1){const a=await ru(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Rr._forOperation(s,"link",a)}async function ww(s,e,i=!1){const{auth:a}=s;if(gi(a.app))return Promise.reject(xr(a));const o="reauthenticate";try{const c=await ru(s,Rb(a,o,e,s),i);Ee(c.idToken,a,"internal-error");const d=Ym(c.idToken);Ee(d,a,"internal-error");const{sub:g}=d;return Ee(s.uid===g,a,"user-mismatch"),Rr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&is(a,"user-mismatch"),c}}async function xw(s,e,i=!1){if(gi(s.app))return Promise.reject(xr(s));const a="signIn",o=await Rb(s,a,e),c=await Rr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function Cw(s,e,i,a){return Wt(s).onIdTokenChanged(e,i,a)}function Nw(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function Rw(s,e,i,a){return Wt(s).onAuthStateChanged(e,i,a)}function Iw(s){return Wt(s).signOut()}const ph="__sak";class Ib{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dw=1e3,Ow=10;class Db extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,b)=>{this.notifyListeners(d,b)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);lw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ow):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const Mw=Db;class Ob extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Ob.type="SESSION";const Mb=Ob;function Vw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Rh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),b=await Vw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:b})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function Jm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class kw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,b)=>{const _=Jm("",20);o.port1.start();const S=setTimeout(()=>{b(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const V=x;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{b(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(S),clearTimeout(c),b(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Wi(){return window}function jw(s){Wi().location.href=s}function Vb(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function Uw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pw(){return navigator?.serviceWorker?.controller||null}function Lw(){return Vb()?self:null}const kb="firebaseLocalStorageDb",zw=1,gh="firebaseLocalStorage",jb="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function Bw(){const s=indexedDB.deleteDatabase(kb);return new vu(s).toPromise()}function Tm(){const s=indexedDB.open(kb,zw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(gh,{keyPath:jb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(gh)?e(a):(a.close(),await Bw(),e(await Tm()))})})}async function P0(s,e,i){const a=Ih(s,!0).put({[jb]:e,value:i});return new vu(a).toPromise()}async function qw(s,e){const i=Ih(s,!1).get(e),a=await new vu(i).toPromise();return a===void 0?null:a.value}function L0(s,e){const i=Ih(s,!0).delete(e);return new vu(i).toPromise()}const Hw=800,Fw=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Uw(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await P0(e,ph,"1"),await L0(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>P0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>qw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>L0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ih(o,!1).getAll();return new vu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const Gw=Ub;new gu(3e4,6e4);function Pb(s,e){return e?Is(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Zm extends Nb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return wl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Qw(s){return xw(s.auth,new Zm(s),s.bypassAuthState)}function Yw(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),ww(i,new Zm(s),s.bypassAuthState)}async function Kw(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),Sw(i,new Zm(s),s.bypassAuthState)}class Lb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const b={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(b))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qw;case"linkViaPopup":case"linkViaRedirect":return Kw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:is(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xw=new gu(2e3,1e4);async function $w(s,e,i){if(gi(s.app))return Promise.reject(Ri(s,"operation-not-supported-in-this-environment"));const a=yu(s);F2(s,e,$m);const o=Pb(a,i);return new pa(a,"signInViaPopup",e,o).executeNotNull()}class pa extends Lb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xw.get())};e()}}pa.currentPopupAction=null;const Jw="pendingRedirect",th=new Map;class Zw extends Lb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const a=await Ww(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ww(s,e){const i=nx(e),a=tx(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function ex(s,e){th.set(s._key(),e)}function tx(s){return Is(s._redirectPersistence)}function nx(s){return eh(Jw,s.config.apiKey,s.name)}async function ix(s,e,i=!1){if(gi(s.app))return Promise.reject(xr(s));const a=yu(s),o=Pb(a,e),d=await new Zw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const sx=600*1e3;class rx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ax(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!zb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sx&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function zb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function ax(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(s);default:return!1}}async function lx(s,e={}){return Pl(s,"GET","/v1/projects",e)}const ox=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ux=/^https?/;async function cx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lx(s);for(const i of e)try{if(hx(i))return}catch{}is(s,"unauthorized-domain")}function hx(s){const e=bm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!ux.test(i))return!1;if(ox.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const fx=new gu(3e4,6e4);function B0(){const s=Wi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function dx(s){return new Promise((e,i)=>{function a(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),i(Ri(s,"network-request-failed"))},timeout:fx.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)a();else{const o=gw("iframefcb");return Wi()[o]=()=>{gapi.load?a():i(Ri(s,"network-request-failed"))},mw(`${pw()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw nh=null,e})}let nh=null;function mx(s){return nh=nh||dx(s),nh}const px=new gu(5e3,15e3),gx="__/auth/iframe",yx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bx(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Qm(e,yx):`https://${s.config.authDomain}/${gx}`,a={apiKey:e.apiKey,appName:s.name,v:Ul},o=vx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${pu(a).slice(1)}`}async function Ex(s){const e=await mx(s),i=Wi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:bx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),g=Wi().setTimeout(()=>{c(d)},px.get());function b(){Wi().clearTimeout(g),o(a)}a.ping(b).then(b,()=>{c(d)})}))}const Tx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Sx=600,wx="_blank",xx="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cx(s,e,i,a=Ax,o=Sx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const b={...Tx,width:a.toString(),height:o.toString(),top:c,left:d},_=En().toLowerCase();i&&(g=bb(_)?wx:i),_b(_)&&(e=e||xx,b.scrollbars="yes");const S=Object.entries(b).reduce((V,[K,ee])=>`${V}${K}=${ee},`,"");if(aw(_)&&g!=="_self")return Nx(e||"",g),new q0(null);const x=window.open(e||"",g,S);Ee(x,s,"popup-blocked");try{x.focus()}catch{}return new q0(x)}function Nx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Rx="__/auth/handler",Ix="emulator/auth/handler",Dx=encodeURIComponent("fac");async function H0(s,e,i,a,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ul,eventId:o};if(e instanceof $m){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",NS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(e instanceof _u){const S=e.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const b=await s._getAppCheckToken(),_=b?`#${Dx}=${encodeURIComponent(b)}`:"";return`${Ox(s)}?${pu(g).slice(1)}${_}`}function Ox({config:s}){return s.emulator?Qm(s,Ix):`https://${s.authDomain}/${Rx}`}const am="webStorageSupport";class Mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=ix,this._overrideRedirectResult=ex}async _openPopup(e,i,a,o){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await H0(e,i,a,bm(),o);return Cx(e,c,Jm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await H0(e,i,a,bm(),o);return jw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Ex(e),a=new rx(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},o=>{const c=o?.[0]?.[am];c!==void 0&&i(!!c),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=cx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return wb()||vb()||Km()}}const Vx=Mx;var F0="@firebase/auth",G0="1.12.0";class kx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(s){Rl(new ba("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const b={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(s)},_=new fw(a,o,c,b);return _w(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Rl(new ba("auth-internal",e=>{const i=yu(e.getProvider("auth").getImmediate());return(a=>new kx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(F0,G0,jx(s)),wr(F0,G0,"esm2020")}const Px=300,Lx=tb("authIdTokenMaxAge")||Px;let Q0=null;const zx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Lx)return;const o=i?.token;Q0!==o&&(Q0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Bx(s=lb()){const e=Hm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=yw(s,{popupRedirectResolver:Vx,persistence:[Gw,Mw,Mb]}),a=tb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=zx(c.toString());Nw(i,d,()=>d(i.currentUser)),Cw(i,g=>d(g))}}const o=Wv("auth");return o&&vw(i,`http://${o}`),i}function qx(){return document.getElementsByTagName("head")?.[0]??document}dw({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Ri("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",qx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Cr,Bb;(function(){var s;function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,D,j){for(var C=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)C[Ke-2]=arguments[Ke];return w.prototype[D].apply(k,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,R){R||(R=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],D=I.g[2];let j=I.g[3],C;C=w+(j^R&(D^j))+k[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[1]+3905402710&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[2]+606105819&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(j^R&(D^j))+k[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[5]+1200080426&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[6]+2821735955&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(j^R&(D^j))+k[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[9]+2336552879&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[10]+4294925233&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(j^R&(D^j))+k[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[13]+4254626195&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[14]+2792965006&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^j&(R^D))+k[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[6]+3225465664&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[11]+643717713&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(R^D))+k[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[10]+38016083&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[15]+3634488961&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(R^D))+k[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[14]+3275163606&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[3]+4107603335&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(R^D))+k[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[2]+4243563512&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[7]+1735328473&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^j)+k[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[8]+2272392833&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[11]+1839030562&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^j)+k[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[4]+1272893353&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[7]+4139469664&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^j)+k[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[0]+3936430074&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[3]+3572445317&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^j)+k[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[12]+3873151461&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[15]+530742520&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~j))+k[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[7]+1126891415&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[14]+2878612391&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~j))+k[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[3]+2399980690&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[10]+4293915773&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~j))+k[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[15]+4264355552&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[6]+2734768916&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~j))+k[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[11]+3174756917&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[2]+718787259&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+j&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=R;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(k[D++]=I.charCodeAt(j++),D==this.blockSize){o(this,k),D=0;break}}else for(;j<w;)if(k[D++]=I[j++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[w++]=this.g[R]>>>k&255;return I};function c(I,w){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function d(I,w){this.h=w;const R=[];let k=!0;for(let D=I.length-1;D>=0;D--){const j=I[D]|0;k&&j==w||(R[D]=j,k=!1)}this.g=R}var g={};function b(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return re(_(-I));const w=[];let R=1;for(let k=0;I>=R;k++)w[k]=I/R|0,R*=4294967296;return new d(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return re(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let k=x;for(let j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j);const C=parseInt(I.substring(j,j+D),w);D<8?(D=_(Math.pow(w,D)),k=k.j(D).add(_(C))):(k=k.j(R),k=k.add(_(C)))}return k}var x=b(0),V=b(1),K=b(16777216);s=d.prototype,s.m=function(){if(ae(this))return-re(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(ae(this))return"-"+re(this).toString(I);const w=_(Math.pow(I,6));var R=this;let k="";for(;;){const D=ot(R,w).g;R=ge(R,D.j(w));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,ee(R))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function ae(I){return I.h==-1}s.l=function(I){return I=ge(this,I),ae(I)?-1:ee(I)?0:1};function re(I){const w=I.g.length,R=[];for(let k=0;k<w;k++)R[k]=~I.g[k];return new d(R,~I.h).add(V)}s.abs=function(){return ae(this)?re(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let D=0;D<=w;D++){let j=k+(this.i(D)&65535)+(I.i(D)&65535),C=(j>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=C>>>16,j&=65535,C&=65535,R[D]=C<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ge(I,w){return I.add(re(w))}s.j=function(I){if(ee(this)||ee(I))return x;if(ae(this))return ae(I)?re(this).j(re(I)):re(re(this).j(I));if(ae(I))return re(this.j(re(I)));if(this.l(K)<0&&I.l(K)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var k=0;k<2*w;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const j=this.i(k)>>>16,C=this.i(k)&65535,Ke=I.i(D)>>>16,St=I.i(D)&65535;R[2*k+2*D]+=C*St,Ce(R,2*k+2*D),R[2*k+2*D+1]+=j*St,Ce(R,2*k+2*D+1),R[2*k+2*D+1]+=C*Ke,Ce(R,2*k+2*D+1),R[2*k+2*D+2]+=j*Ke,Ce(R,2*k+2*D+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new d(R,0)};function Ce(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function be(I,w){this.g=I,this.h=w}function ot(I,w){if(ee(w))throw Error("division by zero");if(ee(I))return new be(x,x);if(ae(I))return w=ot(re(I),w),new be(re(w.g),re(w.h));if(ae(w))return w=ot(I,re(w)),new be(re(w.g),w.h);if(I.g.length>30){if(ae(I)||ae(w))throw Error("slowDivide_ only works with positive integers.");for(var R=V,k=w;k.l(I)<=0;)R=pt(R),k=pt(k);var D=Qe(R,1),j=Qe(k,1);for(k=Qe(k,2),R=Qe(R,2);!ee(k);){var C=j.add(k);C.l(I)<=0&&(D=D.add(R),j=C),k=Qe(k,1),R=Qe(R,1)}return w=ge(I,D.j(w)),new be(D,w)}for(D=x;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=_(R),C=j.j(w);ae(C)||C.l(I)>0;)R-=k,j=_(R),C=j.j(w);ee(j)&&(j=V),D=D.add(j),I=ge(I,C)}return new be(D,I)}s.B=function(I){return ot(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)&I.i(k);return new d(R,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)|I.i(k);return new d(R,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)^I.i(k);return new d(R,this.h^I.h)};function pt(I){const w=I.g.length+1,R=[];for(let k=0;k<w;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(R,I.h)}function Qe(I,w){const R=w>>5;w%=32;const k=I.g.length-R,D=[];for(let j=0;j<k;j++)D[j]=w>0?I.i(j+R)>>>w|I.i(j+R+1)<<32-w:I.i(j+R);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Bb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Cr=d}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qb,Ko,Hb,ih,Am,Fb,Gb,Qb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=b,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,q){for(var ne=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ne[Ne-2]=arguments[Ne];return m.prototype[P].apply(A,ne)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function ee(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let ne=0;ne<q;ne++)u[v+ne]=P[ne]}else u.push(P)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,v){const A=be.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var be=new ae(()=>new ot,u=>u.reset());class ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,Qe=!1,I=new Ce,w=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(R)}};function R(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){re(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Qe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Ke(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Ke,D),Ke.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Xe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,v,A,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=W(u,m,A,P);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new te(m,this.src,q,!!A,P),m.fa=v,u.push(m)),m};function _e(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(A,P,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function W(u,m,v,A){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return P}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),kt={};function $e(u,m,v,A,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)$e(u,m[q],v,A,P);return null}return v=Us(v),u&&u[St]?u.J(m,v,g(A)?!!A.capture:!1,P):Mi(u,m,v,!1,A,P)}function Mi(u,m,v,A,P,q){if(!m)throw Error("Invalid event type");const ne=g(P)?!!P.capture:!!P;let Ne=ki(u);if(Ne||(u[xe]=Ne=new ue(u)),v=Ne.add(m,v,A,ne,q),v.proxy)return v;if(A=Vi(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)j||(P=ne),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Vi(){function u(v){return m.call(u.src,u.listener,v)}const m=js;return u}function rs(u,m,v,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)rs(u,m[q],v,A,P);else A=g(A)?!!A.capture:!!A,v=Us(v),u&&u[St]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=W(m,v,A,P),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=W(m,v,A,P)),(v=u>-1?m[u]:null)&&_i(v))}function _i(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])_e(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Ln(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ki(m))?(_e(v,u),v.h==0&&(v.src=null,m[xe]=null)):de(u)}}}function Ln(u){return u in kt?kt[u]:kt[u]="on"+u}function js(u,m){if(u.da)u=!0;else{m=new Ke(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&_i(u),u=v.call(A,m)}return u}function ki(u){return u=u[xe],u instanceof ue?u:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Us(u){return typeof u=="function"?u:(u[Lr]||(u[Lr]=function(m){return u.handleEvent(m)}),u[Lr])}function wt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}x(wt,k),wt.prototype[St]=!0,wt.prototype.removeEventListener=function(u,m,v,A){rs(this,u,m,v,A)};function Rt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(A,u),se(m,P)}P=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],P=vi(q,A,!0,m)&&P;if(q=m.g=u,P=vi(q,A,!0,m)&&P,P=vi(q,A,!1,m)&&P,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],P=vi(q,A,!1,m)&&P}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)de(v[A]);delete u.g[m],u.h--}}this.G=null},wt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},wt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function vi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const Ne=ne.listener,jt=ne.ha||ne.src;ne.fa&&_e(u.i,ne),P=Ne.call(jt,A)!==!1&&P}}return P&&!A.defaultPrevented}function qt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ti(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class le extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(u){k.call(this),this.h=u,this.g={}}x(yt,k);var it=[];function wn(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&_i(m)},u),u.g={}}yt.prototype.N=function(){yt.Z.N.call(this),wn(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=d.JSON.stringify,Fl=d.JSON.parse,Ui=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Na(){}function Ra(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){D.call(this,"d")}x(en,D);function Cn(){D.call(this,"c")}x(Cn,D);var xt={},zr=null;function Ps(){return zr=zr||new wt}xt.Ia="serverreachability";function Ls(u){D.call(this,xt.Ia,u)}x(Ls,D);function ni(u){const m=Ps();Rt(m,new Ls(m))}xt.STAT_EVENT="statevent";function Pi(u,m){D.call(this,xt.STAT_EVENT,u),this.stat=m}x(Pi,D);function It(u){const m=Ps();Rt(m,new Pi(m,u))}xt.Ja="timingevent";function Nn(u,m){D.call(this,xt.Ja,u),this.size=m}x(Nn,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Gl(u,m,v,A,P,q){u.info(function(){if(u.g)if(q){var ne="",Ne=q.split("&");for(let We=0;We<Ne.length;We++){var jt=Ne[We].split("=");if(jt.length>1){const Tt=jt[0];jt=jt[1];const li=Tt.split("_");ne=li.length>=2&&li[1]=="type"?ne+(Tt+"="+jt+"&"):ne+(Tt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+ne})}function Ia(u,m,v,A,P,q,ne){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+ne})}function si(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zs(u,v)+(A?" "+A:"")})}function as(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function zs(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return ji(q)}catch{return m}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qr;function os(){}x(os,Na),os.prototype.g=function(){return new XMLHttpRequest},qr=new os;function Bn(u){return encodeURIComponent(String(u))}function Da(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Dt={},Ht={};function T(u,m,v){u.M=1,u.A=Fr(Ft(m)),u.u=v,u.R=!0,Z(u,null)}function Z(u,m){u.F=Date.now(),Ve(u),u.B=Ft(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Va(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Hn,u.g=zu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new le(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(it[0]=P.toString()),P=it);for(let q=0;q<P.length;q++){const ne=$e(v,P[q],A||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Gl(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ti(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Ti(this.g),jt=this.g.ya(),We=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Ne!=4||jt==7||(jt==8||We<=0?ni(3):ni(2)),ln(this);var m=this.g.ca();this.X=m;var v=ie(this);if(this.o=m==200,Ia(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break t}}q=null}if(u=q)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gn(this,u);else{this.o=!1,this.m=3,It(12),dt(this),_t(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=Me(this,v),Tt==Ht){Ne==4&&(this.m=4,It(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Dt){this.m=4,It(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,Tt,null),gn(this,Tt);if(Ae(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,It(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),dt(this),_t(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),so(ne),ne.P=!0,It(11))}}else si(this.i,this.l,v,null),gn(this,v);Ne==4&&dt(this),this.o&&!this.K&&(Ne==4?ju(this.j,this):(this.o=!1,Ve(this)))}else hs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),dt(this),_t(this)}}}catch{}};function ie(u){if(!Ae(u))return u.g.la();const m=on(u.g);if(m==="")return"";let v="";const A=m.length,P=Ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dt(u),_t(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ae(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Me(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ht:(v=Number(m.substring(v,A)),isNaN(v)?Dt:(A+=1,A+v>m.length?Ht:(m=m.slice(A,A+v),u.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,dt(this)};function Ve(u){u.T=Date.now()+u.H,Ot(u,u.H)}function Ot(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function ln(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(ni(),It(17)),dt(this),this.m=2,_t(this)):Ot(this,this.T-u)};function _t(u){u.j.I==0||u.K||ju(u.j,u)}function dt(u){ln(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gn(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Li(v.h,u))){if(!u.L&&Li(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)La(v),Ks(v);else break e;Jr(v),It(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));Fn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Gi(v,11)}else if((u.L||v.g==u)&&La(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let We=P[m];const Tt=We[0];if(!(Tt<=v.K))if(v.K=Tt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const li=We[3];li!=null&&(v.ka=li,v.j.info("VER="+v.ka));const Qi=We[4];Qi!=null&&(v.za=Qi,v.j.info("SVER="+v.za));const Ai=We[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(A=1.5*Ai,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Si=u.g;if(Si){const Zr=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zr){var q=A.h;q.g||Zr.indexOf("spdy")==-1&&Zr.indexOf("quic")==-1&&Zr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ql(q,q.h),q.h=null))}if(A.G){const za=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(A.wa=za,st(A.J,A.G,za))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ne=u;if(A.na=Lu(A,A.L?A.ba:null,A.W),ne.L){Yl(A.h,ne);var Ne=ne,jt=A.O;jt&&(Ne.H=jt),Ne.D&&(ln(Ne),Ve(Ne)),A.g=ne}else Vu(A);v.i.length>0&&Fi(v)}else We[0]!="stop"&&We[0]!="close"||Gi(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Gi(v,7):no(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}ni(4)}catch{}}var Ct=class{constructor(u,m){this.g=u,this.map=m}};function Hr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function us(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fn(u){return u.h?1:u.g?u.g.size:0}function Li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ql(u,m){u.g?u.g.add(m):u.h=m}function Yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Hr.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,q=null;A>=0?(P=u[v].substring(0,A),q=u[v].substring(A+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Gn?(this.l=u.l,sn(this,u.j),this.o=u.o,this.g=u.g,Bs(this,u.u),this.h=u.h,Xl(this,Ou(u.i)),this.m=u.m):u&&(m=String(u).match(Nu))?(this.l=!1,sn(this,m[1]||"",!0),this.o=zi(m[2]||""),this.g=zi(m[3]||"",!0),Bs(this,m[4]),this.h=zi(m[5]||"",!0),Xl(this,m[6]||"",!0),this.m=zi(m[7]||"")):(this.l=!1,this.i=new Hs(null,this.l))}Gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Gr(m,Ma,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gr(m,Ma,!0),"@"),u.push(Bn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gr(v,v.charAt(0)=="/"?$l:Ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gr(v,Iu)),u.join("")},Gn.prototype.resolve=function(u){const m=Ft(this);let v=!!u.j;v?sn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Bs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ne=0;ne<P.length;){const Ne=P[ne++];Ne=="."?A&&ne==P.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ne==P.length&&q.push("")):(q.push(Ne),A=!0)}A=q.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Xl(m,Ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ft(u){return new Gn(u)}function sn(u,m,v){u.j=v?zi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Xl(u,m,v){m instanceof Hs?(u.i=m,ka(u.i,u.l)):(v||(m=Gr(m,qs)),u.i=new Hs(m,u.l))}function st(u,m,v){u.i.set(m,v)}function Fr(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function zi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ma=/[#\/\?@]/g,Ru=/[#\?:]/g,$l=/[#\?]/g,qs=/[#\?@]/g,Iu=/#/g;function Hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&Oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Hs.prototype,s.add=function(u,m){In(this),this.i=null,u=Fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Du(u,m){In(u),m=Fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Jl(u,m){return In(u),m=Fs(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function Zl(u,m){In(u);let v=[];if(typeof m=="string")Jl(u,m)&&(v=v.concat(u.g.get(Fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return In(this),this.i=null,u=Fs(this,u),Jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Zl(this,u),u.length>0?String(u[0]):m):m};function Va(u,m,v){Du(u,m),v.length>0&&(u.i=null,u.g.set(Fs(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Bn(v);v=Zl(this,v);for(let q=0;q<v.length;q++){let ne=P;v[q]!==""&&(ne+="="+Bn(v[q])),u.push(ne)}}return this.i=u.join("&")};function Ou(u){const m=new Hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ka(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Du(this,A),Va(this,P,v))},u)),u.j=m}function bi(u,m){const v=new zn;if(d.Image){const A=new Image;A.onload=S(ri,v,"TestLoadImage: loaded",!0,m,A),A.onerror=S(ri,v,"TestLoadImage: error",!1,m,A),A.onabort=S(ri,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(ri,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Wl(u,m){const v=new zn,A=new AbortController,P=setTimeout(()=>{A.abort(),ri(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?ri(v,"TestPingServer: ok",!0,m):ri(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),ri(v,"TestPingServer: error",!1,m)})}function ri(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Gs(){this.g=new Ui}function Bi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Bi,Na),Bi.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(u,m){wt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Qr,wt),s=Qr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qs(this):Ei(this),this.readyState==3&&ja(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Qs(this))},s.Na=function(u){this.g&&(this.response=u,Qs(this))},s.ga=function(){this.g&&Qs(this)};function Qs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ei(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ai(u){let m="";return Ue(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Yr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=ai(v),typeof u=="string"?v!=null&&Bn(v):st(u,m,v))}function ut(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ut,wt);var qi=/^https?$/i,eo=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qr.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Kr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(eo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Kr(this,q)}};function Kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,to(u),cs(u)}function to(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),cs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cs(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},s.Xa=function(){Xr(this)};function Xr(u){if(u.h&&typeof c<"u"){if(u.v&&Ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),Ti(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ne=String(u.D).match(Nu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),A=!qi.test(ne?ne.toLowerCase():"")}v=A}if(v)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var P=Ti(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",to(u)}}finally{cs(u)}}}}function cs(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Rt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fl(m)}};function on(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(u){const m={};u=(u.g&&Ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=Da(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Xe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ys(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,u),this.Za=Hi("retryDelaySeedMs",1e4,u),this.Ta=Hi("forwardChannelMaxRetries",2,u),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Hr(u&&u.concurrentRequestLimit),this.Ba=new Gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ys.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){It(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Lu(this,null,this.W),Fi(this)};function no(u){if(Ua(u),u.I==3){var m=u.V++,v=Ft(u.J);if(st(v,"SID",u.M),st(v,"RID",m),st(v,"TYPE","terminate"),$r(u,v),m=new qn(u,u.j,m),m.M=2,m.A=Fr(Ft(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=zu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ve(m)}Pu(u)}function Ks(u){u.g&&(so(u),u.g.cancel(),u.g=null)}function Ua(u){Ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),La(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Fi(u){if(!us(u.h)&&!u.m){u.m=!0;var m=u.Ea;pt||w(),Qe||(pt(),Qe=!0),I.add(m,u),u.D=0}}function Pa(u,m){return Fn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),Uu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Mu(this,P,m),v=Ft(this.J),st(v,"RID",u),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),$r(this,v),q&&(this.R?m="headers="+Bn(ai(q))+"&"+m:this.u&&Yr(v,this.u,q)),Ql(this.h,P),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),P.U=!0,T(P,v,null)):T(P,v,m),this.I=2}}else this.I==3&&(u?io(this,u):this.i.length==0||us(this.h)||io(this))};function io(u,m){var v;m?v=m.l:v=u.V++;const A=Ft(u.J);st(A,"SID",u.M),st(A,"RID",v),st(A,"AID",u.K),$r(u,A),u.u&&u.o&&Yr(A,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ql(u.h,v),T(v,A,m)}function $r(u,m){u.H&&Ue(u.H,function(v,A){st(m,A,v)}),u.l&&Ue({},function(v,A){st(m,A,v)})}function Mu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ne=-1;for(;;){const jt=["count="+v];Ne==-1?v>0?(Ne=P[0].g,jt.push("ofs="+Ne)):Ne=0:jt.push("ofs="+Ne);let We=!0;for(let Tt=0;Tt<v;Tt++){var q=P[Tt].g;const li=P[Tt].map;if(q-=Ne,q<0)Ne=Math.max(0,P[Tt].g-100),We=!1;else try{q="req"+q+"_"||"";try{var ne=li instanceof Map?li:Object.entries(li);for(const[Qi,Ai]of ne){let Si=Ai;g(Ai)&&(Si=ji(Ai)),jt.push(q+Qi+"="+encodeURIComponent(Si))}}catch(Qi){throw jt.push(q+"type="+encodeURIComponent("_badmap")),Qi}}catch{A&&A(li)}}if(We){ne=jt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function Vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pt||w(),Qe||(pt(),Qe=!0),I.add(m,u),u.A=0}}function Jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),Uu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ks(this),ku(this))};function so(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ku(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ft(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),$r(u,m),u.u&&u.o&&Yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Fr(Ft(m)),v.u=null,v.R=!0,Z(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ks(this),Jr(this),It(19))};function La(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ju(u,m){var v=null;if(u.g==m){La(u),so(u),u.g=null;var A=2}else if(Li(u.h,m))v=m.G,Yl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=Ps(),Rt(A,new Nn(A,v)),Fi(u)}else Vu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&Pa(u,m)||A==2&&Jr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Gi(u,5);break;case 4:Gi(u,10);break;case 3:Gi(u,6);break;default:Gi(u,2)}}}function Uu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const P=!A;A=new Gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(A,"https"),Fr(A),P?bi(A.toString(),v):Wl(A.toString(),v)}else It(2);u.I=0,u.l&&u.l.pa(m),Pu(u),Ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Pu(u){if(u.I=0,u.ja=[],u.l){const m=Kl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Lu(u,m,v){var A=v instanceof Gn?Ft(v):new Gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Bs(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Gn(null);A&&sn(q,A),m&&(q.g=m),P&&Bs(q,P),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&st(A,v,m),st(A,"VER",u.ka),$r(u,A),A}function zu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Bi({ab:v})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}s=Bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Xs(){}Xs.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){wt.call(this),this.g=new Ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fs(this)}x(Tn,wt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){no(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ji(u),u=v);m.i.push(new Ct(m.Ya++,u)),m.I==3&&Fi(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,Tn.Z.N.call(this)};function qu(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(qu,en);function Hu(){Cn.call(this),this.status=1}x(Hu,Cn);function fs(u){this.g=u}x(fs,Bu),fs.prototype.ra=function(){Rt(this.g,"a")},fs.prototype.qa=function(u){Rt(this.g,new qu(u))},fs.prototype.pa=function(u){Rt(this.g,new Hu)},fs.prototype.oa=function(){Rt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Qb=function(){return new Xs},Gb=function(){return Ps()},Fb=xt,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,ih=ls,Br.COMPLETE="complete",Hb=Br,Ra.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ko=Ra,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,qb=ut}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Ll="12.8.0";function Hx(s){Ll=s}const Ta=new Bm("@firebase/firestore");function vl(){return Ta.logLevel}function ce(s,...e){if(Ta.logLevel<=qe.DEBUG){const i=e.map(Wm);Ta.debug(`Firestore (${Ll}): ${s}`,...i)}}function Ms(s,...e){if(Ta.logLevel<=qe.ERROR){const i=e.map(Wm);Ta.error(`Firestore (${Ll}): ${s}`,...i)}}function Il(s,...e){if(Ta.logLevel<=qe.WARN){const i=e.map(Wm);Ta.warn(`Firestore (${Ll}): ${s}`,...i)}}function Wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Yb(s,a,i)}function Yb(s,e,i){let a=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ms(a),new Error(a)}function tt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Yb(e,o,a)}function we(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ks{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ya{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Kb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class Gx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Qx{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){tt(this.o===void 0,42304);let a=this.i;const o=b=>this.i!==a?(a=this.i,i(b)):Promise.resolve();let c=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ya,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const b=c;e.enqueueRetryable((async()=>{await b.promise,await o(this.currentUser)}))},g=b=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((b=>g(b))),setTimeout((()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ya)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(tt(typeof a.accessToken=="string",31837,{l:a}),new Kb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class Yx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Kx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Yx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){tt(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(tt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new K0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $x(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$x(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function He(s,e){return s<e?-1:s>e?1:0}function Sm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return lm(o)===lm(c)?He(o,c):lm(o)?1:-1}return He(s.length,e.length)}const Jx=55296,Zx=57343;function lm(s){const e=s.charCodeAt(0);return e>=Jx&&e<=Zx}function Dl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const X0="__name__";class Zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const a=Zi.isNumericId(e),o=Zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Zi.extractNumericId(e).compare(Zi.extractNumericId(i)):Sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}}class gt extends Zi{construct(e,i,a){return new gt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new gt(i)}static emptyPath(){return new gt([])}}const Wx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Zi{construct(e,i,a){return new mn(e,i,a)}static isValidIdentifier(e){return Wx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new mn([X0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if(b!=="\\"&&b!=="."&&b!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=b,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(i)}static emptyPath(){return new mn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(gt.fromString(e))}static fromName(e){return new pe(gt.fromString(e).popFirst(5))}static empty(){return new pe(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new gt(e.slice()))}}function Xb(s,e,i){if(!i)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function eC(s,e,i,a){if(e===!0&&a===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $0(s){if(!pe.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function J0(s){if(pe.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $b(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function Ii(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dh(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function bu(s,e){if(!$b(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new oe(X.INVALID_ARGUMENT,i);return!0}const Z0=-62135596800,W0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*W0);return new Et(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Z0)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Zt("string",Et._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Et(0,0))}static max(){return new Te(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function tC(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new Et(i+1,0):new Et(i,a));return new Ir(o,pe.empty(),e)}function nC(s){return new Ir(s.readTime,s.key,au)}class Ir{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ir(Te.min(),pe.empty(),au)}static max(){return new Ir(Te.max(),pe.empty(),au)}}function iC(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const sC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zl(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==sC)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(b=>a(b)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let b=0;b<c;b++){const _=b;i(e[_]).next((S=>{d[_]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function aC(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Bl(s){return s.name==="IndexedDbTransactionError"}class Oh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Oh.ce=-1;const tp=-1;function Mh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function lC(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Jb="";function oC(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ev(e)),e=uC(s.get(i),e);return ev(e)}function uC(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Jb:i+="";break;default:i+=c}}return i}function ev(s){return s+Jb+""}function tv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ur(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Zb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Nt{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new Nt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??dn.RED,this.left=o??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new dn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new nn(this.comparator);return i.data=e,i}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new ei([])}unionWith(e){let i=new nn(mn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new ei(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Wb("Invalid base64 string: "+c):c}})(e);return new pn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new pn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const cC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(s){if(tt(!!s,39018),typeof s=="string"){let e=0;const i=cC.exec(s);if(tt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:zt(s.seconds),nanos:zt(s.nanos)}}function zt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Or(s){return typeof s=="string"?pn.fromBase64String(s):pn.fromUint8Array(s)}const eE="server_timestamp",tE="__type__",nE="__previous_value__",iE="__local_write_time__";function np(s){return(s?.mapValue?.fields||{})[tE]?.stringValue===eE}function Vh(s){const e=s.mapValue.fields[nE];return np(e)?Vh(e):e}function lu(s){const e=Dr(s.mapValue.fields[iE].timestampValue);return new Et(e.seconds,e.nanos)}class hC{constructor(e,i,a,o,c,d,g,b,_,S,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=b,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=x}}const _h="(default)";class ou{constructor(e,i){this.projectId=e,this.database=i||_h}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function fC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(s.options.projectId,e)}const sE="__type__",dC="__max__",$c={mapValue:{}},rE="__vector__",vh="value";function Mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?np(s)?4:pC(s)?9007199254740991:mC(s)?10:11:ve(28295,{value:s})}function ss(s,e){if(s===e)return!0;const i=Mr(s);if(i!==Mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return lu(s).isEqual(lu(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Dr(o.timestampValue),g=Dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return Or(o.bytesValue).isEqual(Or(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return zt(o.geoPointValue.latitude)===zt(c.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return zt(o.integerValue)===zt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=zt(o.doubleValue),g=zt(c.doubleValue);return d===g?yh(d)===yh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Dl(s.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(tv(d)!==tv(g))return!1;for(const b in d)if(d.hasOwnProperty(b)&&(g[b]===void 0||!ss(d[b],g[b])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function uu(s,e){return(s.values||[]).find((i=>ss(i,e)))!==void 0}function Ol(s,e){if(s===e)return 0;const i=Mr(s),a=Mr(e);if(i!==a)return He(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=zt(c.integerValue||c.doubleValue),b=zt(d.integerValue||d.doubleValue);return g<b?-1:g>b?1:g===b?0:isNaN(g)?isNaN(b)?0:-1:1})(s,e);case 3:return iv(s.timestampValue,e.timestampValue);case 4:return iv(lu(s),lu(e));case 5:return Sm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=Or(c),b=Or(d);return g.compareTo(b)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),b=d.split("/");for(let _=0;_<g.length&&_<b.length;_++){const S=He(g[_],b[_]);if(S!==0)return S}return He(g.length,b.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(zt(c.latitude),zt(d.latitude));return g!==0?g:He(zt(c.longitude),zt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return sv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},b=d.fields||{},_=g[vh]?.arrayValue,S=b[vh]?.arrayValue,x=He(_?.values?.length||0,S?.values?.length||0);return x!==0?x:sv(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===$c.mapValue&&d===$c.mapValue)return 0;if(c===$c.mapValue)return 1;if(d===$c.mapValue)return-1;const g=c.fields||{},b=Object.keys(g),_=d.fields||{},S=Object.keys(_);b.sort(),S.sort();for(let x=0;x<b.length&&x<S.length;++x){const V=Sm(b[x],S[x]);if(V!==0)return V;const K=Ol(g[b[x]],_[S[x]]);if(K!==0)return K}return He(b.length,S.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function iv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=Dr(s),a=Dr(e),o=He(i.seconds,a.seconds);return o!==0?o:He(i.nanos,a.nanos)}function sv(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ol(i[o],a[o]);if(c)return c}return He(i.length,a.length)}function Ml(s){return wm(s)}function wm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Dr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Or(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=wm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${wm(i.fields[d])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function sh(s){switch(Mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(s);return e?16+sh(e):16;case 5:return 2*s.stringValue.length;case 6:return Or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+sh(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ur(a.fields,((c,d)=>{o+=c.length+sh(d)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function rv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function xm(s){return!!s&&"integerValue"in s}function ip(s){return!!s&&"arrayValue"in s}function av(s){return!!s&&"nullValue"in s}function lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function rh(s){return!!s&&"mapValue"in s}function mC(s){return(s?.mapValue?.fields||{})[sE]?.stringValue===rE}function eu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ur(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=eu(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eu(s.arrayValue.values[i]);return e}return{...s}}function pC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===dC}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!rh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(i)}setAll(e){let i=mn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const b=this.getFieldsMap(i);this.applyChanges(b,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=eu(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());rh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ur(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Pn(eu(this.value))}}function aE(s){const e=[];return Ur(s.fields,((i,a)=>{const o=new mn([i]);if(rh(a)){const c=aE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new ei(e)}class bn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new bn(e,0,Te.min(),Te.min(),Te.min(),Pn.empty(),0)}static newFoundDocument(e,i,a,o){return new bn(e,1,i,Te.min(),a,o,0)}static newNoDocument(e,i){return new bn(e,2,i,Te.min(),Te.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,Te.min(),Te.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,i){this.position=e,this.inclusive=i}}function ov(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=Ol(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function uv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ss(s.position[i],e.position[i]))return!1;return!0}class cu{constructor(e,i="asc"){this.field=e,this.dir=i}}function gC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class lE{}class Jt extends lE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new _C(e,i,a):i==="array-contains"?new EC(e,a):i==="in"?new TC(e,a):i==="not-in"?new AC(e,a):i==="array-contains-any"?new SC(e,a):new Jt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new vC(e,a):new bC(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ol(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(Ol(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends lE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Oi(e,i)}matches(e){return oE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oE(s){return s.op==="and"}function uE(s){return yC(s)&&oE(s)}function yC(s){for(const e of s.filters)if(e instanceof Oi)return!1;return!0}function Cm(s){if(s instanceof Jt)return s.field.canonicalString()+s.op.toString()+Ml(s.value);if(uE(s))return s.filters.map((e=>Cm(e))).join(",");{const e=s.filters.map((i=>Cm(i))).join(",");return`${s.op}(${e})`}}function cE(s,e){return s instanceof Jt?(function(a,o){return o instanceof Jt&&a.op===o.op&&a.field.isEqual(o.field)&&ss(a.value,o.value)})(s,e):s instanceof Oi?(function(a,o){return o instanceof Oi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&cE(d,o.filters[g])),!0):!1})(s,e):void ve(19439)}function hE(s){return s instanceof Jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ml(i.value)}`})(s):s instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"})(s):"Filter"}class _C extends Jt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class vC extends Jt{constructor(e,i){super(e,"in",i),this.keys=fE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class bC extends Jt{constructor(e,i){super(e,"not-in",i),this.keys=fE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function fE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class EC extends Jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ip(i)&&uu(i.arrayValue,this.value)}}class TC extends Jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&uu(this.value.arrayValue,i)}}class AC extends Jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!uu(this.value.arrayValue,i)}}class SC extends Jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ip(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>uu(this.value.arrayValue,a)))}}class wC{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function cv(s,e=null,i=[],a=[],o=null,c=null,d=null){return new wC(s,e,i,a,o,c,d)}function sp(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Cm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Mh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Ml(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Ml(a))).join(",")),e.Te=i}return e.Te}function rp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!gC(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!cE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!uv(s.startAt,e.startAt)&&uv(s.endAt,e.endAt)}function Nm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ql{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,b=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=b,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xC(s,e,i,a,o,c,d,g){return new ql(s,e,i,a,o,c,d,g)}function ap(s){return new ql(s)}function hv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CC(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function dE(s){return s.collectionGroup!==null}function tu(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new nn(mn.comparator);return d.filters.forEach((b=>{b.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new cu(c,a))})),i.has(mn.keyField().canonicalString())||e.Ie.push(new cu(mn.keyField(),a))}return e.Ie}function es(s){const e=we(s);return e.Ee||(e.Ee=NC(e,tu(s))),e.Ee}function NC(s,e){if(s.limitType==="F")return cv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new cu(o.field,c)}));const i=s.endAt?new bh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new bh(s.startAt.position,s.startAt.inclusive):null;return cv(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Rm(s,e){const i=s.filters.concat([e]);return new ql(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function RC(s,e){const i=s.explicitOrderBy.concat([e]);return new ql(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Im(s,e,i){return new ql(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function kh(s,e){return rp(es(s),es(e))&&s.limitType===e.limitType}function mE(s){return`${sp(es(s))}|lt:${s.limitType}`}function bl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>hE(o))).join(", ")}]`),Mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Ml(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Ml(o))).join(",")),`Target(${a})`})(es(s))}; limitType=${s.limitType})`}function jh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of tu(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,b){const _=ov(d,g,b);return d.inclusive?_<=0:_<0})(a.startAt,tu(a),o)||a.endAt&&!(function(d,g,b){const _=ov(d,g,b);return d.inclusive?_>=0:_>0})(a.endAt,tu(a),o))})(s,e)}function IC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function pE(s){return(e,i)=>{let a=!1;for(const o of tu(s)){const c=DC(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function DC(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const b=d.data.field(c),_=g.data.field(c);return b!==null&&_!==null?Ol(b,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Zb(this.inner)}size(){return this.innerSize}}const OC=new Nt(pe.comparator);function Vs(){return OC}const gE=new Nt(pe.comparator);function Xo(...s){let e=gE;for(const i of s)e=e.insert(i.key,i);return e}function yE(s){let e=gE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ga(){return nu()}function _E(){return nu()}function nu(){return new wa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const MC=new Nt(pe.comparator),VC=new nn(pe.comparator);function Fe(...s){let e=VC;for(const i of s)e=e.add(i);return e}const kC=new nn(He);function jC(){return kC}function lp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function vE(s){return{integerValue:""+s}}function UC(s,e){return lC(e)?vE(e):lp(s,e)}class Uh{constructor(){this._=void 0}}function PC(s,e,i){return s instanceof hu?(function(o,c){const d={fields:{[tE]:{stringValue:eE},[iE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&np(c)&&(c=Vh(c)),c&&(d.fields[nE]=c),{mapValue:d}})(i,e):s instanceof fu?EE(s,e):s instanceof du?TE(s,e):(function(o,c){const d=bE(o,c),g=fv(d)+fv(o.Ae);return xm(d)&&xm(o.Ae)?vE(g):lp(o.serializer,g)})(s,e)}function LC(s,e,i){return s instanceof fu?EE(s,e):s instanceof du?TE(s,e):i}function bE(s,e){return s instanceof Eh?(function(a){return xm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class hu extends Uh{}class fu extends Uh{constructor(e){super(),this.elements=e}}function EE(s,e){const i=AE(e);for(const a of s.elements)i.some((o=>ss(o,a)))||i.push(a);return{arrayValue:{values:i}}}class du extends Uh{constructor(e){super(),this.elements=e}}function TE(s,e){let i=AE(e);for(const a of s.elements)i=i.filter((o=>!ss(o,a)));return{arrayValue:{values:i}}}class Eh extends Uh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function fv(s){return zt(s.integerValue||s.doubleValue)}function AE(s){return ip(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class zC{constructor(e,i){this.field=e,this.transform=i}}function BC(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof fu&&o instanceof fu||a instanceof du&&o instanceof du?Dl(a.elements,o.elements,ss):a instanceof Eh&&o instanceof Eh?ss(a.Ae,o.Ae):a instanceof hu&&o instanceof hu})(s.transform,e.transform)}class qC{constructor(e,i){this.version=e,this.transformResults=i}}class Sn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ph{}function SE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Lh(s.key,Sn.none()):new Eu(s.key,s.data,Sn.none());{const i=s.data,a=Pn.empty();let o=new nn(mn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Pr(s.key,a,new ei(o.toArray()),Sn.none())}}function HC(s,e,i){s instanceof Eu?(function(o,c,d){const g=o.value.clone(),b=mv(o.fieldTransforms,c,d.transformResults);g.setAll(b),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Pr?(function(o,c,d){if(!ah(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=mv(o.fieldTransforms,c,d.transformResults),b=c.data;b.setAll(wE(o)),b.setAll(g),c.convertToFoundDocument(d.version,b).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function iu(s,e,i,a){return s instanceof Eu?(function(c,d,g,b){if(!ah(c.precondition,d))return g;const _=c.value.clone(),S=pv(c.fieldTransforms,b,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Pr?(function(c,d,g,b){if(!ah(c.precondition,d))return g;const _=pv(c.fieldTransforms,b,d),S=d.data;return S.setAll(wE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,g){return ah(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function FC(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=bE(a.transform,o||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(a.field,c))}return i||null}function dv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Dl(a,o,((c,d)=>BC(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Eu extends Ph{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends Ph{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function mv(s,e,i){const a=new Map;tt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,LC(d,g,i[o]))}return a}function pv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,PC(c,d,e))}return a}class Lh extends Ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Ph{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QC{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&HC(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=iu(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=iu(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=_E();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const b=SE(d,g);b!==null&&a.set(o.key,b),d.isValidDocument()||d.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,((i,a)=>dv(i,a)))&&Dl(this.baseMutations,e.baseMutations,((i,a)=>dv(i,a)))}}class op{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){tt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return MC})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new op(e,i,a,o)}}class YC{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KC{constructor(e,i){this.count=e,this.unchangedNames=i}}var $t,Ye;function XC(s){switch(s){case X.OK:return ve(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function xE(s){if(s===void 0)return Ms("GRPC error has no .code"),X.UNKNOWN;switch(s){case $t.OK:return X.OK;case $t.CANCELLED:return X.CANCELLED;case $t.UNKNOWN:return X.UNKNOWN;case $t.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case $t.INTERNAL:return X.INTERNAL;case $t.UNAVAILABLE:return X.UNAVAILABLE;case $t.UNAUTHENTICATED:return X.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case $t.NOT_FOUND:return X.NOT_FOUND;case $t.ALREADY_EXISTS:return X.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return X.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case $t.ABORTED:return X.ABORTED;case $t.OUT_OF_RANGE:return X.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return X.UNIMPLEMENTED;case $t.DATA_LOSS:return X.DATA_LOSS;default:return ve(39323,{code:s})}}(Ye=$t||($t={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function $C(){return new TextEncoder}const JC=new Cr([4294967295,4294967295],0);function gv(s){const e=$C().encode(s),i=new Bb;return i.update(e),new Uint8Array(i.digest())}function yv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Cr([i,a],0),new Cr([o,c],0)]}class up{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new $o(`Invalid padding: ${i}`);if(a<0)throw new $o(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new $o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Cr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Cr.fromNumber(a)));return o.compare(JC)===1&&(o=new Cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=gv(e),[a,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new up(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=gv(e),[a,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new zh(Te.min(),o,new Nt(He),Vs(),Fe())}}class Tu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Tu(a,i,Fe(),Fe(),Fe())}}class lh{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class CE{constructor(e,i){this.targetId=e,this.Ce=i}}class NE{constructor(e,i,a=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new Tu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=vv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ZC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vs(),this.He=Jc(),this.Je=Jc(),this.Ze=new Nt(He)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Nm(c))if(a===0){const d=new pe(c.path);this.et(i,d,bn.newNoDocument(d,Te.min()))}else tt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),b=g?this.ct(g,e,d):1;if(b!==0){this.it(i);const _=b===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Or(a).toUint8Array()}catch(b){if(b instanceof Wb)return Il("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{g=new up(d,o,c)}catch(b){return Il(b instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Nm(g.target)){const b=new pe(g.target.path);this.It(b).has(d)||this.Et(d,b)||this.et(d,b,bn.newNoDocument(b,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Fe();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((b=>{const _=this.ot(b);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new zh(e,i,this.Ze,this.je,a);return this.je=Vs(),this.He=Jc(),this.Je=Jc(),this.Ze=new Nt(He),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new _v,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new nn(He),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new nn(He),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _v),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Jc(){return new Nt(pe.comparator)}function vv(){return new Nt(pe.comparator)}const WC={asc:"ASCENDING",desc:"DESCENDING"},eN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class nN{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dm(s,e){return s.useProto3Json||Mh(e)?e:{value:e}}function Th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iN(s,e){return Th(s,e.toTimestamp())}function ts(s){return tt(!!s,49232),Te.fromTimestamp((function(i){const a=Dr(i);return new Et(a.seconds,a.nanos)})(s))}function cp(s,e){return Om(s,e).canonicalString()}function Om(s,e){const i=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function IE(s){const e=gt.fromString(s);return tt(kE(e),10190,{key:e.toString()}),e}function Mm(s,e){return cp(s.databaseId,e.path)}function om(s,e){const i=IE(e);if(i.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(OE(i))}function DE(s,e){return cp(s.databaseId,e)}function sN(s){const e=IE(s);return e.length===4?gt.emptyPath():OE(e)}function Vm(s){return new gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OE(s){return tt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function bv(s,e,i){return{name:Mm(s,e),fields:i.value.mapValue.fields}}function rN(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(tt(S===void 0||typeof S=="string",58123),pn.fromBase64String(S||"")):(tt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),pn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:xE(_.code);return new oe(S,_.message||"")})(d);i=new NE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=om(s,a.document.name),c=ts(a.document.updateTime),d=a.document.createTime?ts(a.document.createTime):Te.min(),g=new Pn({mapValue:{fields:a.document.fields}}),b=bn.newFoundDocument(o,c,d,g),_=a.targetIds||[],S=a.removedTargetIds||[];i=new lh(_,S,b.key,b)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=om(s,a.document),c=a.readTime?ts(a.readTime):Te.min(),d=bn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new lh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=om(s,a.document),c=a.removedTargetIds||[];i=new lh([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new KC(o,c),g=a.targetId;i=new CE(g,d)}}return i}function aN(s,e){let i;if(e instanceof Eu)i={update:bv(s,e.key,e.value)};else if(e instanceof Lh)i={delete:Mm(s,e.key)};else if(e instanceof Pr)i={update:bv(s,e.key,e.data),updateMask:pN(e.fieldMask)};else{if(!(e instanceof GC))return ve(16599,{dt:e.type});i={verify:Mm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof hu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof fu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof du)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:iN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function lN(s,e){return s&&s.length>0?(tt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?ts(o.updateTime):ts(c);return d.isEqual(Te.min())&&(d=ts(c)),new qC(d,o.transformResults||[])})(i,e)))):[]}function oN(s,e){return{documents:[DE(s,e.path)]}}function uN(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=DE(s,o);const c=(function(_){if(_.length!==0)return VE(Oi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(V){return{field:El(V.field),direction:fN(V.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Dm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function cN(s){let e=sN(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){tt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(x){const V=ME(x);return V instanceof Oi&&uE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((V=>(function(ee){return new cu(Tl(ee.field),(function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let V;return V=typeof x=="object"?x.value:x,Mh(V)?null:V})(i.limit));let b=null;i.startAt&&(b=(function(x){const V=!!x.before,K=x.values||[];return new bh(K,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const V=!x.before,K=x.values||[];return new bh(K,V)})(i.endAt)),xC(e,o,d,c,g,"F",b,_)}function hN(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ME(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Tl(i.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Tl(i.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Tl(i.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Tl(i.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Jt.create(Tl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((a=>ME(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function fN(s){return WC[s]}function dN(s){return eN[s]}function mN(s){return tN[s]}function El(s){return{fieldPath:s.canonicalString()}}function Tl(s){return mn.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof Jt?(function(i){if(i.op==="=="){if(lv(i.value))return{unaryFilter:{field:El(i.field),op:"IS_NAN"}};if(av(i.value))return{unaryFilter:{field:El(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lv(i.value))return{unaryFilter:{field:El(i.field),op:"IS_NOT_NAN"}};if(av(i.value))return{unaryFilter:{field:El(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(i.field),op:dN(i.op),value:i.value}}})(s):s instanceof Oi?(function(i){const a=i.getFilters().map((o=>VE(o)));return a.length===1?a[0]:{compositeFilter:{op:mN(i.op),filters:a}}})(s):ve(54877,{filter:s})}function pN(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Tr{constructor(e,i,a,o,c=Te.min(),d=Te.min(),g=pn.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=b}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gN{constructor(e){this.yt=e}}function yN(s){const e=cN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(e,e.limit,"L"):e}class _N{constructor(){this.Sn=new vN}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ir.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class vN{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new nn(gt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new nn(gt.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(UE,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class Vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Vl(0)}static ar(){return new Vl(-1)}}const Tv="LruGarbageCollector",bN=1048576;function Av([s,e],[i,a]){const o=He(s,i);return o===0?He(e,a):o}class EN{constructor(e){this.Pr=e,this.buffer=new nn(Av),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Av(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TN{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Bl(i)?ce(Tv,"Ignoring IndexedDB error during garbage collection: ",i):await zl(i)}await this.Ar(3e5)}))}}class AN{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Oh.ce);const a=new EN(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ev)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,g,b,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,b=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),vl()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(b-g)+`ms
	Removed ${x} documents in `+(_-b)+`ms
Total Duration: ${_-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function SN(s,e){return new AN(s,e)}class wN{constructor(){this.changes=new wa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xN{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class CN{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&iu(a.mutation,o,ei.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const o=ga();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Xo();return c.forEach(((g,b)=>{d=d.insert(g,b.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ga();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Vs();const d=nu(),g=(function(){return nu()})();return i.forEach(((b,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Pr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),iu(S.mutation,_,S.mutation.getFieldMask(),Et.now())):d.set(_.key,ei.empty())})),this.recalculateAndSaveOverlays(e,c).next((b=>(b.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new xN(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=nu();let o=new Nt(((d,g)=>d-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((b=>{const _=i.get(b);if(_===null)return;let S=a.get(b)||ei.empty();S=g.applyToLocalView(_,S),a.set(b,S);const x=(o.get(g.batchId)||Fe()).add(b);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const b=g.getNext(),_=b.key,S=b.value,x=_E();S.forEach((V=>{if(!c.has(V)){const K=SE(i.get(V),a.get(V));K!==null&&x.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return CC(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):J.resolve(ga());let g=au,b=c;return d.next((_=>J.forEach(_,((S,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((V=>{b=b.insert(S,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,b,_,Fe()))).next((S=>({batchId:g,changes:yE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Xo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Xo();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(b=>{const _=(function(x,V){return new ql(V,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,b.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((x,V)=>{d=d.insert(x,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((b,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,bn.newInvalidDocument(S)))}));let g=Xo();return d.forEach(((b,_)=>{const S=c.get(b);S!==void 0&&iu(S.mutation,_,ei.empty(),Et.now()),jh(i,_)&&(g=g.insert(b,_))})),g}))}}class NN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ts(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:yN(o.bundledQuery),readTime:ts(o.readTime)}})(i)),J.resolve()}}class RN{constructor(){this.overlays=new Nt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ga();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=ga(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const b=g.getNext().value,_=b.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&b.largestBatchId>a&&o.set(b.getKey(),b)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Nt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=ga(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=ga(),b=c.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=o)););return J.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new YC(i,a));let c=this.Lr.get(i);c===void 0&&(c=Fe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class IN{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class hp{constructor(){this.kr=new nn(an.Kr),this.qr=new nn(an.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new an(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new an(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new gt([])),a=new an(i,e),o=new an(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new gt([])),a=new an(i,e),o=new an(i,e+1);let c=Fe();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new an(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class an{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||He(e.Hr,i.Hr)}static Ur(e,i){return He(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class DN{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new nn(an.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QC(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new an(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?tp:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new an(i,0),o=new an(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new nn(He);return i.forEach((o=>{const c=new an(o,0),d=new an(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new an(new pe(c),0);let g=new nn(He);return this.Jr.forEachWhile((b=>{const _=b.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(b.Hr)),!0)}),d),J.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){tt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(o=>{const c=new an(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new an(i,0),o=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ON{constructor(e){this.ti=e,this.docs=(function(){return new Nt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let a=Vs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():bn.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Vs();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),b=this.docs.getIteratorFrom(g);for(;b.hasNext();){const{key:_,value:{document:S}}=b.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||iC(nC(S),a)<=0||(o.has(S.key)||jh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ni(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new MN(this)}getSize(e){return J.resolve(this.size)}}class MN extends wN{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class VN{constructor(e){this.persistence=e,this.ri=new wa((i=>sp(i)),rp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new hp,this.targetCount=0,this.oi=Vl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Vl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class PE{constructor(e,i){this._i={},this.overlays={},this.ai=new Oh(0),this.ui=!1,this.ui=!0,this.ci=new IN,this.referenceDelegate=e(this),this.li=new VN(this),this.indexManager=new _N,this.remoteDocumentCache=(function(o){return new ON(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new gN(i),this.Pi=new NN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new RN,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new DN(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const o=new kN(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class kN extends rC{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ri=new hp,this.Ai=null}static Vi(e){return new fp(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const o=pe.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Ah{constructor(e,i){this.persistence=e,this.fi=new wa((a=>oC(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=SN(this,i)}static Vi(e,i){return new Ah(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=sh(e.data.value)),i}wr(e,i,a){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Fe(),o=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new dp(e,i.fromCache,a,o)}}class jN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return TS()?8:aC(En())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new jN;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(vl()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",bl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(vl()<=qe.DEBUG&&ce("QueryEngine","Query:",bl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(vl()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",bl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(i))):J.resolve())}gs(e,i){if(hv(i))return J.resolve(null);let a=es(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Im(i,null,"F"),a=es(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((b=>{const _=this.bs(i,g);return this.Ss(i,_,d,b.readTime)?this.gs(e,Im(i,null,"F")):this.Ds(e,_,i,b)}))))})))))}ps(e,i,a,o){return hv(i)||o.isEqual(Te.min())?J.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?J.resolve(null):(vl()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bl(i)),this.Ds(e,d,i,tC(o,au)).next((g=>g)))}))}bs(e,i){let a=new nn(pE(e));return i.forEach(((o,c)=>{jh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return vl()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",bl(i)),this.fs.getDocumentsMatchingQuery(e,i,Ir.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const mp="LocalStore",PN=3e8;class LN{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new Nt(He),this.Fs=new wa((c=>sp(c)),rp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function zN(s,e,i,a){return new LN(s,e,i,a)}async function LE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let b=Fe();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)b=b.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)b=b.add(S.key)}return i.localDocuments.getDocuments(a,b).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function BN(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,b,_,S){const x=_.batch,V=x.keys();let K=J.resolve();return V.forEach((ee=>{K=K.next((()=>S.getEntry(b,ee))).next((ae=>{const re=_.docVersions.get(ee);tt(re!==null,48541),ae.version.compareTo(re)<0&&(x.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),S.addEntry(ae)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(b,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let b=Fe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(b=b.add(g.batch.mutations[_].key));return b})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function zE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function qN(s,e){const i=we(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((S,x)=>{const V=o.get(x);if(!V)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,x))));let K=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?K=K.withResumeToken(pn.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),o=o.insert(x,K),(function(ae,re,ge){return ae.resumeToken.approximateByteSize()===0||re.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=PN?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(V,K,S)&&g.push(i.li.updateTargetData(c,K))}));let b=Vs(),_=Fe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(HN(c,d,e.documentUpdates).next((S=>{b=S.Bs,_=S.Ls}))),!a.isEqual(Te.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,b,_))).next((()=>b))})).then((c=>(i.vs=o,c)))}function HN(s,e,i){let a=Fe(),o=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Vs();return i.forEach(((g,b)=>{const _=c.get(g);b.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),b.isNoDocument()&&b.version.isEqual(Te.min())?(e.removeEntry(g,b.readTime),d=d.insert(g,b)):!_.isValidDocument()||b.version.compareTo(_.version)>0||b.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(b),d=d.insert(g,b)):ce(mp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",b.version)})),{Bs:d,Ls:o}}))}function FN(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=tp),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function GN(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,J.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Tr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function km(s,e,i){const a=we(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Bl(d))throw d;ce(mp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function Sv(s,e,i){const a=we(s);let o=Te.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(b,_,S){const x=we(b),V=x.Fs.get(S);return V!==void 0?J.resolve(x.vs.get(V)):x.li.getTargetData(_,S)})(a,d,es(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((b=>{c=b}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Te.min(),i?c:Fe()))).next((g=>(QN(a,IC(e),g),{documents:g,ks:c})))))}function QN(s,e,i){let a=s.Ms.get(e)||Te.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class wv{constructor(){this.activeTargetIds=jC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YN{constructor(){this.vo=new wv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new wv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KN{Mo(e){}shutdown(){}}const xv="ConnectivityMonitor";class Cv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(xv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function jm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const um="RestConnection",XN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $N{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===_h?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=jm(),g=this.Qo(e,i.toUriEncodedString());ce(um,`Sending RPC '${e}' ${d}:`,g,a);const b={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(b,o,c);const{host:_}=new URL(g),S=jl(_);return this.zo(e,g,b,a,S).then((x=>(ce(um,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Il(um,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=XN[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class JN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _n="WebChannelConnection",Fo=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class xl extends $N{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!xl.c_){const e=Gb();Fo(e,Fb.STAT_EVENT,(i=>{i.stat===Am.PROXY?ce(_n,"STAT_EVENT: detected buffering proxy"):i.stat===Am.NOPROXY&&ce(_n,"STAT_EVENT: detected no buffering proxy")})),xl.c_=!0}}zo(e,i,a,o,c){const d=jm();return new Promise(((g,b)=>{const _=new qb;_.setWithCredentials(!0),_.listenOnce(Hb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ih.NO_ERROR:const x=_.getResponseJson();ce(_n,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case ih.TIMEOUT:ce(_n,`RPC '${e}' ${d} timed out`),b(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const V=_.getStatus();if(ce(_n,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const ee=K?.error;if(ee&&ee.status&&ee.message){const ae=(function(ge){const Ce=ge.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ce)>=0?Ce:X.UNKNOWN})(ee.status);b(new oe(ae,ee.message))}else b(new oe(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else b(new oe(X.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(_n,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ce(_n,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=jm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(g.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const _=c.join("");ce(_n,`Creating RPC '${e}' stream ${o}: ${_}`,g);const S=d.createWebChannel(_,g);this.I_(S);let x=!1,V=!1;const K=new JN({Ho:ee=>{V?ce(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(x||(ce(_n,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),ce(_n,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Jo:()=>S.close()});return Fo(S,Ko.EventType.OPEN,(()=>{V||(ce(_n,`RPC '${e}' stream ${o} transport opened.`),K.i_())})),Fo(S,Ko.EventType.CLOSE,(()=>{V||(V=!0,ce(_n,`RPC '${e}' stream ${o} transport closed`),K.o_(),this.E_(S))})),Fo(S,Ko.EventType.ERROR,(ee=>{V||(V=!0,Il(_n,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),K.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Fo(S,Ko.EventType.MESSAGE,(ee=>{if(!V){const ae=ee.data[0];tt(!!ae,16349);const re=ae,ge=re?.error||re[0]?.error;if(ge){ce(_n,`RPC '${e}' stream ${o} received error:`,ge);const Ce=ge.status;let be=(function(Qe){const I=$t[Qe];if(I!==void 0)return xE(I)})(Ce),ot=ge.message;be===void 0&&(be=X.INTERNAL,ot="Unknown error status: "+Ce+" with message "+ge.message),V=!0,K.o_(new oe(be,ot)),S.close()}else ce(_n,`RPC '${e}' stream ${o} received:`,ae),K.__(ae)}})),xl.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Qb()}}function ZN(s){return new xl(s)}function cm(){return typeof document<"u"?document:null}function Bh(s){return new nN(s,!0)}xl.c_=!1;class BE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Nv="PersistentStream";class qE{constructor(e,i,a,o,c,d,g,b){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=b,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Ms(i.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WN extends qE{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rN(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?ts(d.readTime):Te.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Vm(this.serializer),i.addTarget=(function(c,d){let g;const b=d.target;if(g=Nm(b)?{documents:oN(c,b)}:{query:uN(c,b).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=RE(c,d.resumeToken);const _=Dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Te.min())>0){g.readTime=Th(c,d.snapshotVersion.toTimestamp());const _=Dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=hN(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Vm(this.serializer),i.removeTarget=e,this.K_(i)}}class eR extends qE{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=lN(e.writeResults,e.commitTime),a=ts(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Vm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>aN(this.serializer,a)))};this.K_(i)}}class tR{}class nR extends tR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(X.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Om(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iR(s,e,i,a){return new nR(s,e,i,a)}class sR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class rR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{xa(this)&&(ce(Aa,"Restarting streams for network reachability change."),await(async function(b){const _=we(b);_.Ea.add(4),await Au(_),_.Va.set("Unknown"),_.Ea.delete(4),await qh(_)})(this))}))})),this.Va=new sR(a,o)}}async function qh(s){if(xa(s))for(const e of s.Ra)await e(!0)}async function Au(s){for(const e of s.Ra)await e(!1)}function HE(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),_p(i)?yp(i):Hl(i).O_()&&gp(i,e))}function pp(s,e){const i=we(s),a=Hl(i);i.Ia.delete(e),a.O_()&&FE(i,e),i.Ia.size===0&&(a.O_()?a.L_():xa(i)&&i.Va.set("Unknown"))}function gp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Hl(s).Z_(e)}function FE(s,e){s.da.$e(e),Hl(s).X_(e)}function yp(s){s.da=new ZC({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Hl(s).start(),s.Va.ua()}function _p(s){return xa(s)&&!Hl(s).x_()&&s.Ia.size>0}function xa(s){return we(s).Ea.size===0}function GE(s){s.da=void 0}async function aR(s){s.Va.set("Online")}async function lR(s){s.Ia.forEach(((e,i)=>{gp(s,e)}))}async function oR(s,e){GE(s),_p(s)?(s.Va.ha(e),yp(s)):s.Va.set("Unknown")}async function uR(s,e,i){if(s.Va.set("Online"),e instanceof NE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){ce(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Sh(s,a)}else if(e instanceof lh?s.da.Xe(e):e instanceof CE?s.da.st(e):s.da.tt(e),!i.isEqual(Te.min()))try{const a=await zE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((b,_)=>{if(b.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(b.resumeToken,d))}})),g.targetMismatches.forEach(((b,_)=>{const S=c.Ia.get(b);if(!S)return;c.Ia.set(b,S.withResumeToken(pn.EMPTY_BYTE_STRING,S.snapshotVersion)),FE(c,b);const x=new Tr(S.target,b,_,S.sequenceNumber);gp(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ce(Aa,"Failed to raise snapshot:",a),await Sh(s,a)}}async function Sh(s,e,i){if(!Bl(e))throw e;s.Ea.add(1),await Au(s),s.Va.set("Offline"),i||(i=()=>zE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Aa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await qh(s)}))}function QE(s,e){return e().catch((i=>Sh(s,i,e)))}async function Hh(s){const e=we(s),i=Vr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;cR(e);)try{const o=await FN(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,hR(e,o)}catch(o){await Sh(e,o)}YE(e)&&KE(e)}function cR(s){return xa(s)&&s.Ta.length<10}function hR(s,e){s.Ta.push(e);const i=Vr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function YE(s){return xa(s)&&!Vr(s).x_()&&s.Ta.length>0}function KE(s){Vr(s).start()}async function fR(s){Vr(s).ra()}async function dR(s){const e=Vr(s);for(const i of s.Ta)e.ea(i.mutations)}async function mR(s,e,i){const a=s.Ta.shift(),o=op.from(a,e,i);await QE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Hh(s)}async function pR(s,e){e&&Vr(s).Y_&&await(async function(a,o){if((function(d){return XC(d)&&d!==X.ABORTED})(o.code)){const c=a.Ta.shift();Vr(a).B_(),await QE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Hh(a)}})(s,e),YE(s)&&KE(s)}async function Rv(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),ce(Aa,"RemoteStore received new credentials");const a=xa(i);i.Ea.add(3),await Au(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await qh(i)}async function gR(s,e){const i=we(s);e?(i.Ea.delete(2),await qh(i)):e||(i.Ea.add(2),await Au(i),i.Va.set("Unknown"))}function Hl(s){return s.ma||(s.ma=(function(i,a,o){const c=we(i);return c.sa(),new WN(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:aR.bind(null,s),Yo:lR.bind(null,s),t_:oR.bind(null,s),J_:uR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),_p(s)?yp(s):s.Va.set("Unknown")):(await s.ma.stop(),GE(s))}))),s.ma}function Vr(s){return s.fa||(s.fa=(function(i,a,o){const c=we(i);return c.sa(),new eR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fR.bind(null,s),t_:pR.bind(null,s),ta:dR.bind(null,s),na:mR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Hh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Aa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class vp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new vp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bp(s,e){if(Ms("AsyncQueue",`${e}: ${s}`),Bl(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Xo(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Iv{constructor(){this.ga=new Nt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class kl{constructor(e,i,a,o,c,d,g,b,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=b,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new kl(e,i,Cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class yR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _R{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=Dv(),c.forEach(((d,g)=>{for(const b of g.ba)b.onError(a)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function Dv(){return new wa((s=>mE(s)),kh)}async function vR(s,e){const i=we(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new yR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=bp(d,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Ep(i)}async function bR(s,e){const i=we(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ER(s,e){const i=we(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&Ep(i)}function TR(s,e,i){const a=we(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function Ep(s){s.Ca.forEach((e=>{e.next()}))}var Um,Ov;(Ov=Um||(Um={})).Ma="default",Ov.Cache="cache";class AR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new kl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class XE{constructor(e){this.key=e}}class $E{constructor(e){this.key=e}}class SR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=pE(e),this.tu=new Cl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new Iv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const b=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,x)=>{const V=o.get(S),K=jh(this.query,x)?x:null,ee=!!V&&this.mutatedKeys.has(V.key),ae=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let re=!1;V&&K?V.data.isEqual(K.data)?ee!==ae&&(a.track({type:3,doc:K}),re=!0):this.su(V,K)||(a.track({type:2,doc:K}),re=!0,(b&&this.eu(K,b)>0||_&&this.eu(K,_)<0)&&(g=!0)):!V&&K?(a.track({type:0,doc:K}),re=!0):V&&!K&&(a.track({type:1,doc:V}),re=!0,(b||_)&&(g=!0)),re&&(K?(d=d.add(K),c=ae?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(K,ee){const ae=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:re})}};return ae(K)-ae(ee)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],b=this.Ya.size===0&&this.current&&!o?1:0,_=b!==this.Xa;return this.Xa=b,d.length!==0||_?{snapshot:new kl(this.query,e.tu,c,d,e.mutatedKeys,b===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Iv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new $E(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new XE(a))})),i}cu(e){this.Za=e.ks,this.Ya=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Tp="SyncEngine";class wR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class xR{constructor(e){this.key=e,this.hu=!1}}class CR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new wa((g=>mE(g)),kh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(pe.comparator),this.Au=new Map,this.Vu=new hp,this.du={},this.mu=new Map,this.fu=Vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NR(s,e,i=!0){const a=nT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await JE(a,e,i,!0),o}async function RR(s,e){const i=nT(s);await JE(i,e,!0,!1)}async function JE(s,e,i,a){const o=await GN(s.localStore,es(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await IR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&HE(s.remoteStore,o),g}async function IR(s,e,i,a,o){s.pu=(x,V,K)=>(async function(ae,re,ge,Ce){let be=re.view.ru(ge);be.Ss&&(be=await Sv(ae.localStore,re.query,!1).then((({documents:I})=>re.view.ru(I,be))));const ot=Ce&&Ce.targetChanges.get(re.targetId),pt=Ce&&Ce.targetMismatches.get(re.targetId)!=null,Qe=re.view.applyChanges(be,ae.isPrimaryClient,ot,pt);return Vv(ae,re.targetId,Qe.au),Qe.snapshot})(s,x,V,K);const c=await Sv(s.localStore,e,!0),d=new SR(e,c.ks),g=d.ru(c.documents),b=Tu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,b);Vv(s,i,_.au);const S=new wR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function DR(s,e,i){const a=we(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!kh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await km(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&pp(a.remoteStore,o.targetId),Pm(a,o.targetId)})).catch(zl)):(Pm(a,o.targetId),await km(a.localStore,o.targetId,!0))}async function OR(s,e){const i=we(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),pp(i.remoteStore,a.targetId))}async function MR(s,e,i){const a=zR(s);try{const o=await(function(d,g){const b=we(d),_=Et.now(),S=g.reduce(((K,ee)=>K.add(ee.key)),Fe());let x,V;return b.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let ee=Vs(),ae=Fe();return b.xs.getEntries(K,S).next((re=>{ee=re,ee.forEach(((ge,Ce)=>{Ce.isValidDocument()||(ae=ae.add(ge))}))})).next((()=>b.localDocuments.getOverlayedDocuments(K,ee))).next((re=>{x=re;const ge=[];for(const Ce of g){const be=FC(Ce,x.get(Ce.key).overlayedDocument);be!=null&&ge.push(new Pr(Ce.key,be,aE(be.value.mapValue),Sn.exists(!0)))}return b.mutationQueue.addMutationBatch(K,_,ge,g)})).next((re=>{V=re;const ge=re.applyToLocalDocumentSet(x,ae);return b.documentOverlayCache.saveOverlays(K,re.batchId,ge)}))})).then((()=>({batchId:V.batchId,changes:yE(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,b){let _=d.du[d.currentUser.toKey()];_||(_=new Nt(He)),_=_.insert(g,b),d.du[d.currentUser.toKey()]=_})(a,o.batchId,i),await Su(a,o.changes),await Hh(a.remoteStore)}catch(o){const c=bp(o,"Failed to persist write");i.reject(c)}}async function ZE(s,e){const i=we(s);try{const a=await qN(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?tt(d.hu,14607):o.removedDocuments.size>0&&(tt(d.hu,42227),d.hu=!1))})),await Su(i,a,e)}catch(a){await zl(a)}}function Mv(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const b=we(d);b.onlineState=g;let _=!1;b.queries.forEach(((S,x)=>{for(const V of x.ba)V.va(g)&&(_=!0)})),_&&Ep(b)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function VR(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Nt(pe.comparator);d=d.insert(c,bn.newNoDocument(c,Te.min()));const g=Fe().add(c),b=new zh(Te.min(),new Map,new Nt(He),d,g);await ZE(a,b),a.Ru=a.Ru.remove(c),a.Au.delete(e),Ap(a)}else await km(a.localStore,e,!1).then((()=>Pm(a,e,i))).catch(zl)}async function kR(s,e){const i=we(s),a=e.batch.batchId;try{const o=await BN(i.localStore,e);eT(i,a,null),WE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Su(i,o)}catch(o){await zl(o)}}async function jR(s,e,i){const a=we(s);try{const o=await(function(d,g){const b=we(d);return b.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return b.mutationQueue.lookupMutationBatch(_,g).next((x=>(tt(x!==null,37113),S=x.keys(),b.mutationQueue.removeMutationBatch(_,x)))).next((()=>b.mutationQueue.performConsistencyCheck(_))).next((()=>b.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>b.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);eT(a,e,i),WE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Su(a,o)}catch(o){await zl(o)}}function WE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function eT(s,e,i){const a=we(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||tT(s,a)}))}function tT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(pp(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Ap(s))}function Vv(s,e,i){for(const a of i)a instanceof XE?(s.Vu.addReference(a.key,e),UR(s,a)):a instanceof $E?(ce(Tp,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||tT(s,a.key)):ve(19791,{wu:a})}function UR(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ce(Tp,"New document in limbo: "+i),s.Eu.add(a),Ap(s))}function Ap(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(gt.fromString(e)),a=s.fu.next();s.Au.set(a,new xR(i)),s.Ru=s.Ru.insert(i,a),HE(s.remoteStore,new Tr(es(ap(i.path)),a,"TargetPurposeLimboResolution",Oh.ce))}}async function Su(s,e,i){const a=we(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,b)=>{d.push(a.pu(b,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(b.targetId)?.current;a.sharedClientState.updateQueryState(b.targetId,S?"current":"not-current")}if(_){o.push(_);const S=dp.Es(b.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(b,_){const S=we(b);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(_,(V=>J.forEach(V.Ts,(K=>S.persistence.referenceDelegate.addReference(x,V.targetId,K))).next((()=>J.forEach(V.Is,(K=>S.persistence.referenceDelegate.removeReference(x,V.targetId,K)))))))))}catch(x){if(!Bl(x))throw x;ce(mp,"Failed to update sequence numbers: "+x)}for(const x of _){const V=x.targetId;if(!x.fromCache){const K=S.vs.get(V),ee=K.snapshotVersion,ae=K.withLastLimboFreeSnapshotVersion(ee);S.vs=S.vs.insert(V,ae)}}})(a.localStore,c))}async function PR(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){ce(Tp,"User change. New user:",e.toKey());const a=await LE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((b=>{b.reject(new oe(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Su(i,a.Ns)}}function LR(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let o=Fe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function nT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VR.bind(null,e),e.Pu.J_=ER.bind(null,e.eventManager),e.Pu.yu=TR.bind(null,e.eventManager),e}function zR(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jR.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zN(this.persistence,new UN,e.initialUser,this.serializer)}Cu(e){return new PE(fp.Vi,this.serializer)}Du(e){return new YN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class BR extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){tt(this.persistence.referenceDelegate instanceof Ah,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new TN(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new PE((a=>Ah.Vi(a,i)),this.serializer)}}class Lm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Mv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=PR.bind(null,this.syncEngine),await gR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _R})()}createDatastore(e){const i=Bh(e.databaseInfo.databaseId),a=ZN(e.databaseInfo);return iR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new rR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Mv(this.syncEngine,i,0)),(function(){return Cv.v()?new Cv:new KN})())}createSyncEngine(e,i){return(function(o,c,d,g,b,_,S){const x=new CR(o,c,d,g,b,_);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ce(Aa,"RemoteStore shutting down."),a.Ea.add(5),await Au(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class qR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const kr="FirestoreClient";class HR{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=bp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(kr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await LE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function kv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await FR(s);ce(kr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Rv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Rv(e.remoteStore,o))),s._onlineComponents=e}async function FR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(kr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Il("Error using user provided cache. Falling back to memory cache: "+i),await hm(s,new wh)}}else ce(kr,"Using default OfflineComponentProvider"),await hm(s,new BR(void 0));return s._offlineComponents}async function iT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(kr,"Using user provided OnlineComponentProvider"),await kv(s,s._uninitializedComponentsProvider._online)):(ce(kr,"Using default OnlineComponentProvider"),await kv(s,new Lm))),s._onlineComponents}function GR(s){return iT(s).then((e=>e.syncEngine))}async function jv(s){const e=await iT(s),i=e.eventManager;return i.onListen=NR.bind(null,e.syncEngine),i.onUnlisten=DR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=RR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=OR.bind(null,e.syncEngine),i}function QR(s,e,i,a){const o=new qR(a),c=new AR(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>vR(await jv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>bR(await jv(s),c)))}}function YR(s,e){const i=new ya;return s.asyncQueue.enqueueAndForget((async()=>MR(await GR(s),e,i))),i.promise}function sT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const KR="ComponentProvider",Uv=new Map;function XR(s,e,i,a,o){return new hC(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,sT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const rT="firestore.googleapis.com",Pv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=Pv}else this.host=e.host,this.ssl=e.ssl??Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bN)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Fx;switch(a.type){case"firstParty":return new Kx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Uv.get(i);a&&(ce(KR,"Removing Datastore"),Uv.delete(i),a.terminate())})(this),Promise.resolve()}}function $R(s,e,i,a={}){s=Ii(s,Fh);const o=jl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(nb(`https://${g}`),ib("Firestore",!0)),c.host!==rT&&c.host!==g&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const b={...c,host:g,ssl:o,emulatorOptions:a};if(!va(b,d)&&(s._setSettings(b),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=vn.MOCK_USER;else{_=dS(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new vn(x)}s._authCredentials=new Gx(new Kb(_,S))}}class Ca{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class Bt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(bu(i,Bt._jsonSchema))return new Bt(e,a||null,new pe(gt.fromString(i.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Zt("string",Bt._jsonSchemaVersion),referencePath:Zt("string")};class Nr extends Ca{constructor(e,i,a){super(e,i,ap(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new pe(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function Wn(s,e,...i){if(s=Wt(s),Xb("collection","path",e),s instanceof Fh){const a=gt.fromString(e,...i);return J0(a),new Nr(s,null,a)}{if(!(s instanceof Bt||s instanceof Nr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(gt.fromString(e,...i));return J0(a),new Nr(s.firestore,null,a)}}function lt(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=ep.newId()),Xb("doc","path",e),s instanceof Fh){const a=gt.fromString(e,...i);return $0(a),new Bt(s,null,new pe(a))}{if(!(s instanceof Bt||s instanceof Nr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(gt.fromString(e,...i));return $0(a),new Bt(s.firestore,s instanceof Nr?s.converter:null,new pe(a))}}const zv="AsyncQueue";class Bv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const a=cm();a&&ce(zv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=cm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=cm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ya;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;ce(zv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=vp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function qv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class jr extends Fh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Bv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}}function JR(s,e){const i=typeof s=="object"?s:lb(),a=typeof s=="string"?s:_h,o=Hm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=hS("firestore");c&&$R(o,...c)}return o}function Sp(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ZR(s),s._firestoreClient}function ZR(s){const e=s._freezeSettings(),i=XR(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new HR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(pn.fromBase64String(e))}catch(i){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new yi(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Zt("string",yi._jsonSchemaVersion),bytes:Zt("string")};class Gh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qh{constructor(e){this._methodName=e}}class ns{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(e){if(bu(e,ns._jsonSchema))return new ns(e.latitude,e.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Zt("string",ns._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Zt("string",Di._jsonSchemaVersion),vectorValues:Zt("object")};const WR=/^__.*__$/;class eI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Eu(e,this.data,i,this.fieldTransforms)}}class aT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Pr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class wp{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return xh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(lT(this.dataSource)&&WR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Bh(e)}createContext(e,i,a,o=!1){return new wp({dataSource:e,methodName:i,targetDoc:a,path:mn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(s){const e=s._freezeSettings(),i=Bh(s._databaseId);return new tI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function xp(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Np("Data must be an object, but it was:",d,a);const g=cT(a,d);let b,_;if(c.merge)b=new ei(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const x of c.mergeFields){const V=Sa(e,x,i);if(!d.contains(V))throw new oe(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);dT(S,V)||S.push(V)}b=new ei(S),_=d.fieldTransforms.filter((x=>b.covers(x.field)))}else b=null,_=d.fieldTransforms;return new eI(new Pn(g),b,_)}class Yh extends Qh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class Cp extends Qh{_toFieldTransform(e){return new zC(e.path,new hu)}isEqual(e){return e instanceof Cp}}function oT(s,e,i,a){const o=s.createContext(1,e,i);Np("Data must be an object, but it was:",o,a);const c=[],d=Pn.empty();Ur(a,((b,_)=>{const S=fT(e,b,i);_=Wt(_);const x=o.childContextForFieldPath(S);if(_ instanceof Yh)c.push(S);else{const V=xu(_,x);V!=null&&(c.push(S),d.set(S,V))}}));const g=new ei(c);return new aT(d,g,o.fieldTransforms)}function uT(s,e,i,a,o,c){const d=s.createContext(1,e,i),g=[Sa(e,a,i)],b=[o];if(c.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Sa(e,c[V])),b.push(c[V+1]);const _=[],S=Pn.empty();for(let V=g.length-1;V>=0;--V)if(!dT(_,g[V])){const K=g[V];let ee=b[V];ee=Wt(ee);const ae=d.childContextForFieldPath(K);if(ee instanceof Yh)_.push(K);else{const re=xu(ee,ae);re!=null&&(_.push(K),S.set(K,re))}}const x=new ei(_);return new aT(S,x,d.fieldTransforms)}function nI(s,e,i,a=!1){return xu(i,s.createContext(a?4:3,e))}function xu(s,e){if(hT(s=Wt(s)))return Np("Unsupported field value:",e,s),cT(s,e);if(s instanceof Qh)return(function(a,o){if(!lT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let b=xu(g,o.childContextForArray(d));b==null&&(b={nullValue:"NULL_VALUE"}),c.push(b),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Wt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Et.fromDate(a);return{timestampValue:Th(o.serializer,c)}}if(a instanceof Et){const c=new Et(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Th(o.serializer,c)}}if(a instanceof ns)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof yi)return{bytesValue:RE(o.serializer,a._byteString)};if(a instanceof Bt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,g){const b=d instanceof Di?d.toArray():d;return{mapValue:{fields:{[sE]:{stringValue:rE},[vh]:{arrayValue:{values:b.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return lp(g.serializer,S)}))}}}}}})(a,o);if(jE(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Dh(a)}`)})(s,e)}function cT(s,e){const i={};return Zb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(s,((a,o)=>{const c=xu(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function hT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof ns||s instanceof yi||s instanceof Bt||s instanceof Qh||s instanceof Di||jE(s))}function Np(s,e,i){if(!hT(i)||!$b(i)){const a=Dh(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Sa(s,e,i){if((e=Wt(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return fT(s,e);throw xh("Field path arguments must be of type string or ",s,!1,void 0,i)}const iI=new RegExp("[~\\*/\\[\\]]");function fT(s,e,i){if(e.search(iI)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Gh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function xh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let b="";return(c||d)&&(b+=" (found",c&&(b+=` in field ${a}`),d&&(b+=` in document ${o}`),b+=")"),new oe(X.INVALID_ARGUMENT,g+s+b)}function dT(s,e){return s.some((i=>i.isEqual(e)))}class sI{convertValue(e,i="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ur(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[vh].arrayValue?.values?.map((a=>zt(a.doubleValue)));return new Di(i)}convertGeoPoint(e){return new ns(zt(e.latitude),zt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=gt.fromString(e);tt(kE(a),9688,{name:e});const o=new ou(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||Ms(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class mT extends sI{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,i)}}function Lt(){return new Cp("serverTimestamp")}const Hv="@firebase/firestore",Fv="4.10.0";function Gv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Sa("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rI extends pT{data(){return super.data()}}function aI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class gT extends Rp{}function Go(s,e,...i){let a=[];e instanceof Rp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((b=>b instanceof Ip)).length,g=c.filter((b=>b instanceof Kh)).length;if(d>1||d>0&&g>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Kh extends gT{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Kh(e,i,a)}_apply(e){const i=this._parse(e);return yT(e._query,i),new Ca(e.firestore,e.converter,Rm(e._query,i))}_parse(e){const i=wu(e.firestore);return(function(c,d,g,b,_,S,x){let V;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Yv(x,S);const ee=[];for(const ae of x)ee.push(Qv(b,c,ae));V={arrayValue:{values:ee}}}else V=Qv(b,c,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Yv(x,S),V=nI(g,d,x,S==="in"||S==="not-in");return Jt.create(_,S,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function lI(s,e,i){const a=e,o=Sa("where",s);return Kh._create(o,a,i)}class Ip extends Rp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ip(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Oi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const b of g)yT(d,b),d=Rm(d,b)})(e._query,i),new Ca(e.firestore,e.converter,Rm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dp extends gT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Dp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(c,d)})(e._query,this._field,this._direction);return new Ca(e.firestore,e.converter,RC(e._query,i))}}function fm(s,e="asc"){const i=e,a=Sa("orderBy",s);return Dp._create(a,i)}function Qv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(e)&&i.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(gt.fromString(i));if(!pe.isDocumentKey(a))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return rv(s,new pe(a))}if(i instanceof Bt)return rv(s,i._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(i)}.`)}function Yv(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Op(s,e,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(e,i):s.toFirestore(e):e,a}class Jo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends pT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Sa("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_a._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Zt("string",_a._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class oh extends _a{data(e={}){return super.data(e)}}class Nl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Jo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new oh(this._firestore,this._userDataWriter,a.key,a,new Jo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const b=new oh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Jo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:b,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const b=new oh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Jo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:oI(g.type),doc:b,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Zt("string",Nl._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class uI{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=wu(e)}set(e,i,a){this._verifyNotCommitted();const o=dm(e,this._firestore),c=Op(o.converter,i,a),d=xp(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,Sn.none())),this}update(e,i,a,...o){this._verifyNotCommitted();const c=dm(e,this._firestore);let d;return d=typeof(i=Wt(i))=="string"||i instanceof Gh?uT(this._dataReader,"WriteBatch.update",c._key,i,a,o):oT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=dm(e,this._firestore);return this._mutations=this._mutations.concat(new Lh(i._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dm(s,e){if((s=Wt(s)).firestore!==e)throw new oe(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function Qo(s,e,i){s=Ii(s,Bt);const a=Ii(s.firestore,jr),o=Op(s.converter,e,i),c=wu(a);return Cu(a,[xp(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Sn.none())])}function Xt(s,e,i,...a){s=Ii(s,Bt);const o=Ii(s.firestore,jr),c=wu(o);let d;return d=typeof(e=Wt(e))=="string"||e instanceof Gh?uT(c,"updateDoc",s._key,e,i,a):oT(c,"updateDoc",s._key,e),Cu(o,[d.toMutation(s._key,Sn.exists(!0))])}function Kv(s){return Cu(Ii(s.firestore,jr),[new Lh(s._key,Sn.none())])}function gl(s,e){const i=Ii(s.firestore,jr),a=lt(s),o=Op(s.converter,e),c=wu(s.firestore);return Cu(i,[xp(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Sn.exists(!1))]).then((()=>a))}function yl(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Gv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Gv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Bt)d=Ii(s.firestore,jr),g=ap(s._key.path),c={next:_=>{e[a]&&e[a](cI(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ii(s,Ca);d=Ii(_.firestore,jr),g=_._query;const S=new mT(d);c={next:x=>{e[a]&&e[a](new Nl(d,S,_,x))},error:e[a+1],complete:e[a+2]},aI(s._query)}const b=Sp(d);return QR(b,g,o,c)}function Cu(s,e){const i=Sp(s);return YR(i,e)}function cI(s,e,i){const a=i.docs.get(e._key),o=new mT(s);return new _a(s,o,e._key,a,new Jo(i.hasPendingWrites,i.fromCache),e.converter)}function hI(s){return s=Ii(s,jr),Sp(s),new uI(s,(e=>Cu(s,e)))}(function(e,i=!0){Hx(Ul),Rl(new ba("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new jr(new Qx(a.getProvider("auth-internal")),new Xx(d,a.getProvider("app-check-internal")),fC(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),wr(Hv,Fv,e),wr(Hv,Fv,"esm2020")})();const fI={apiKey:"AIzaSyBm_rX9srQGUiX5dttGT9JBzHzYAY2bP2E",authDomain:"planner-erick.firebaseapp.com",projectId:"planner-erick",storageBucket:"planner-erick.firebasestorage.app",messagingSenderId:"654051073229",appId:"1:654051073229:web:bad870ff18a500cadbdd84"},_T=ab(fI),_l=Bx(_T),De=JR(_T),ke="planner-erick-pro",dI="RVJJQ0s0MTcy",Ji=({children:s,className:e=""})=>y.jsx("div",{className:`bg-white rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow duration-300 ${e}`,children:s}),je=({children:s,onClick:e,variant:i="primary",icon:a,className:o="",...c})=>{const d="flex items-center justify-center gap-2 px-5 py-2.5 rounded-xl font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-lime-500 text-white hover:bg-lime-600 shadow-md shadow-lime-200 hover:shadow-lg hover:shadow-lime-300",secondary:"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50 hover:border-slate-300",danger:"bg-red-50 text-red-600 hover:bg-red-100 border border-red-100",ghost:"text-slate-500 hover:bg-slate-100 hover:text-slate-700",client:"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md shadow-indigo-200",success:"bg-emerald-500 text-white hover:bg-emerald-600 shadow-md shadow-emerald-200",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-md shadow-amber-200",outline:"bg-transparent border-2 border-slate-200 text-slate-600 hover:border-lime-500 hover:text-lime-600",info:"bg-sky-500 text-white hover:bg-sky-600 shadow-md shadow-sky-200",cta:"bg-slate-900 text-white hover:bg-slate-800 shadow-lg shadow-slate-300",google:"bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 shadow-sm hover:shadow-md transition-all font-medium"};return y.jsxs("button",{onClick:e,className:`${d} ${g[i]} ${o}`,...c,children:[a&&y.jsx(a,{size:18}),s]})},Yo=({status:s})=>{const e={"A Fazer":"bg-slate-100 text-slate-600 border-slate-200","Em Andamento":"bg-lime-100 text-lime-700 border-lime-200",Concludo:"bg-emerald-100 text-emerald-700 border-emerald-200",Triagem:"bg-purple-100 text-purple-700 border-purple-200",Anlise:"bg-sky-100 text-sky-700 border-sky-200",Execuo:"bg-blue-100 text-blue-700 border-blue-200",Reviso:"bg-pink-100 text-pink-700 border-pink-200",Entregue:"bg-teal-100 text-teal-700 border-teal-200",Alterao:"bg-amber-100 text-amber-700 border-amber-200",Cancelado:"bg-red-100 text-red-700 border-red-200",Aprovado:"bg-emerald-100 text-emerald-700 border-emerald-200",Pendente:"bg-slate-100 text-slate-600 border-slate-200","Em Negociao":"bg-amber-100 text-amber-700 border-amber-200",Rejeitado:"bg-red-100 text-red-700 border-red-200"};return y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${e[s]||e["A Fazer"]}`,children:s})},jn=s=>!s&&s!==0?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),mI=()=>Math.floor(1e5+Math.random()*9e5).toString(),mm=s=>s?s.toLowerCase().trim().replace(/\s+/g,"_"):"unknown";function pI(){const[s,e]=Oe.useState(null),[i,a]=Oe.useState("landing"),[o,c]=Oe.useState("dashboard"),[d,g]=Oe.useState([]),[b,_]=Oe.useState([]),[S,x]=Oe.useState([]),[V,K]=Oe.useState({}),[ee,ae]=Oe.useState(!0),[re,ge]=Oe.useState(!1),[Ce,be]=Oe.useState(!1),[ot,pt]=Oe.useState(!1),[Qe,I]=Oe.useState(!1),[w,R]=Oe.useState(!1),[k,D]=Oe.useState(""),[j,C]=Oe.useState({open:!1,clientName:"",currentCredits:0}),[Ke,St]=Oe.useState({isOpen:!1,title:"",message:"",onConfirm:null,variant:"danger",confirmText:"Confirmar"}),[G,te]=Oe.useState(null),[de,Ue]=Oe.useState(null),[Xe,M]=Oe.useState(""),[F,se]=Oe.useState(null),[ue,_e]=Oe.useState(""),[W,xe]=Oe.useState(null),[kt,$e]=Oe.useState(!1),[Mi,Vi]=Oe.useState(!1),[rs,_i]=Oe.useState(!1),[Ln,js]=Oe.useState(""),[ki,Lr]=Oe.useState(""),[Us,wt]=Oe.useState(""),[Rt,vi]=Oe.useState([]),[qt,ti]=Oe.useState({name:"",address:"",phone:"",email:"",photoUrl:"",credits:0,useCredits:!1}),[le,yt]=Oe.useState({title:"",isExistingClient:!0,clientName:"",clientPhone:"",clientEmail:"",clientAddress:"",value:"",discount:"",description:"",date:new Date().toISOString().split("T")[0],items:[],autoRegisterClient:!1,clientPhotoUrl:""}),[it,wn]=Oe.useState({title:"",description:"",clientName:"",value:"",category:"Geral",status:"A Fazer",type:"task",date:new Date().toISOString().split("T")[0],startTime:"",endTime:"",priority:"Mdia",manualProgress:0,budgetNumber:""});Oe.useEffect(()=>{(async()=>{if(!_l.currentUser)try{await U0(_l)}catch(ie){console.error("Auth initialization error",ie)}})();const Z=Rw(_l,ie=>{e(ie),ie&&ie.email&&i==="landing"&&ji(ie.email)});return()=>Z()},[i]);const ji=T=>{if(!T)return;const Z=Go(Wn(De,"artifacts",ke,"public","data","tracking_portal"),lI("clientEmail","==",T));return yl(Z,Ae=>{const Me=Ae.docs.map(Ve=>({id:Ve.id,...Ve.data()}));Me.sort((Ve,Ot)=>(Ot.lastUpdate?.seconds||0)-(Ve.lastUpdate?.seconds||0)),vi(Me)})};Oe.useEffect(()=>{if(!s||i!=="manager")return;const T=Go(Wn(De,"artifacts",ke,"users",s.uid,"planner_tasks"),fm("createdAt","desc")),Z=yl(T,_t=>g(_t.docs.map(dt=>({id:dt.id,...dt.data()})))),ie=Go(Wn(De,"artifacts",ke,"users",s.uid,"planner_clients_db"),fm("name")),Ae=yl(ie,_t=>_(_t.docs.map(dt=>({id:dt.id,...dt.data()})))),Me=Go(Wn(De,"artifacts",ke,"users",s.uid,"planner_budgets"),fm("createdAt","desc")),Ve=yl(Me,_t=>x(_t.docs.map(dt=>({id:dt.id,...dt.data()})))),Ot=Go(Wn(De,"artifacts",ke,"users",s.uid,"planner_clients")),ln=yl(Ot,_t=>{const dt={};_t.docs.forEach(gn=>{dt[gn.id]=gn.data()}),K(dt)});return()=>{Z(),Ae(),Ve(),ln()}},[s,i]);const Fl=T=>{const Z=document.createElement("textarea");Z.value=T,document.body.appendChild(Z),Z.select(),document.execCommand("copy"),document.body.removeChild(Z),alert("Copiado!")},Ui=({title:T,message:Z,onConfirm:ie,variant:Ae="danger",confirmText:Me="Confirmar"})=>{St({isOpen:!0,title:T,message:Z,onConfirm:ie,variant:Ae,confirmText:Me})},Na=async()=>{const T=new Ns;$e(!0);try{await $w(_l,T)}catch(Z){console.error("Erro no login Google:",Z),Z.code==="auth/unauthorized-domain"?alert("Aviso: O domnio atual no est autorizado para login com Google. Por favor, utilize o Cdigo de Acesso para testar."):alert(`Erro ao conectar com Google: ${Z.message}`)}finally{$e(!1)}},Ra=async()=>{await Iw(_l),vi([]),xe(null),U0(_l)},xn=(T=null)=>{T?(te(T.id),ti({name:T.name||"",address:T.address||"",phone:T.phone||"",email:T.email||"",photoUrl:T.photoUrl||"",credits:T.credits||0,useCredits:T.useCredits||!1})):(te(null),ti({name:"",address:"",phone:"",email:"",photoUrl:"",credits:0,useCredits:!1})),be(!0)},en=async T=>{T.preventDefault();try{if(G?await Xt(lt(De,"artifacts",ke,"users",s.uid,"planner_clients_db",G),qt):await gl(Wn(De,"artifacts",ke,"users",s.uid,"planner_clients_db"),{...qt,createdAt:Lt()}),qt.useCredits){const Z=mm(qt.name);await Qo(lt(De,"artifacts",ke,"users",s.uid,"planner_clients",Z),{name:qt.name,credits:Number(qt.credits),useCredits:!0,lastUpdate:Lt()},{merge:!0})}be(!1)}catch(Z){console.error(Z)}},Cn=T=>{Ui({title:"Excluir Cliente",message:"Esta ao  irreversvel.",onConfirm:async()=>await Kv(lt(De,"artifacts",ke,"users",s.uid,"planner_clients_db",T))})},xt=async(T,Z)=>{if(!s)return;const ie=mm(T);try{await Qo(lt(De,"artifacts",ke,"users",s.uid,"planner_clients",ie),{name:T,credits:Number(Z),useCredits:!0,lastUpdate:Lt()},{merge:!0})}catch(Ae){console.error(Ae)}},zr=(T=null)=>{T?(te(T.id),yt({...T,isExistingClient:!0,title:T.title||"",clientName:T.clientName||"",value:T.value!==void 0?T.value:"",discount:T.discount!==void 0?T.discount:"",description:T.description||"",date:T.date||new Date().toISOString().split("T")[0],items:T.items||[],clientPhone:T.clientPhone||"",clientEmail:T.clientEmail||"",clientAddress:T.clientAddress||"",clientPhotoUrl:T.clientPhotoUrl||"",autoRegisterClient:!1})):(te(null),yt({title:"",isExistingClient:!0,clientName:"",value:"",discount:"",description:"",date:new Date().toISOString().split("T")[0],items:[],autoRegisterClient:!1,clientPhone:"",clientEmail:"",clientAddress:"",clientPhotoUrl:""})),pt(!0)},Ps=()=>yt({...le,items:[...le.items,{id:Date.now(),description:"",quantity:1,price:0}]}),Ls=(T,Z,ie)=>{const Ae=le.items.map(Me=>Me.id===T?{...Me,[Z]:ie}:Me);yt({...le,items:Ae})},ni=T=>yt({...le,items:le.items.filter(Z=>Z.id!==T)}),Pi=T=>T?T.reduce((Z,ie)=>Z+ie.quantity*ie.price,0):0,It=async T=>{T.preventDefault();try{const Z=Pi(le.items);let ie=!le.isExistingClient;!le.isExistingClient&&le.autoRegisterClient&&(await gl(Wn(De,"artifacts",ke,"users",s.uid,"planner_clients_db"),{name:le.clientName,address:le.clientAddress||"",phone:le.clientPhone||"",email:le.clientEmail||"",photoUrl:le.clientPhotoUrl||"",createdAt:Lt(),origin:"budget_auto_register"}),ie=!1);const Ae={title:le.title,clientName:le.clientName,value:Z,discount:Number(le.discount)||0,items:le.items,description:le.description,clientAddress:le.clientAddress||"",clientPhone:le.clientPhone||"",clientEmail:le.clientEmail||"",clientPhotoUrl:le.clientPhotoUrl||""};if(G){const Me=lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",G);if(await Xt(Me,Ae),le.trackingCode){const Ve=lt(De,"artifacts",ke,"public","data","tracking_portal",le.trackingCode);await Xt(Ve,{...Ae,lastUpdate:Lt()})}}else{const Me=mI(),Ve=Math.random().toString(36).substring(2,8).toUpperCase(),Ot={...Ae,budgetNumber:Me,status:"Pendente",trackingCode:Ve,isTempClient:ie,createdAt:Lt()},ln=await gl(Wn(De,"artifacts",ke,"users",s.uid,"planner_budgets"),Ot);await Qo(lt(De,"artifacts",ke,"public","data","tracking_portal",Ve),{...Ot,providerName:"Planner Pro Services",ownerId:s.uid,type:"budget",budgetId:ln.id,lastUpdate:Lt()}),D(Ve),R(!0)}pt(!1)}catch(Z){console.error(Z)}},Nn=(T=null)=>{T?(te(T.id),wn({...T,title:T.title||"",description:T.description||"",clientName:T.clientName||"",value:T.value!==void 0?T.value:"",category:T.category||"Geral",status:T.status||"A Fazer",type:T.type||"service",date:T.date||new Date().toISOString().split("T")[0],startTime:T.startTime||"",endTime:T.endTime||"",priority:T.priority||"Mdia",manualProgress:T.manualProgress||0,budgetNumber:T.budgetNumber||""})):(te(null),wn({title:"",description:"",clientName:"",value:"",category:"Geral",status:"A Fazer",type:"service",date:new Date().toISOString().split("T")[0],startTime:"",endTime:"",priority:"Mdia",manualProgress:0,budgetNumber:""})),ge(!0)},ii=async T=>{if(T.preventDefault(),!(!s||!it.title))try{if(G){const Z=lt(De,"artifacts",ke,"users",s.uid,"planner_tasks",G);if(await Xt(Z,it),it.trackingCode){const ie=lt(De,"artifacts",ke,"public","data","tracking_portal",it.trackingCode);await Xt(ie,{...it,lastUpdate:Lt()})}}else{let Z=it.status;it.type==="service"&&Z==="A Fazer"&&(Z="Triagem");const ie=it.type==="service"?Math.random().toString(36).substring(2,8).toUpperCase():null,Ae={...it,status:Z,trackingCode:ie,createdAt:Lt()},Me=await gl(Wn(De,"artifacts",ke,"users",s.uid,"planner_tasks"),Ae);if(it.type==="service"&&ie){const Ve={...it,status:Z,providerName:"Planner Pro Services",ownerId:s.uid,taskId:Me.id,lastUpdate:Lt()};await Qo(lt(De,"artifacts",ke,"public","data","tracking_portal",ie),Ve),D(ie),R(!0)}}ge(!1)}catch(Z){console.error(Z)}},zn=async T=>{try{await gl(Wn(De,"artifacts",ke,"users",s.uid,"planner_clients_db"),{name:T.clientName,address:T.clientAddress||"",phone:T.clientPhone||"",email:T.clientEmail||"",photoUrl:T.clientPhotoUrl||"",createdAt:Lt(),origin:"budget_conversion"}),await Xt(lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",T.id),{isTempClient:!1}),alert(`Cliente ${T.clientName} cadastrado com sucesso!`)}catch{alert("Erro ao salvar cliente.")}},Gl=T=>{Ui({title:"Aprovar Oramento",message:"Criar novo servio a partir deste oramento?",variant:"success",confirmText:"Sim, Criar Servio",onConfirm:async()=>{const ie=(T.items?T.items.reduce((ln,_t)=>ln+_t.quantity*_t.price,0):Number(T.value)||0)-(Number(T.discount)||0),Ae=Math.random().toString(36).substring(2,8).toUpperCase(),Me={title:T.title,description:T.description,clientName:T.clientName,value:ie,items:T.items||[],category:"Geral",status:"Triagem",type:"service",priority:"Mdia",manualProgress:0,trackingCode:Ae,budgetNumber:T.budgetNumber,createdAt:Lt()},Ve=await gl(Wn(De,"artifacts",ke,"users",s.uid,"planner_tasks"),Me),Ot={...Me,providerName:"Planner Pro Services",ownerId:s.uid,taskId:Ve.id,lastUpdate:Lt()};await Qo(lt(De,"artifacts",ke,"public","data","tracking_portal",Ae),Ot),await Xt(lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",T.id),{status:"Aprovado"}),T.trackingCode&&await Xt(lt(De,"artifacts",ke,"public","data","tracking_portal",T.trackingCode),{status:"Aprovado"}),alert("Servio criado!"),c("pipeline")}})},Ia=async(T,Z,ie)=>{const Ae=lt(De,"artifacts",ke,"users",s.uid,"planner_tasks",T);await Xt(Ae,{[Z]:ie});const Me=d.find(Ve=>Ve.id===T);if(Me&&Me.trackingCode){const Ve=lt(De,"artifacts",ke,"public","data","tracking_portal",Me.trackingCode);await Xt(Ve,{[Z]:ie,lastUpdate:Lt()})}},si=T=>Ui({title:"Cancelar Servio",message:"Mover para cancelados?",onConfirm:async()=>{await Ia(T,"status","Cancelado")}}),as=T=>Ui({title:"Excluir Oramento",message:"Excluir permanentemente?",onConfirm:async()=>{await Kv(lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",T))}}),zs=(T,Z)=>{const ie=b.find(Me=>Me.name.toLowerCase()===T.clientName?.toLowerCase()),Ae={type:Z,clientName:T.clientName,clientAddress:ie?.address||T.clientAddress||"Endereo no cadastrado",clientPhone:ie?.phone||T.clientPhone||"",clientEmail:ie?.email||T.clientEmail||"",clientPhoto:ie?.photoUrl||T.clientPhotoUrl||null,title:T.title,description:T.description,value:T.value,discount:T.discount||0,items:T.items||[],budgetNumber:T.budgetNumber||"N/A",date:new Date().toLocaleDateString("pt-BR"),issueDate:new Date().toLocaleDateString("pt-BR")};se(Ae),I(!0)},ls=async T=>{if(!Xe.trim())return;const Z=lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",T.id),ie=lt(De,"artifacts",ke,"public","data","tracking_portal",T.trackingCode),Ae={adminResponse:Xe,lastUpdate:Lt()};await Xt(Z,Ae),await Xt(ie,Ae),Ue(null),M(""),alert("Resposta enviada ao cliente!")},Br=async T=>{Ui({title:"Aceitar Oferta do Cliente",message:`Deseja aceitar a oferta de ${jn(T.clientProposalValue)}? O valor ser atualizado e o desconto removido.`,confirmText:"Aceitar Oferta",variant:"success",onConfirm:async()=>{const Z=lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",T.id),ie=lt(De,"artifacts",ke,"public","data","tracking_portal",T.trackingCode),Ae={value:Number(T.clientProposalValue),discount:0,status:"Pendente",lastUpdate:Lt()};await Xt(Z,Ae),await Xt(ie,Ae),alert("Oferta aceita! O oramento foi atualizado.")}})},qr=async T=>{const Z=lt(De,"artifacts",ke,"users",s.uid,"planner_budgets",T.id),ie=lt(De,"artifacts",ke,"public","data","tracking_portal",T.trackingCode);await Xt(Z,{status:"Pendente",clientProposal:null,clientProposalValue:null}),await Xt(ie,{status:"Pendente",clientProposal:null,clientProposalValue:null}),alert("Proposta recusada. Oramento voltou ao original.")},os=async T=>{T.preventDefault();const Z=ue.trim().toUpperCase();if(Z&&btoa(Z)===dI){a("manager"),_e(""),xe(null);return}$e(!0),xe(null),Vi(!1),_i(!1);try{const ie=lt(De,"artifacts",ke,"public","data","tracking_portal",Z),Ae=yl(ie,Me=>{Me.exists()?xe({id:Me.id,...Me.data()}):xe("not-found"),$e(!1)})}catch{xe("error"),$e(!1)}},Bn=async(T,Z="",ie=0)=>{if(!(!W||!W.ownerId)){$e(!0);try{const Ae=lt(De,"artifacts",ke,"public","data","tracking_portal",W.id),Me=lt(De,"artifacts",ke,"users",W.ownerId,"planner_budgets",W.budgetId);let Ve={};if(T==="approve"){Ve={status:"Aprovado"};const Ot=hI(De);Ot.update(Me,{status:"Aprovado"});const _t=(W.items?W.items.reduce((us,Fn)=>us+Fn.quantity*Fn.price,0):Number(W.value)||0)-(Number(W.discount)||0),dt=Math.random().toString(36).substring(2,8).toUpperCase(),gn=lt(Wn(De,"artifacts",ke,"users",W.ownerId,"planner_tasks")),Ct={title:W.title,description:W.description,clientName:W.clientName,value:_t,items:W.items||[],category:"Geral",status:"Triagem",type:"service",priority:"Mdia",manualProgress:0,trackingCode:dt,budgetNumber:W.budgetNumber,createdAt:Lt()};Ot.set(gn,Ct);const Hr={...W,...Ct,type:"service",taskId:gn.id,status:"Triagem",lastUpdate:Lt()};if(Ot.set(Ae,Hr),W.isTempClient){const us=lt(Wn(De,"artifacts",ke,"users",W.ownerId,"planner_clients_db"));Ot.set(us,{name:W.clientName,address:W.clientAddress||"",phone:W.clientPhone||"",email:W.clientEmail||"",photoUrl:W.clientPhotoUrl||"",createdAt:Lt(),origin:"budget_auto_conversion"}),Ot.update(Me,{isTempClient:!1})}await Ot.commit(),alert("Parabns! Oramento aprovado e projeto iniciado.")}else T==="reject"?(Ve={status:"Rejeitado"},await Xt(Ae,{...Ve,lastUpdate:Lt()}),await Xt(Me,Ve)):T==="proposal"&&(Ve={status:"Em Negociao",clientProposal:Z,clientProposalValue:ie},await Xt(Ae,{...Ve,lastUpdate:Lt()}),await Xt(Me,Ve));_i(!1),js(""),wt("")}catch(Ae){console.error("Erro:",Ae),alert("Erro ao processar ao. Tente novamente.")}finally{$e(!1)}}},Da=()=>y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsx(Ji,{className:"p-4 flex flex-col justify-between h-32 border-l-4 border-l-lime-500",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Faturamento"}),y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mt-1",children:jn(d.reduce((T,Z)=>T+(Z.status==="Concludo"||Z.status==="Entregue"?Number(Z.value):0),0))})]}),y.jsx("div",{className:"p-2 bg-lime-50 rounded-lg text-lime-600",children:y.jsx(KA,{size:20})})]})}),y.jsx(Ji,{className:"p-4 flex flex-col justify-between h-32 border-l-4 border-l-blue-500",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Projetos Ativos"}),y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mt-1",children:d.filter(T=>T.status!=="Concludo"&&T.status!=="Cancelado").length})]}),y.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-600",children:y.jsx(Xd,{size:20})})]})}),y.jsx(Ji,{className:"p-4 flex flex-col justify-between h-32 border-l-4 border-l-amber-500",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Oramentos Pendentes"}),y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mt-1",children:S.filter(T=>T.status==="Pendente").length})]}),y.jsx("div",{className:"p-2 bg-amber-50 rounded-lg text-amber-600",children:y.jsx(m0,{size:20})})]})}),y.jsx(Ji,{className:"p-4 flex flex-col justify-between h-32 border-l-4 border-l-indigo-500",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Total Clientes"}),y.jsx("h3",{className:"text-2xl font-bold text-slate-800 mt-1",children:b.length})]}),y.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:y.jsx(y0,{size:20})})]})})]}),y.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[y.jsxs(Ji,{className:"p-6",children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800",children:[y.jsx(c0,{size:18,className:"text-amber-500"})," Ateno Necessria"]}),y.jsxs("div",{className:"space-y-3",children:[d.filter(T=>T.priority==="Alta"&&T.status!=="Concludo").length===0&&y.jsx("p",{className:"text-sm text-slate-400",children:"Nenhuma tarefa urgente."}),d.filter(T=>T.priority==="Alta"&&T.status!=="Concludo").map(T=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl border border-red-100",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-red-900",children:T.title}),y.jsxs("p",{className:"text-xs text-red-600",children:[T.clientName,"  ",T.status]})]}),y.jsx(je,{variant:"ghost",onClick:()=>Nn(T),className:"text-red-500 hover:text-red-700 hover:bg-red-100",children:y.jsx($d,{size:16})})]},T.id))]})]}),y.jsxs(Ji,{className:"p-6",children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800",children:[y.jsx(fA,{size:18,className:"text-blue-500"})," Entregas Prximas"]}),y.jsxs("div",{className:"space-y-3",children:[d.filter(T=>T.endTime&&new Date(T.endTime)>new Date).sort((T,Z)=>new Date(T.endTime)-new Date(Z.endTime)).slice(0,3).map(T=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-slate-800",children:T.title}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Entrega: ",new Date(T.endTime).toLocaleDateString()]})]}),y.jsx(Yo,{status:T.status})]},T.id)),d.filter(T=>T.endTime&&new Date(T.endTime)>new Date).length===0&&y.jsx("p",{className:"text-sm text-slate-400",children:"Nenhuma entrega agendada."})]})]})]})]}),qn=()=>y.jsxs(Ji,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Meus Clientes"}),y.jsx(je,{onClick:()=>xn(),icon:g0,children:"Novo Cliente"})]}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-sm text-slate-500 border-b border-slate-100",children:[y.jsx("th",{className:"pb-3 pl-2",children:"Nome"}),y.jsx("th",{className:"pb-3",children:"Contato"}),y.jsx("th",{className:"pb-3 text-center",children:"Crditos"}),y.jsx("th",{className:"pb-3 text-right pr-2",children:"Aes"})]})}),y.jsx("tbody",{children:b.map(T=>{const Z=V[mm(T.name)],ie=Z?Z.credits:0;return y.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50/50 group",children:[y.jsxs("td",{className:"py-3 pl-2 flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden",children:T.photoUrl?y.jsx("img",{src:T.photoUrl,className:"w-full h-full object-cover"}):y.jsx(WA,{size:16,className:"m-2 text-slate-400"})}),y.jsx("span",{className:"font-medium text-slate-700",children:T.name})]}),y.jsxs("td",{className:"py-3 text-sm text-slate-500",children:[y.jsx("div",{children:T.email}),y.jsx("div",{children:T.phone})]}),y.jsx("td",{className:"py-3 text-center",children:T.useCredits?y.jsxs("button",{onClick:()=>C({open:!0,clientName:T.name,currentCredits:ie}),className:"px-3 py-1 bg-indigo-50 text-indigo-600 rounded-full text-xs font-bold hover:bg-indigo-100 transition-colors flex items-center gap-1 mx-auto",children:[y.jsx(d0,{size:12})," ",ie]}):y.jsx("span",{className:"text-slate-300",children:"-"})}),y.jsx("td",{className:"py-3 text-right pr-2",children:y.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx(je,{variant:"ghost",onClick:()=>xn(T),className:"p-1",children:y.jsx($d,{size:16})}),y.jsx(je,{variant:"ghost",onClick:()=>Cn(T.id),className:"p-1 text-red-400 hover:text-red-600",children:y.jsx(Wd,{size:16})})]})})]},T.id)})})]}),b.length===0&&y.jsx("div",{className:"text-center py-10 text-slate-400",children:"Nenhum cliente cadastrado."})]})]}),Hn=()=>y.jsxs(Ji,{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Oramentos"}),y.jsx(je,{onClick:()=>zr(),icon:Jd,children:"Novo Oramento"})]}),y.jsxs("div",{className:"grid gap-4",children:[S.map(T=>y.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 hover:border-lime-300 transition-all bg-white relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h3",{className:"font-bold text-slate-800",children:T.title}),y.jsxs("span",{className:"text-xs bg-slate-100 text-slate-500 px-2 py-0.5 rounded font-mono",children:["#",T.budgetNumber]})]}),y.jsxs("p",{className:"text-sm text-slate-500",children:[T.clientName,"  ",new Date(T.createdAt?.seconds*1e3).toLocaleDateString()]})]}),y.jsx(Yo,{status:T.status})]}),y.jsxs("div",{className:"flex justify-between items-end mt-4",children:[y.jsx("p",{className:"text-lg font-bold text-slate-700",children:jn(T.value)}),y.jsxs("div",{className:"flex gap-2",children:[T.status==="Pendente"&&y.jsxs(y.Fragment,{children:[y.jsx(je,{variant:"ghost",onClick:()=>{D(T.trackingCode),R(!0)},className:"text-lime-600 bg-lime-50 hover:bg-lime-100",title:"Compartilhar Link",children:y.jsx(BA,{size:18})}),y.jsx(je,{variant:"ghost",onClick:()=>Gl(T),className:"text-blue-600 bg-blue-50 hover:bg-blue-100",title:"Aprovar e Criar Projeto",children:y.jsx(h0,{size:18})})]}),T.status==="Em Negociao"&&y.jsxs("div",{className:"flex flex-col items-end",children:[de===T.id?y.jsxs("div",{className:"absolute right-0 bottom-12 bg-white shadow-xl p-3 rounded-xl border border-slate-200 z-10 w-64",children:[y.jsx("p",{className:"text-xs font-bold text-slate-500 mb-1",children:"Responder Proposta"}),y.jsx("textarea",{className:"w-full text-sm border p-2 rounded mb-2",rows:2,placeholder:"Sua resposta...",value:Xe,onChange:Z=>M(Z.target.value)}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx(je,{variant:"ghost",className:"text-xs h-8",onClick:()=>Ue(null),children:"Cancelar"}),y.jsx(je,{className:"text-xs h-8 px-3",onClick:()=>ls(T),children:"Enviar"})]})]}):null,y.jsxs("div",{className:"flex gap-2",children:[y.jsx(je,{variant:"ghost",onClick:()=>qr(T),className:"text-red-500 bg-red-50 hover:bg-red-100",title:"Recusar Proposta",children:y.jsx(f0,{size:18})}),y.jsx(je,{variant:"ghost",onClick:()=>Ue(T.id),className:"text-blue-500 bg-blue-50 hover:bg-blue-100",title:"Responder",children:y.jsx(NA,{size:18})}),y.jsx(je,{variant:"ghost",onClick:()=>Br(T),className:"text-emerald-500 bg-emerald-50 hover:bg-emerald-100",title:"Aceitar Oferta",children:y.jsx(h0,{size:18})})]})]}),y.jsx("div",{className:"h-6 w-px bg-slate-200 mx-1"}),y.jsx(je,{variant:"ghost",onClick:()=>zr(T),className:"p-2",children:y.jsx($d,{size:18})}),y.jsx(je,{variant:"ghost",onClick:()=>zn(T),className:"p-2 text-indigo-500",title:"Salvar como Cliente",children:y.jsx(g0,{size:18})}),y.jsx(je,{variant:"ghost",onClick:()=>zs(T,"budget"),className:"p-2 text-slate-500",title:"Imprimir",children:y.jsx(Zd,{size:18})}),y.jsx(je,{variant:"ghost",onClick:()=>as(T.id),className:"p-2 text-red-400 hover:text-red-600",children:y.jsx(Wd,{size:18})})]})]}),T.status==="Em Negociao"&&T.clientProposal&&y.jsxs("div",{className:"mt-3 bg-amber-50 p-3 rounded-lg border border-amber-100 text-sm",children:[y.jsxs("p",{className:"font-bold text-amber-800 flex items-center gap-2",children:[y.jsx($A,{size:14})," Proposta do Cliente:"]}),y.jsxs("p",{className:"text-slate-700 italic",children:['"',T.clientProposal,'"']}),T.clientProposalValue&&y.jsxs("p",{className:"font-bold text-emerald-600 mt-1",children:["Oferta: ",jn(T.clientProposalValue)]})]})]},T.id)),S.length===0&&y.jsx("div",{className:"text-center py-10 text-slate-400",children:"Nenhum oramento criado."})]})]}),Dt=()=>{const T=["Triagem","Anlise","Execuo","Reviso","Entregue","Concludo"];return y.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 h-[calc(100vh-140px)] items-start",children:T.map(Z=>y.jsxs("div",{className:"min-w-[300px] w-[300px] bg-slate-100 rounded-2xl p-3 flex flex-col h-full",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3 px-1",children:[y.jsx("h3",{className:"font-bold text-slate-700",children:Z}),y.jsx("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full font-bold",children:d.filter(ie=>ie.status===Z).length})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 custom-scrollbar pr-1",children:[d.filter(ie=>ie.status===Z).map(ie=>y.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-all cursor-pointer group",onClick:()=>Nn(ie),children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded uppercase font-bold tracking-wider ${ie.priority==="Alta"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:ie.priority}),ie.status==="Alterao"&&y.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded font-bold animate-pulse",children:"Reviso Solicitada"})]}),y.jsx("h4",{className:"font-bold text-slate-800 mb-1 leading-tight",children:ie.title}),y.jsx("p",{className:"text-xs text-slate-500 mb-3",children:ie.clientName}),y.jsx("div",{className:"w-full bg-slate-100 h-1.5 rounded-full mb-3 overflow-hidden",children:y.jsx("div",{className:`h-full rounded-full ${ie.manualProgress>=100?"bg-emerald-500":"bg-indigo-500"}`,style:{width:`${ie.manualProgress}%`}})}),y.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-50",children:[y.jsx("span",{className:"text-xs font-bold text-slate-700",children:jn(ie.value)}),y.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),zs(ie,"receipt")},className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-slate-600",children:y.jsx(Zd,{size:14})}),Z!=="Concludo"&&y.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),si(ie.id)},className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-500",children:y.jsx(f0,{size:14})})]})]})]},ie.id)),Z==="Triagem"&&y.jsxs("button",{onClick:()=>Nn(),className:"w-full py-3 border-2 border-dashed border-slate-300 rounded-xl text-slate-400 hover:border-lime-500 hover:text-lime-600 hover:bg-lime-50 transition-all font-bold text-sm flex items-center justify-center gap-2",children:[y.jsx(Jd,{size:16})," Novo Projeto"]})]})]},Z))})},Ht=()=>y.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans",children:[y.jsxs("nav",{className:"bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center sticky top-0 z-30 shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:"https://d2tfco5ldvlr4r.cloudfront.net/profile/210x210/erickanderson.png?m=1644328770120",alt:"Erick",className:"w-10 h-10 rounded-full border-2 border-slate-200 object-cover shadow-sm"}),y.jsxs("span",{className:"font-bold text-xl text-slate-800",children:["Planner Erick ",y.jsx("span",{className:"text-lime-600",children:"Pro"})]})]}),s&&s.email&&y.jsx(je,{variant:"ghost",onClick:Ra,className:"text-sm",children:"Sair"})]}),y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 pb-12 bg-slate-50",children:[!W&&!s?.email&&y.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl shadow-xl border border-slate-200 p-8 transform hover:scale-[1.01] transition-all duration-300",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4 text-slate-600 shadow-sm border border-slate-200",children:y.jsx(SA,{size:32})}),y.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"rea do Cliente"}),y.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Acesse seus projetos e oramentos."})]}),y.jsxs("form",{onSubmit:os,className:"space-y-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1 ml-1",children:"Cdigo de Acesso"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:y.jsx(p0,{size:20})}),y.jsx("input",{type:"text",placeholder:"Digite seu cdigo",className:"w-full pl-12 pr-4 py-4 rounded-xl bg-slate-50 border border-slate-200 text-slate-800 placeholder:text-slate-400 outline-none focus:ring-2 focus:ring-slate-400 focus:border-transparent transition-all font-mono text-lg tracking-wider",value:ue,onChange:T=>_e(T.target.value)})]})]}),y.jsx(je,{type:"submit",className:"w-full py-4 text-lg shadow-lg shadow-slate-300 rounded-xl bg-slate-900 text-white hover:bg-slate-800",children:kt?"Entrando...":"Entrar"})]}),y.jsxs("div",{className:"relative mb-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-slate-200"})}),y.jsx("div",{className:"relative flex justify-center text-sm",children:y.jsx("span",{className:"px-2 bg-white text-slate-500",children:"ou"})})]}),y.jsxs(je,{variant:"google",onClick:Na,className:"w-full py-3 flex items-center justify-center gap-2 rounded-xl border border-slate-300 hover:bg-slate-50 text-slate-700 shadow-sm",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),y.jsx("div",{className:"mt-8 pt-4 border-t border-slate-100 text-center",children:y.jsx("a",{href:"#",onClick:T=>{T.preventDefault(),alert("Link de contato/vendas")},className:"text-sm text-slate-500 hover:text-slate-800 transition-colors underline decoration-slate-300 underline-offset-4",children:"Ainda no sou cliente"})})]}),W==="not-found"&&y.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-100 rounded-xl text-red-600 text-sm flex items-center justify-center gap-2 animate-fadeIn max-w-md w-full",children:[y.jsx(c0,{size:16})," Cdigo invlido. Tente novamente."]}),s?.email&&!W&&y.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Ol, ",s.displayName||s.email,"!"]}),y.jsx("p",{className:"text-slate-500",children:"Selecione um projeto para visualizar os detalhes."})]}),Rt.length===0?y.jsxs(Ji,{className:"p-10 text-center",children:[y.jsx("div",{className:"text-slate-400 mb-4",children:y.jsx(Xd,{size:48,className:"mx-auto opacity-20"})}),y.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Nenhum projeto encontrado"}),y.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:["No encontramos servios vinculados ao email ",y.jsx("strong",{children:s.email}),"."]}),y.jsx("p",{className:"text-xs text-slate-400 mt-4",children:"Tente acessar usando o cdigo manual se o email for diferente."})]}):y.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Rt.map(T=>y.jsxs(Ji,{className:"p-6 cursor-pointer hover:border-slate-400 transition-all group",onClick:()=>xe(T),children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx(Yo,{status:T.status}),y.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["#",T.budgetNumber||"N/A"]})]}),y.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1 group-hover:text-slate-600 transition-colors",children:T.title}),y.jsx("p",{className:"text-sm text-slate-500 mb-4",children:T.type==="service"?"Projeto em Andamento":"Oramento"}),y.jsxs("div",{className:"flex items-center text-xs text-slate-400 gap-2",children:[y.jsx(yA,{size:14}),"Atualizado em: ",T.lastUpdate?new Date(T.lastUpdate.seconds*1e3).toLocaleDateString():"Recentemente"]})]},T.id))})]}),W&&W!=="not-found"&&W!=="error"&&y.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-3xl shadow-xl border border-slate-200 p-8 animate-fadeIn mt-4 relative",children:[y.jsx("button",{onClick:()=>xe(null),className:"absolute top-6 right-6 p-2 bg-slate-50 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:y.jsx(nS,{size:20})}),W.type==="budget"&&y.jsxs("div",{className:"text-center p-4",children:[y.jsx(Yo,{status:W.status}),y.jsx("h2",{className:"text-3xl font-bold mt-4 mb-2 text-slate-800",children:W.title}),y.jsxs("p",{className:"text-slate-400 mb-8",children:["Oramento para ",W.clientName]}),y.jsx(je,{variant:"outline",className:"mt-4 w-full py-4 text-lg border-2",onClick:()=>zs(W,"budget"),children:" Acessar Documento Oficial"}),W.status==="Pendente"&&!rs&&y.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8 pt-8 border-t border-slate-100",children:[y.jsx("button",{onClick:()=>Bn("reject"),className:"p-4 rounded-2xl bg-red-50 text-red-600 font-bold hover:bg-red-100 transition-colors",children:"Rejeitar"}),y.jsx("button",{onClick:()=>_i(!0),className:"p-4 rounded-2xl bg-amber-50 text-amber-600 font-bold hover:bg-amber-100 transition-colors",children:"Nova Proposta"}),y.jsx("button",{onClick:()=>Bn("approve"),className:"p-4 rounded-2xl bg-emerald-50 text-emerald-600 font-bold hover:bg-emerald-100 transition-colors",children:"Aprovar Agora"})]}),rs&&y.jsxs("div",{className:"mt-8 bg-amber-50 p-6 rounded-3xl border border-amber-100 animate-fadeIn text-left",children:[y.jsx("h4",{className:"font-bold text-amber-800 mb-3 text-lg",children:"Sua Contraproposta"}),y.jsxs("div",{className:"bg-white rounded-xl p-4 mb-4 border border-amber-200 max-h-40 overflow-y-auto",children:[y.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Itens do Oramento"}),W.items&&W.items.map((T,Z)=>y.jsxs("div",{className:"flex justify-between text-sm text-slate-600 mb-1 border-b border-slate-50 last:border-0 pb-1",children:[y.jsxs("span",{children:[T.quantity,"x ",T.description]}),y.jsx("span",{children:jn(T.price*T.quantity)})]},Z)),y.jsxs("div",{className:"mt-2 text-right font-bold text-slate-800",children:["Total Original: ",jn(W.items?W.items.reduce((T,Z)=>T+Z.quantity*Z.price,0):0)]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-bold text-amber-800 mb-1",children:"Sua Oferta (R$)"}),y.jsx("input",{type:"number",className:"w-full p-3 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500 text-lg font-bold text-amber-900 bg-white",placeholder:"0,00",value:Us,onChange:T=>wt(T.target.value)}),y.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"* Insira o valor total que deseja pagar pelos servios acima."})]}),y.jsx("label",{className:"block text-sm font-bold text-amber-800 mb-1",children:"Mensagem / Justificativa"}),y.jsx("textarea",{className:"w-full p-4 border-0 rounded-2xl h-24 mb-4 focus:ring-2 focus:ring-amber-400 bg-white",placeholder:"Justifique sua proposta...",value:Ln,onChange:T=>js(T.target.value)}),y.jsxs("div",{className:"flex gap-3 justify-end",children:[y.jsx(je,{variant:"secondary",onClick:()=>_i(!1),children:"Cancelar"}),y.jsx(je,{variant:"warning",icon:LA,onClick:()=>Bn("proposal",Ln,Us),children:"Enviar Proposta"})]})]}),W.adminResponse&&y.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-xl border border-blue-100 text-left",children:[y.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase mb-1",children:"Resposta do Planner:"}),y.jsxs("p",{className:"text-sm text-slate-700",children:['"',W.adminResponse,'"']})]})]}),W.type==="service"&&y.jsxs("div",{className:"text-center p-4",children:[y.jsx(Yo,{status:W.status}),y.jsx("h2",{className:"text-3xl font-bold mt-4 mb-2 text-slate-800",children:W.title}),y.jsxs("div",{className:"my-8",children:[y.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:[y.jsx("span",{children:"Progresso"}),y.jsxs("span",{children:[W.manualProgress||0,"%"]})]}),y.jsx("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-slate-800 rounded-full transition-all duration-1000",style:{width:`${W.manualProgress||0}%`}})})]}),W.status==="Entregue"&&!Mi&&y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 pt-8 border-t border-slate-100",children:[y.jsxs("button",{onClick:()=>Vi(!0),className:"p-4 rounded-2xl bg-amber-50 text-amber-600 font-bold hover:bg-amber-100 transition-colors flex items-center justify-center gap-2",children:[y.jsx(UA,{})," Solicitar Alterao"]}),y.jsxs("button",{onClick:()=>updateServiceStatusByClient("Concludo"),className:"p-4 rounded-2xl bg-emerald-50 text-emerald-600 font-bold hover:bg-emerald-100 transition-colors flex items-center justify-center gap-2",children:[y.jsx(GA,{})," Aprovar Servio"]})]}),Mi&&y.jsxs("div",{className:"mt-8 bg-white p-6 rounded-3xl border-2 border-amber-100 animate-fadeIn text-left shadow-xl",children:[y.jsx("h4",{className:"font-bold text-amber-800 mb-3 text-lg",children:"O que precisa ser ajustado?"}),y.jsx("textarea",{className:"w-full p-4 border border-slate-200 rounded-2xl h-32 mb-4 focus:ring-2 focus:ring-amber-400 bg-slate-50",placeholder:"Descreva os ajustes necessrios...",value:ki,onChange:T=>Lr(T.target.value)}),y.jsxs("div",{className:"flex gap-3 justify-end",children:[y.jsx(je,{variant:"secondary",onClick:()=>Vi(!1),children:"Cancelar"}),y.jsx(je,{variant:"warning",onClick:()=>updateServiceStatusByClient("Alterao",ki),children:"Enviar Solicitao"})]})]}),y.jsx("div",{className:"mt-8 pt-8 border-t border-slate-100",children:y.jsx(je,{variant:"outline",className:"w-full py-4 text-slate-400 hover:text-slate-600 border-dashed",onClick:()=>zs(W,"receipt"),children:" Ver Detalhes do Projeto"})})]})]})]})]});return y.jsxs(y.Fragment,{children:[i==="landing"?Ht():y.jsxs("div",{className:"flex h-screen bg-slate-50 font-sans text-slate-900 overflow-hidden",children:[y.jsxs("aside",{className:"w-20 lg:w-64 bg-white border-r border-slate-200 flex flex-col z-20",children:[y.jsxs("div",{className:"h-16 flex items-center justify-center lg:justify-start lg:px-6 border-b border-slate-100",children:[y.jsx("img",{src:"https://d2tfco5ldvlr4r.cloudfront.net/profile/210x210/erickanderson.png?m=1644328770120",alt:"Erick",className:"w-10 h-10 rounded-full border-2 border-lime-500 object-cover"}),y.jsxs("span",{className:"ml-3 font-bold text-xl hidden lg:block text-slate-800",children:["Planner Erick ",y.jsx("span",{className:"text-lime-500",children:"Pro"})]})]}),y.jsxs("nav",{className:"flex-1 py-6 px-3 space-y-2",children:[y.jsxs("button",{onClick:()=>c("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="dashboard"?"bg-lime-50 text-lime-600":"text-slate-500 hover:bg-slate-50"}`,children:[y.jsx(OA,{size:22}),y.jsx("span",{className:"hidden lg:block",children:"Viso Geral"})]}),y.jsxs("button",{onClick:()=>c("clients"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="clients"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:[y.jsx(y0,{size:22}),y.jsx("span",{className:"hidden lg:block",children:"Clientes DB"})]}),y.jsxs("button",{onClick:()=>c("budgets"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="budgets"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:[y.jsx(m0,{size:22}),y.jsx("span",{className:"hidden lg:block",children:"Oramentos"})]}),y.jsxs("button",{onClick:()=>c("pipeline"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="pipeline"?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:[y.jsx(Xd,{size:22}),y.jsx("span",{className:"hidden lg:block",children:"Projetos"})]})]}),y.jsx("div",{className:"p-4 border-t border-slate-100",children:y.jsxs("button",{onClick:()=>a("landing"),className:"w-full flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 rounded-xl transition-all",children:[y.jsx(xA,{size:20}),y.jsx("span",{className:"hidden lg:block",children:"Sair"})]})})]}),y.jsx("main",{className:"flex-1 flex flex-col min-w-0 bg-slate-50/50",children:y.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:y.jsxs("div",{className:"max-w-7xl mx-auto h-full",children:[o==="dashboard"&&y.jsx(Da,{}),o==="clients"&&y.jsx(qn,{}),o==="budgets"&&y.jsx(Hn,{}),o==="pipeline"&&y.jsx(Dt,{})]})})})]}),Ce&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:G?"Editar Cliente":"Novo Cliente"}),y.jsxs("form",{onSubmit:en,className:"space-y-4",children:[y.jsx("input",{required:!0,placeholder:"Nome Completo",className:"w-full border p-2 rounded",value:qt.name,onChange:T=>ti({...qt,name:T.target.value})}),y.jsx("input",{placeholder:"URL da Foto (opcional)",className:"w-full border p-2 rounded",value:qt.photoUrl,onChange:T=>ti({...qt,photoUrl:T.target.value})}),y.jsx("input",{required:!0,placeholder:"Endereo Completo",className:"w-full border p-2 rounded",value:qt.address,onChange:T=>ti({...qt,address:T.target.value})}),y.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[y.jsx("input",{placeholder:"Telefone",className:"w-full border p-2 rounded",value:qt.phone,onChange:T=>ti({...qt,phone:T.target.value})}),y.jsx("input",{placeholder:"Email",className:"w-full border p-2 rounded",value:qt.email,onChange:T=>ti({...qt,email:T.target.value})})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsx(je,{type:"button",variant:"secondary",onClick:()=>be(!1),className:"flex-1",children:"Cancelar"}),y.jsx(je,{type:"submit",className:"flex-1",children:"Salvar"})]})]})]})}),ot&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:G?"Editar Oramento":"Novo Oramento"}),y.jsxs("form",{onSubmit:It,className:"space-y-4",children:[!G&&y.jsxs("div",{className:"flex flex-col gap-3 p-3 bg-slate-50 rounded-xl border border-slate-200 mb-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-bold text-slate-700",children:"O cliente j possui cadastro?"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{type:"button",onClick:()=>yt({...le,isExistingClient:!0}),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-colors ${le.isExistingClient?"bg-lime-600 text-white shadow-sm":"bg-white text-slate-600 border border-slate-200"}`,children:"Sim"}),y.jsx("button",{type:"button",onClick:()=>yt({...le,isExistingClient:!1}),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-colors ${le.isExistingClient?"bg-white text-slate-600 border border-slate-200":"bg-lime-600 text-white shadow-lg"}`,children:"No"})]})]}),!le.isExistingClient&&y.jsx("div",{className:"pt-3 border-t border-slate-200 animate-fadeIn",children:y.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[y.jsx("input",{type:"checkbox",id:"autoRegister",className:"w-4 h-4 text-lime-600 rounded-md focus:ring-0",checked:le.autoRegisterClient||!1,onChange:T=>yt({...le,autoRegisterClient:T.target.checked})}),y.jsx("label",{htmlFor:"autoRegister",className:"text-sm text-slate-700 font-medium cursor-pointer",children:"Salvar automaticamente no Banco de Clientes"})]})})]}),le.isExistingClient?y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("select",{className:"w-full border p-2 rounded",value:le.clientName,onChange:T=>yt({...le,clientName:T.target.value}),children:[y.jsx("option",{value:"",children:"Selecione um Cliente"}),b.map(T=>y.jsx("option",{value:T.name,children:T.name},T.id))]}),y.jsx("input",{required:!0,placeholder:"Ttulo do Oramento",className:"w-full border p-2 rounded",value:le.title,onChange:T=>yt({...le,title:T.target.value})})]}):y.jsxs("div",{className:"space-y-3 p-3 bg-slate-50 border border-slate-200 rounded-lg",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{required:!0,placeholder:"Nome do Cliente",className:"w-full border p-2 rounded",value:le.clientName,onChange:T=>yt({...le,clientName:T.target.value})}),y.jsx("input",{required:!0,placeholder:"Ttulo do Oramento",className:"w-full border p-2 rounded",value:le.title,onChange:T=>yt({...le,title:T.target.value})})]}),y.jsx("input",{placeholder:"Endereo",className:"w-full border p-2 rounded",value:le.clientAddress,onChange:T=>yt({...le,clientAddress:T.target.value})}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{placeholder:"Telefone",className:"w-full border p-2 rounded",value:le.clientPhone,onChange:T=>yt({...le,clientPhone:T.target.value})}),y.jsx("input",{placeholder:"Email",className:"w-full border p-2 rounded",value:le.clientEmail,onChange:T=>yt({...le,clientEmail:T.target.value})})]}),y.jsx("input",{placeholder:"URL da Foto (opcional)",className:"w-full border p-2 rounded",value:le.clientPhotoUrl,onChange:T=>yt({...le,clientPhotoUrl:T.target.value})})]}),y.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("h4",{className:"font-bold text-sm text-slate-700 flex items-center gap-2",children:[y.jsx(HA,{size:16})," Produtos / Servios"]}),y.jsx(je,{type:"button",onClick:Ps,variant:"outline",className:"text-xs px-2 py-1",children:"+ Adicionar Item"})]}),y.jsxs("div",{className:"space-y-2",children:[le.items.length===0&&y.jsx("p",{className:"text-xs text-slate-400 text-center py-2",children:"Nenhum item adicionado."}),le.items.map((T,Z)=>y.jsxs("div",{className:"flex gap-2 items-center",children:[y.jsxs("span",{className:"text-xs text-slate-400 w-4",children:[Z+1,"."]}),y.jsx("input",{placeholder:"Descrio do item",className:"flex-1 border p-1.5 rounded text-sm",value:T.description,onChange:ie=>Ls(T.id,"description",ie.target.value)}),y.jsx("input",{type:"number",placeholder:"Qtd",className:"w-16 border p-1.5 rounded text-sm text-center",value:T.quantity,onChange:ie=>Ls(T.id,"quantity",Number(ie.target.value))}),y.jsx("input",{type:"number",placeholder:"Preo",className:"w-24 border p-1.5 rounded text-sm text-right",value:T.price,onChange:ie=>Ls(T.id,"price",Number(ie.target.value))}),y.jsx("button",{type:"button",onClick:()=>ni(T.id),className:"text-red-400 hover:text-red-600 p-1",children:y.jsx(Wd,{size:16})})]},T.id))]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex justify-end items-center gap-4",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("span",{className:"text-slate-500 mr-2",children:"Desconto (R$):"}),y.jsx("input",{type:"number",className:"border p-1 rounded w-24 text-right",value:le.discount,onChange:T=>yt({...le,discount:T.target.value})})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Total Final"}),y.jsx("p",{className:"text-xl font-bold text-emerald-600",children:jn(Pi(le.items)-(Number(le.discount)||0))})]})]})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsx(je,{type:"button",variant:"secondary",onClick:()=>pt(!1),className:"flex-1",children:"Cancelar"}),y.jsx(je,{type:"submit",className:"flex-1",children:"Salvar"})]})]})]})}),re&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 overflow-y-auto max-h-[90vh]",children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:G?"Editar Projeto":"Novo Projeto"}),y.jsxs("form",{onSubmit:ii,className:"space-y-4",children:[y.jsxs("select",{className:"w-full border p-2 rounded-lg bg-white",value:it.clientName,onChange:T=>wn({...it,clientName:T.target.value}),children:[y.jsx("option",{value:"",children:"Selecione o Cliente"}),b.map(T=>y.jsx("option",{value:T.name,children:T.name},T.id))]}),y.jsx("input",{required:!0,placeholder:"Ttulo do Servio",className:"w-full border p-2 rounded-lg",value:it.title,onChange:T=>wn({...it,title:T.target.value})}),y.jsx("input",{type:"number",placeholder:"Valor (R$)",className:"w-full border p-2 rounded-lg",value:it.value,onChange:T=>wn({...it,value:T.target.value})}),y.jsx("textarea",{placeholder:"Descrio",className:"w-full border p-2 rounded-lg h-20",value:it.description,onChange:T=>wn({...it,description:T.target.value})}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Incio"}),y.jsx("input",{type:"datetime-local",className:"w-full border p-2 rounded-lg text-sm",value:it.startTime,onChange:T=>wn({...it,startTime:T.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Entrega"}),y.jsx("input",{type:"datetime-local",className:"w-full border p-2 rounded-lg text-sm",value:it.endTime,onChange:T=>wn({...it,endTime:T.target.value})})]})]}),y.jsxs("div",{className:"flex gap-2 mt-4",children:[y.jsx(je,{type:"button",variant:"secondary",onClick:()=>ge(!1),className:"flex-1",children:"Cancelar"}),y.jsx(je,{type:"submit",className:"flex-1",children:"Salvar"})]})]})]})}),Ke.isOpen&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6 animate-fadeIn",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:Ke.title}),y.jsx("p",{className:"text-slate-600 mb-6",children:Ke.message}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(je,{type:"button",variant:"secondary",onClick:()=>St({...Ke,isOpen:!1}),className:"flex-1",children:"Cancelar"}),y.jsx(je,{type:"button",variant:Ke.variant,onClick:()=>{Ke.onConfirm(),St({...Ke,isOpen:!1})},className:"flex-1",children:Ke.confirmText})]})]})}),Qe&&F&&y.jsxs("div",{className:"fixed inset-0 bg-white z-[300] flex flex-col overflow-auto p-8",children:[y.jsxs("div",{className:"max-w-3xl mx-auto w-full border border-black p-10 font-serif text-black relative",id:"printable-area",children:[y.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-6",children:[y.jsx("h1",{className:"text-4xl font-bold uppercase tracking-widest",children:F.type==="budget"?"Oramento":"Nota de Servio"}),y.jsxs("p",{className:"text-sm mt-2",children:["N: ",y.jsxs("strong",{children:["#",F.budgetNumber]})]}),y.jsxs("p",{className:"text-sm",children:["Data: ",F.issueDate]})]}),y.jsxs("div",{className:"mb-8 p-4 border border-black rounded flex justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold border-b border-black mb-2 uppercase text-sm w-max",children:"Dados do Cliente"}),y.jsxs("div",{className:"flex items-center gap-3",children:[F.clientPhoto&&y.jsx("img",{src:F.clientPhoto,className:"w-12 h-12 rounded-full border border-slate-300 object-cover print:hidden"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-lg font-bold",children:F.clientName}),y.jsx("p",{children:F.clientAddress}),y.jsx("p",{children:F.clientPhone})]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("h3",{className:"font-bold border-b border-black mb-2 uppercase text-sm inline-block",children:"Referncia"}),y.jsx("p",{className:"font-bold",children:F.title})]})]}),F.items&&F.items.length>0?y.jsx("div",{className:"mb-8",children:y.jsxs("table",{className:"w-full text-sm border-collapse border border-black",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-100",children:[y.jsx("th",{className:"border border-black p-2 text-left",children:"Descrio"}),y.jsx("th",{className:"border border-black p-2 text-center w-20",children:"Qtd"}),y.jsx("th",{className:"border border-black p-2 text-right w-32",children:"Unit."}),y.jsx("th",{className:"border border-black p-2 text-right w-32",children:"Total"})]})}),y.jsx("tbody",{children:F.items.map((T,Z)=>y.jsxs("tr",{children:[y.jsx("td",{className:"border border-black p-2",children:T.description}),y.jsx("td",{className:"border border-black p-2 text-center",children:T.quantity}),y.jsx("td",{className:"border border-black p-2 text-right",children:jn(T.price)}),y.jsx("td",{className:"border border-black p-2 text-right",children:jn(T.quantity*T.price)})]},Z))})]})}):y.jsxs("div",{className:"mb-8 min-h-[100px] border border-black p-4",children:[y.jsx("h3",{className:"font-bold border-b border-black mb-2 uppercase text-sm w-max",children:"Descrio"}),y.jsx("p",{className:"whitespace-pre-line text-slate-800",children:F.description||"Servio prestado."})]}),y.jsx("div",{className:"flex justify-end mt-4 pt-4",children:y.jsx("div",{className:"text-right min-w-[250px]",children:F.items&&F.items.length>0?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between mb-1 text-sm",children:[y.jsx("span",{children:"Subtotal:"}),y.jsx("span",{className:"font-bold",children:jn(F.items.reduce((T,Z)=>T+Z.quantity*Z.price,0))})]}),F.discount>0&&y.jsxs("div",{className:"flex justify-between mb-2 text-sm text-red-600",children:[y.jsx("span",{children:"Desconto:"}),y.jsxs("span",{children:["- ",jn(F.discount)]})]}),y.jsxs("div",{className:"flex justify-between border-t-2 border-black pt-2 mt-2",children:[y.jsx("span",{className:"text-xl uppercase font-bold",children:"Total a Pagar"}),y.jsx("span",{className:"text-2xl font-bold",children:jn(F.items.reduce((T,Z)=>T+Z.quantity*Z.price,0)-(F.discount||0))})]})]}):y.jsxs("div",{className:"flex justify-between border-t-2 border-black pt-2 mt-2",children:[y.jsx("span",{className:"text-xl uppercase font-bold",children:"Total:"}),y.jsx("span",{className:"text-2xl font-bold",children:jn(F.value)})]})})}),y.jsx("div",{className:"mt-20 pt-8 border-t border-black text-center text-xs",children:y.jsx("p",{children:"Obrigado pela preferncia!"})})]}),y.jsxs("div",{className:"fixed top-4 right-4 flex gap-4 print:hidden",children:[y.jsx(je,{type:"button",variant:"secondary",onClick:()=>I(!1),children:"Fechar"}),y.jsx(je,{type:"button",onClick:()=>window.print(),icon:Zd,children:"Imprimir"})]}),y.jsx("style",{children:"@media print { .print\\:hidden { display: none; } body { background: white; } #printable-area { border: none; box-shadow: none; width: 100%; max-width: 100%; } }"})]}),j.open&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/30 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm p-6 animate-fadeIn text-center",children:[y.jsxs("h3",{className:"font-bold text-lg mb-4 text-slate-800 flex items-center gap-2",children:[y.jsx(d0,{className:"text-amber-500"})," Gerenciar Crditos"]}),y.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Ajustar saldo para ",y.jsx("strong",{children:j.clientName})]}),y.jsxs("div",{className:"flex items-center gap-4 justify-center mb-6",children:[y.jsx("button",{onClick:()=>C({...j,currentCredits:Math.max(0,Number(j.currentCredits)-1)}),className:"w-10 h-10 rounded-full bg-red-100 text-red-600 flex items-center justify-center hover:bg-red-200",children:y.jsx(IA,{size:20})}),y.jsx("input",{type:"number",className:"w-20 text-center text-2xl font-bold border-b-2 border-indigo-200 focus:border-indigo-500 outline-none",value:j.currentCredits,onChange:T=>C({...j,currentCredits:T.target.value})}),y.jsx("button",{onClick:()=>C({...j,currentCredits:Number(j.currentCredits)+1}),className:"w-10 h-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center hover:bg-emerald-200",children:y.jsx(Jd,{size:20})})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(je,{type:"button",variant:"secondary",onClick:()=>C({open:!1,clientName:"",currentCredits:0}),className:"flex-1",children:"Cancelar"}),y.jsx(je,{type:"button",onClick:()=>{xt(j.clientName,j.currentCredits),C({open:!1,clientName:"",currentCredits:0})},className:"flex-1",children:"Salvar"})]})]})}),w&&y.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm text-center animate-fadeIn border border-slate-100",children:[y.jsx("div",{className:"w-20 h-20 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-600 shadow-inner",children:y.jsx(p0,{size:40})}),y.jsx("h3",{className:"font-bold text-2xl text-slate-800 mb-2",children:"Acesso do Cliente"}),y.jsx("p",{className:"text-slate-500 mb-6 text-base leading-relaxed",children:"Envie o cdigo abaixo para seu cliente acessar o oramento e aprovar online:"}),y.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl flex items-center justify-between mb-8 border-2 border-slate-200 group hover:border-lime-500 transition-all cursor-pointer relative overflow-hidden",onClick:()=>Fl(k),title:"Clique para copiar",children:[y.jsx("div",{className:"absolute inset-0 bg-lime-50 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),y.jsx("span",{className:"font-mono text-4xl font-black text-slate-800 tracking-widest relative z-10",children:k}),y.jsx("button",{className:"text-slate-400 group-hover:text-lime-600 transition-colors relative z-10",children:y.jsx(bA,{size:24})})]}),y.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"O cliente deve digitar este cdigo na pgina inicial."}),y.jsx(je,{type:"button",onClick:()=>R(!1),className:"w-full justify-center py-4 text-lg bg-slate-900 hover:bg-slate-800 text-white shadow-xl",children:"Fechar"})]})}),y.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
      `})]})}sA.createRoot(document.getElementById("root")).render(y.jsx(Oe.StrictMode,{children:y.jsx(pI,{})}));
